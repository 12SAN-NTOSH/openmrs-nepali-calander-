/*! For license information please see 631.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_openmrs_esm_implementer_tools_app=globalThis.webpackChunk_openmrs_esm_implementer_tools_app||[]).push([[631],{2173:(e,t,n)=>{var r=n(5776),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},u=r.useState,a=r.useEffect,s=r.useLayoutEffect,o=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=u({inst:{value:n,getSnapshot:t}}),i=r[0].inst,d=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&d({inst:i})}),[e,n,t]),a((function(){return c(i)&&d({inst:i}),e((function(){c(i)&&d({inst:i})}))}),[e]),o(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},5917:(e,t,n)=>{var r=n(5776),i=n(1374),u="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,o=r.useEffect,c=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var l=s(null);if(null===l.current){var f={hasValue:!1,value:null};l.current=f}else f=l.current;l=c((function(){function e(e){if(!o){if(o=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,u(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,o=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var v=a(e,l[0],l[1]);return o((function(){f.hasValue=!0,f.value=v}),[v]),d(v),v}},1374:(e,t,n)=>{e.exports=n(2173)},5668:(e,t,n)=>{e.exports=n(5917)},8445:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(1230);const i=function(e){return(0,r.Z)(e,5)}},8403:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(3126),i=n(6812),u=n(4996),a=n(6575),s=n(6905),o=n(5008),c=n(9494),d=n(8485),l=Object.prototype.hasOwnProperty;const f=function(e){if(null==e)return!0;if((0,s.Z)(e)&&((0,a.Z)(e)||"string"==typeof e||"function"==typeof e.splice||(0,o.Z)(e)||(0,d.Z)(e)||(0,u.Z)(e)))return!e.length;var t=(0,i.Z)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,c.Z)(e))return!(0,r.Z)(e).length;for(var n in e)if(l.call(e,n))return!1;return!0}},988:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(8165);const i=function(e,t){return(0,r.Z)(e,t)}},9903:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(2363),i=n(8319),u=n(7106),a=n(9616),s=n(6205),o=n(5313),c=n(7275),d=n(199);const l=function(e,t,n,r){if(!(0,c.Z)(e))return e;for(var i=-1,u=(t=(0,s.Z)(t,e)).length,l=u-1,f=e;null!=f&&++i<u;){var v=(0,d.Z)(t[i]),E=n;if("__proto__"===v||"constructor"===v||"prototype"===v)return e;if(i!=l){var g=f[v];void 0===(E=r?r(g,v,f):void 0)&&(E=(0,c.Z)(g)?g:(0,o.Z)(t[i+1])?[]:{})}(0,a.Z)(f,v,E),f=f[v]}return e};var f=n(1325);const v=function(e,t){if(null==e)return{};var n=(0,r.Z)((0,f.Z)(e),(function(e){return[e]}));return t=(0,i.Z)(t),function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],c=(0,u.Z)(e,o);n(c,o)&&l(a,(0,s.Z)(o,e),c)}return a}(e,n,(function(e,n){return t(e,n[0])}))}},7474:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(131),i=0;const u=function(e){var t=++i;return(0,r.Z)(e)+t}},7268:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(9946);const i=function(e,t){return null==e||(0,r.Z)(e,t)}},4126:(e,t,n)=>{n.d(t,{ZP:()=>o});var r=n(5776),i=n(1374),u=n(7381);const a=r.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),s={dedupe:!0},o=(u.OBJECT.defineProperty(u.SWRConfig,"defaultValue",{value:u.defaultConfig}),(0,u.withArgs)(((e,t,n)=>{const{cache:o,compare:c,suspense:d,fallbackData:l,revalidateOnMount:f,revalidateIfStale:v,refreshInterval:E,refreshWhenHidden:g,refreshWhenOffline:p,keepPreviousData:h}=n,[S,b,R,Z]=u.SWRGlobalState.get(o),[_,V]=(0,u.serialize)(e),m=(0,r.useRef)(!1),y=(0,r.useRef)(!1),U=(0,r.useRef)(_),T=(0,r.useRef)(t),w=(0,r.useRef)(n),C=()=>w.current,O=()=>C().isVisible()&&C().isOnline(),[L,D,I,k]=(0,u.createCacheHelper)(o,_),A=(0,r.useRef)({}).current,N=(0,u.isUndefined)(l)?n.fallback[_]:l,j=(e,t)=>{for(const n in A){const r=n;if("data"===r){if(!c(e[r],t[r])){if(!(0,u.isUndefined)(e[r]))return!1;if(!c(Y,t[r]))return!1}}else if(t[r]!==e[r])return!1}return!0},x=(0,r.useMemo)((()=>{const e=!!_&&!!t&&((0,u.isUndefined)(f)?!C().isPaused()&&!d&&(!!(0,u.isUndefined)(v)||v):f),n=t=>{const n=(0,u.mergeObjects)(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},r=L(),i=k(),a=n(r),s=r===i?a:n(i);let o=a;return[()=>{const e=n(L());return j(e,o)?(o.data=e.data,o.isLoading=e.isLoading,o.isValidating=e.isValidating,o.error=e.error,o):(o=e,e)},()=>s]}),[o,_]),F=(0,i.useSyncExternalStore)((0,r.useCallback)((e=>I(_,((t,n)=>{j(n,t)||e()}))),[o,_]),x[0],x[1]),P=!m.current,M=S[_]&&S[_].length>0,W=F.data,G=(0,u.isUndefined)(W)?N:W,z=F.error,H=(0,r.useRef)(G),Y=h?(0,u.isUndefined)(W)?H.current:W:G,q=!(M&&!(0,u.isUndefined)(z))&&(P&&!(0,u.isUndefined)(f)?f:!C().isPaused()&&(d?!(0,u.isUndefined)(G)&&v:(0,u.isUndefined)(G)||v)),B=!!(_&&t&&P&&q),J=(0,u.isUndefined)(F.isValidating)?B:F.isValidating,K=(0,u.isUndefined)(F.isLoading)?B:F.isLoading,Q=(0,r.useCallback)((async e=>{const t=T.current;if(!_||!t||y.current||C().isPaused())return!1;let r,i,a=!0;const s=e||{},o=!R[_]||!s.dedupe,d=()=>u.IS_REACT_LEGACY?!y.current&&_===U.current&&m.current:_===U.current,l={isValidating:!1,isLoading:!1},f=()=>{D(l)},v=()=>{const e=R[_];e&&e[1]===i&&delete R[_]},E={isValidating:!0};(0,u.isUndefined)(L().data)&&(E.isLoading=!0);try{if(o&&(D(E),n.loadingTimeout&&(0,u.isUndefined)(L().data)&&setTimeout((()=>{a&&d()&&C().onLoadingSlow(_,n)}),n.loadingTimeout),R[_]=[t(V),(0,u.getTimestamp)()]),[r,i]=R[_],r=await r,o&&setTimeout(v,n.dedupingInterval),!R[_]||R[_][1]!==i)return o&&d()&&C().onDiscarded(_),!1;l.error=u.UNDEFINED;const e=b[_];if(!(0,u.isUndefined)(e)&&(i<=e[0]||i<=e[1]||0===e[1]))return f(),o&&d()&&C().onDiscarded(_),!1;const s=L().data;l.data=c(s,r)?s:r,o&&d()&&C().onSuccess(r,_,n)}catch(e){v();const t=C(),{shouldRetryOnError:n}=t;t.isPaused()||(l.error=e,o&&d()&&(t.onError(e,_,t),(!0===n||(0,u.isFunction)(n)&&n(e))&&O()&&t.onErrorRetry(e,_,t,(e=>{const t=S[_];t&&t[0]&&t[0](u.revalidateEvents.ERROR_REVALIDATE_EVENT,e)}),{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return a=!1,f(),!0}),[_,o]),X=(0,r.useCallback)(((...e)=>(0,u.internalMutate)(o,U.current,...e)),[]);if((0,u.useIsomorphicLayoutEffect)((()=>{T.current=t,w.current=n,(0,u.isUndefined)(W)||(H.current=W)})),(0,u.useIsomorphicLayoutEffect)((()=>{if(!_)return;const e=Q.bind(u.UNDEFINED,s);let t=0;const n=(0,u.subscribeCallback)(_,S,((n,r={})=>{if(n==u.revalidateEvents.FOCUS_EVENT){const n=Date.now();C().revalidateOnFocus&&n>t&&O()&&(t=n+C().focusThrottleInterval,e())}else if(n==u.revalidateEvents.RECONNECT_EVENT)C().revalidateOnReconnect&&O()&&e();else{if(n==u.revalidateEvents.MUTATE_EVENT)return Q();if(n==u.revalidateEvents.ERROR_REVALIDATE_EVENT)return Q(r)}}));return y.current=!1,U.current=_,m.current=!0,D({_k:V}),q&&((0,u.isUndefined)(G)||u.IS_SERVER?e():(0,u.rAF)(e)),()=>{y.current=!0,n()}}),[_]),(0,u.useIsomorphicLayoutEffect)((()=>{let e;function t(){const t=(0,u.isFunction)(E)?E(L().data):E;t&&-1!==e&&(e=setTimeout(n,t))}function n(){L().error||!g&&!C().isVisible()||!p&&!C().isOnline()?t():Q(s).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[E,g,p,_]),(0,r.useDebugValue)(Y),d&&(0,u.isUndefined)(G)&&_){if(!u.IS_REACT_LEGACY&&u.IS_SERVER)throw new Error("Fallback data is required when using suspense in SSR.");T.current=t,w.current=n,y.current=!1;const e=Z[_];if(!(0,u.isUndefined)(e)){const t=X(e);a(t)}if(!(0,u.isUndefined)(z))throw z;{const e=Q(s);(0,u.isUndefined)(Y)||(e.status="fulfilled",e.value=!0),a(e)}}return{mutate:X,get data(){return A.data=!0,Y},get error(){return A.error=!0,z},get isValidating(){return A.isValidating=!0,J},get isLoading(){return A.isLoading=!0,K}}})))},668:(e,t,n)=>{n.d(t,{oR:()=>a});var r=n(5776),i=n(5668);const{useSyncExternalStoreWithSelector:u}=i;function a(e,t=e.getState,n){const i=u(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return(0,r.useDebugValue)(i),i}}}]);