{"version":3,"file":"openmrs-esm-react-utils.js","mappings":"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","sources":["webpack://@openmrs/esm-react-utils/../../../node_modules/dayjs/plugin/isToday.js","webpack://@openmrs/esm-react-utils/../../../node_modules/react-dom/client.js","webpack://@openmrs/esm-react-utils/../esm-state/dist/openmrs-esm-state.js","webpack://@openmrs/esm-react-utils/../../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","webpack://@openmrs/esm-react-utils/../../../node_modules/use-sync-external-store/shim/index.js","webpack://@openmrs/esm-react-utils/external system \"@openmrs/esm-api\"","webpack://@openmrs/esm-react-utils/external system \"@openmrs/esm-config\"","webpack://@openmrs/esm-react-utils/external system \"@openmrs/esm-context\"","webpack://@openmrs/esm-react-utils/external system \"@openmrs/esm-extensions\"","webpack://@openmrs/esm-react-utils/external system \"@openmrs/esm-feature-flags\"","webpack://@openmrs/esm-react-utils/external system \"@openmrs/esm-globals\"","webpack://@openmrs/esm-react-utils/external system \"@openmrs/esm-navigation\"","webpack://@openmrs/esm-react-utils/external system \"@openmrs/esm-utils\"","webpack://@openmrs/esm-react-utils/external system \"dayjs\"","webpack://@openmrs/esm-react-utils/external system \"react\"","webpack://@openmrs/esm-react-utils/external system \"react-dom\"","webpack://@openmrs/esm-react-utils/external system \"react-i18next\"","webpack://@openmrs/esm-react-utils/external system \"swr\"","webpack://@openmrs/esm-react-utils/webpack/bootstrap","webpack://@openmrs/esm-react-utils/webpack/runtime/compat get default export","webpack://@openmrs/esm-react-utils/webpack/runtime/define property getters","webpack://@openmrs/esm-react-utils/webpack/runtime/hasOwnProperty shorthand","webpack://@openmrs/esm-react-utils/webpack/runtime/make namespace object","webpack://@openmrs/esm-react-utils/./src/ComponentContext.ts","webpack://@openmrs/esm-react-utils/./src/ConfigurableLink.tsx","webpack://@openmrs/esm-react-utils/./src/Extension.tsx","webpack://@openmrs/esm-react-utils/./src/useConnectivity.ts","webpack://@openmrs/esm-react-utils/./src/useStore.ts","webpack://@openmrs/esm-react-utils/./src/useExtensionStore.ts","webpack://@openmrs/esm-react-utils/./src/useAssignedExtensions.ts","webpack://@openmrs/esm-react-utils/./src/useConnectedExtensions.ts","webpack://@openmrs/esm-react-utils/./src/useExtensionSlot.ts","webpack://@openmrs/esm-react-utils/./src/ExtensionSlot.tsx","webpack://@openmrs/esm-react-utils/./src/UserHasAccess.tsx","webpack://@openmrs/esm-react-utils/../../../node_modules/single-spa-react/lib/esm/single-spa-react.js","webpack://@openmrs/esm-react-utils/./src/openmrsComponentDecorator.tsx","webpack://@openmrs/esm-react-utils/./src/getLifecycle.ts","webpack://@openmrs/esm-react-utils/./src/useDefineAppContext.ts","webpack://@openmrs/esm-react-utils/./src/OpenmrsContext.ts","webpack://@openmrs/esm-react-utils/./src/useAbortController.ts","webpack://@openmrs/esm-react-utils/./src/useAppContext.ts","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_listCacheClear.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/eq.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_assocIndexOf.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_listCacheDelete.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_ListCache.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_listCacheGet.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_listCacheHas.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_listCacheSet.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_freeGlobal.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_root.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_Symbol.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_getRawTag.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_objectToString.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_baseGetTag.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/isObject.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/isFunction.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_coreJsData.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_isMasked.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_toSource.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_baseIsNative.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_getNative.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_getValue.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_Map.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_nativeCreate.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_hashGet.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_hashHas.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_Hash.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_hashClear.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_hashDelete.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_hashSet.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_getMapData.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_isKeyable.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_MapCache.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_mapCacheClear.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_mapCacheDelete.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_mapCacheGet.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_mapCacheHas.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_mapCacheSet.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_Stack.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_stackClear.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_stackDelete.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_stackGet.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_stackHas.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_stackSet.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_SetCache.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_setCacheAdd.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_setCacheHas.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_arraySome.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_cacheHas.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_equalArrays.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_Uint8Array.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_mapToArray.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_setToArray.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_equalByTag.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/isArray.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_getSymbols.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_arrayFilter.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/stubArray.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/isObjectLike.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_baseIsArguments.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/isArguments.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/isBuffer.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/stubFalse.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_isIndex.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/isLength.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_baseIsTypedArray.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_nodeUtil.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/isTypedArray.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_baseUnary.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_arrayLikeKeys.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_baseTimes.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_isPrototype.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_nativeKeys.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_overArg.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_baseKeys.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/keys.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/isArrayLike.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_getAllKeys.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_baseGetAllKeys.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_arrayPush.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_equalObjects.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_DataView.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_Promise.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_Set.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_WeakMap.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_getTag.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_baseIsEqualDeep.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/_baseIsEqual.js","webpack://@openmrs/esm-react-utils/../../../node_modules/lodash-es/isEqual.js","webpack://@openmrs/esm-react-utils/./src/useAssignedExtensionIds.ts","webpack://@openmrs/esm-react-utils/./src/useAttachments.ts","webpack://@openmrs/esm-react-utils/./src/useBodyScrollLock.ts","webpack://@openmrs/esm-react-utils/./src/useConfig.ts","webpack://@openmrs/esm-react-utils/./src/useDebounce.ts","webpack://@openmrs/esm-react-utils/./src/useExtensionInternalStore.ts","webpack://@openmrs/esm-react-utils/./src/useExtensionSlotMeta.ts","webpack://@openmrs/esm-react-utils/./src/useFeatureFlag.ts","webpack://@openmrs/esm-react-utils/./src/useForceUpdate.ts","webpack://@openmrs/esm-react-utils/./src/useLayoutType.ts","webpack://@openmrs/esm-react-utils/./src/usePatient.ts","webpack://@openmrs/esm-react-utils/./src/useLocations.tsx","webpack://@openmrs/esm-react-utils/./src/useOnClickOutside.ts","webpack://@openmrs/esm-react-utils/./src/useOpenmrsSWR.ts","webpack://@openmrs/esm-react-utils/./src/useSession.ts","webpack://@openmrs/esm-react-utils/./src/useRenderableExtensions.tsx","webpack://@openmrs/esm-react-utils/./src/useVisit.ts","webpack://@openmrs/esm-react-utils/./src/useVisitTypes.ts","webpack://@openmrs/esm-react-utils/./src/usePagination.ts","webpack://@openmrs/esm-react-utils/./src/usePrimaryIdentifierResource.ts","webpack://@openmrs/esm-react-utils/./src/useServerPagination.ts","webpack://@openmrs/esm-react-utils/../../../node_modules/swr/_internal/dist/index.mjs","webpack://@openmrs/esm-react-utils/../../../node_modules/swr/infinite/dist/index.mjs","webpack://@openmrs/esm-react-utils/./src/useServerInfinite.ts"],"sourcesContent":["!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=o():\"function\"==typeof define&&define.amd?define(o):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_isToday=o()}(this,(function(){\"use strict\";return function(e,o,t){o.prototype.isToday=function(){var e=\"YYYY-MM-DD\",o=t();return this.format(e)===o.format(e)}}}));","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","System.register([],(function(e,t){return{execute:function(){e((()=>{\"use strict\";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},t={};e.r(t),e.d(t,{createGlobalStore:()=>a,getGlobalStore:()=>i,registerGlobalStore:()=>u,subscribeTo:()=>c});const r=e=>{let t;const r=new Set,n=(e,n)=>{const o=\"function\"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=n?n:\"object\"!=typeof o)?o:Object.assign({},t,o),r.forEach((r=>r(t,e)))}},o=()=>t,a={setState:n,getState:o,subscribe:e=>(r.add(e),()=>r.delete(e)),destroy:()=>{console.warn(\"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"),r.clear()}};return t=e(n,o,a),a},n=e=>e?r(e):r;var o={};function a(e,t){var r=o[e];if(r)return r.active?console.error(\"Cannot override an existing store. Make sure that stores are only created once.\"):r.value.setState(t,!0),r.active=!0,r.value;var a=n()((function(){return t}));return o[e]={value:a,active:!0},a}function u(e,t){var r=o[e];return r?(r.active?console.error(\"Cannot override an existing store. Make sure that stores are only created once.\"):r.value=t,r.active=!0,r.value):(o[e]={value:t,active:!0},t)}function i(e,t){var r=o[e];if(!r){var a=n()((function(){return null!=t?t:{}}));return o[e]={value:a,active:!1},a}return r.value}function c(e,t,r){var n=t(e.getState());return e.subscribe((function(e){var o=t(e);o!==n&&(n=o,r(o))}))}return setTimeout((function(){\"development\"===window.spaEnv&&(window.stores=o)}),1e3),t})())}}}));\n//# sourceMappingURL=openmrs-esm-state.js.map","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__766__;","module.exports = __WEBPACK_EXTERNAL_MODULE__824__;","module.exports = __WEBPACK_EXTERNAL_MODULE__743__;","module.exports = __WEBPACK_EXTERNAL_MODULE__45__;","module.exports = __WEBPACK_EXTERNAL_MODULE__708__;","module.exports = __WEBPACK_EXTERNAL_MODULE__728__;","module.exports = __WEBPACK_EXTERNAL_MODULE__513__;","module.exports = __WEBPACK_EXTERNAL_MODULE__618__;","module.exports = __WEBPACK_EXTERNAL_MODULE__688__;","module.exports = __WEBPACK_EXTERNAL_MODULE__954__;","module.exports = __WEBPACK_EXTERNAL_MODULE__493__;","module.exports = __WEBPACK_EXTERNAL_MODULE__281__;","module.exports = __WEBPACK_EXTERNAL_MODULE__725__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React from 'react';\n\nexport interface ExtensionData {\n  extensionSlotName: string;\n  extensionSlotModuleName: string;\n  extensionId: string;\n}\n\nexport interface ComponentConfig {\n  moduleName: string;\n  featureName: string;\n  extension?: ExtensionData;\n}\n\n/**\n * Available to all components. Provided by `openmrsComponentDecorator`.\n */\nexport const ComponentContext = React.createContext<ComponentConfig>({\n  moduleName: '',\n  featureName: '',\n});\n","/** @module @category Navigation */\nimport React, { type MouseEvent, type AnchorHTMLAttributes, type PropsWithChildren, useEffect } from 'react';\nimport type { TemplateParams } from '@openmrs/esm-navigation';\nimport { navigate, interpolateUrl } from '@openmrs/esm-navigation';\n\nfunction handleClick(\n  event: MouseEvent,\n  to: string,\n  templateParams?: TemplateParams,\n  onBeforeNavigate?: (event: MouseEvent) => void,\n) {\n  // Left click without modifiers (normal navigation)\n  if (event.button === 0 && !event.ctrlKey && !event.shiftKey && !event.altKey && !event.metaKey) {\n    event.preventDefault();\n    onBeforeNavigate?.(event);\n    navigate({ to, templateParams });\n  }\n\n  // Left click with Ctrl key (or Cmd key on Mac) - Open in new tab\n  if (event.button === 0 && (event.ctrlKey || event.metaKey)) {\n    onBeforeNavigate?.(event);\n  }\n\n  // Left click with Shift key - Open in new window\n  if (event.button === 0 && event.shiftKey) {\n    onBeforeNavigate?.(event);\n  }\n\n  // Middle click - Open in new background tab\n  if (event.button === 1) {\n    onBeforeNavigate?.(event);\n  }\n}\n\n/**\n * @noInheritDoc\n */\nexport interface ConfigurableLinkProps extends AnchorHTMLAttributes<HTMLAnchorElement> {\n  to: string;\n  templateParams?: TemplateParams;\n  onBeforeNavigate?: (event: MouseEvent) => void;\n}\n\n/**\n * A React link component which calls [[navigate]] when clicked\n *\n * @param to The target path or URL. Supports interpolation. See [[navigate]]\n * @param templateParams: A dictionary of values to interpolate into the URL, in addition to the default keys `openmrsBase` and `openmrsSpaBase`.\n * @param onBeforeNavigate A callback to be called just before navigation occurs\n * @param children Inline elements within the link\n * @param otherProps Any other valid props for an <a> tag except `href` and `onClick`\n */\nexport function ConfigurableLink({\n  to,\n  templateParams,\n  onBeforeNavigate,\n  children,\n  ...otherProps\n}: PropsWithChildren<ConfigurableLinkProps>) {\n  useEffect(() => {\n    if (otherProps.href) {\n      console.warn(\n        `ConfigurableLink does not support the href prop. Use the 'to' prop instead. The provided href value is '${otherProps.href}'`,\n      );\n    }\n    if (otherProps.onClick) {\n      console.warn(\n        `ConfigurableLink does not support the onClick prop. Use the 'onBeforeNavigate' prop instead. The 'to' prop of the offending link is ${to}`,\n      );\n    }\n  }, []);\n  return (\n    <a\n      onClick={(event) => handleClick(event, to, templateParams, onBeforeNavigate)}\n      href={interpolateUrl(to, templateParams)}\n      {...otherProps}\n    >\n      {children}\n    </a>\n  );\n}\n","/** @module @category Extension */\nimport { renderExtension } from '@openmrs/esm-extensions';\nimport React, { useCallback, useContext, useEffect, useRef, useState, type ReactElement } from 'react';\nimport type { Parcel } from 'single-spa';\nimport { ComponentContext } from '.';\nimport type { ExtensionData } from './ComponentContext';\n\nexport type ExtensionProps = {\n  state?: Record<string, any>;\n  /** @deprecated Pass a function as the child of `ExtensionSlot` instead. */\n  wrap?(slot: React.ReactNode, extension: ExtensionData): ReactElement<any, any> | null;\n} & Omit<React.HTMLAttributes<HTMLDivElement>, 'children'> & {\n    children?: React.ReactNode | ((slot: React.ReactNode, extension?: ExtensionData) => React.ReactNode);\n  };\n\n/**\n * Represents the position in the DOM where each extension within\n * an extension slot is rendered.\n *\n * Renders once for each extension attached to that extension slot.\n *\n * Usage of this component *must* have an ancestor `<ExtensionSlot>`,\n * and *must* only be used once within that `<ExtensionSlot>`.\n */\nexport const Extension: React.FC<ExtensionProps> = ({ state, children, wrap, ...divProps }) => {\n  const [domElement, setDomElement] = useState<HTMLDivElement>();\n  const { extension } = useContext(ComponentContext);\n  const parcel = useRef<Parcel | null>(null);\n  const updatePromise = useRef<Promise<void>>(Promise.resolve());\n  const rendering = useRef<boolean>(false);\n\n  useEffect(() => {\n    if (wrap) {\n      console.warn(\n        `'wrap' prop of Extension is being used ${\n          extension?.extensionId ? `by ${extension.extensionId} in ${extension.extensionSlotName}` : ''\n        }. This will be removed in a future release.`,\n      );\n    }\n    // we only warn when component mounts\n  }, []);\n\n  const ref = useCallback(\n    (node: HTMLDivElement) => {\n      setDomElement(node);\n    },\n    [setDomElement],\n  );\n\n  useEffect(() => {\n    if (\n      domElement != null &&\n      extension?.extensionSlotName &&\n      extension.extensionSlotModuleName &&\n      extension.extensionSlotModuleName &&\n      !parcel.current &&\n      !rendering.current\n    ) {\n      rendering.current = true;\n      renderExtension(\n        domElement,\n        extension.extensionSlotName,\n        extension.extensionSlotModuleName,\n        extension.extensionId,\n        undefined,\n        state,\n      ).then((newParcel) => {\n        parcel.current = newParcel;\n        rendering.current = false;\n      });\n\n      return () => {\n        if (parcel && parcel.current) {\n          const status = parcel.current.getStatus();\n          switch (status) {\n            case 'MOUNTING':\n              parcel.current.mountPromise.then(() => {\n                if (parcel.current?.getStatus() === 'MOUNTED') {\n                  parcel.current.unmount();\n                }\n              });\n              break;\n            case 'MOUNTED':\n              parcel.current.unmount();\n              break;\n            case 'UPDATING':\n              if (updatePromise.current) {\n                updatePromise.current.then(() => {\n                  if (parcel.current?.getStatus() === 'MOUNTED') {\n                    parcel.current.unmount();\n                  }\n                });\n              }\n          }\n        }\n      };\n    }\n\n    // we intentionally do not re-run this hook if state gets updated\n    // state updates are handled in the next useEffect hook\n  }, [extension?.extensionSlotName, extension?.extensionId, extension?.extensionSlotModuleName, domElement]);\n\n  useEffect(() => {\n    if (parcel.current && parcel.current.update && parcel.current.getStatus() !== 'UNMOUNTING') {\n      Promise.all([parcel.current.mountPromise, updatePromise.current]).then(() => {\n        if (parcel?.current?.getStatus() === 'MOUNTED' && parcel.current.update) {\n          updatePromise.current = parcel.current.update({ ...state }).catch((err) => {\n            // if we were trying to update but the component was unmounted\n            // while this was happening, ignore the error\n            if (\n              !(err instanceof Error) ||\n              !err.message.includes('minified message #32') ||\n              parcel.current?.getStatus() === 'MOUNTED'\n            ) {\n              throw err;\n            }\n          });\n        }\n      });\n    }\n  }, [state]);\n\n  // The extension is rendered into the `<div>`. The `<div>` has relative\n  // positioning in order to allow the UI Editor to absolutely position\n  // elements within it.\n  const slot = (\n    <div ref={ref} data-extension-id={extension?.extensionId} style={{ position: 'relative' }} {...divProps} />\n  );\n\n  if (typeof children === 'function' && !React.isValidElement(children)) {\n    return <>{children(slot, extension)}</>;\n  }\n\n  return extension && wrap ? wrap(slot, extension) : slot;\n};\n","/** @module @category Offline */\nimport { subscribeConnectivityChanged } from '@openmrs/esm-globals';\nimport { isOnline as isOnlineFn } from '@openmrs/esm-utils';\nimport { useEffect, useState } from 'react';\n\nexport function useConnectivity() {\n  let [isOnline, setIsOnline] = useState(isOnlineFn());\n\n  useEffect(() => subscribeConnectivityChanged(({ online }) => setIsOnline(online)), []);\n\n  return isOnline;\n}\n","/** @module @category Store */\nimport { subscribeTo } from '@openmrs/esm-state';\nimport { useEffect, useMemo, useState } from 'react';\nimport type { StoreApi } from 'zustand';\n\nexport type ActionFunction<T> = (state: T, ...args: any[]) => Partial<T>;\nexport type Actions<T> =\n  | ((store: StoreApi<T>) => Record<string, ActionFunction<T>>)\n  | Record<string, ActionFunction<T>>;\nexport type BoundActions = { [key: string]: (...args: any[]) => void };\n\nfunction bindActions<T>(store: StoreApi<T>, actions: Actions<T>): BoundActions {\n  if (typeof actions == 'function') {\n    actions = actions(store);\n  }\n\n  const bound = {};\n\n  for (let i in actions) {\n    bound[i] = function (...args) {\n      store.setState((state) => {\n        let _args = [state, ...args];\n        return actions[i](..._args);\n      });\n    };\n  }\n\n  return bound;\n}\n\nconst defaultSelectFunction = (x) => x;\n\nfunction useStore<T, U>(store: StoreApi<T>): T;\nfunction useStore<T, U>(store: StoreApi<T>, select: (state: T) => U): U;\nfunction useStore<T, U>(store: StoreApi<T>, select: undefined, actions: Actions<T>): T & BoundActions;\nfunction useStore<T, U>(store: StoreApi<T>, select: (state: T) => U, actions: Actions<T>): U & BoundActions;\nfunction useStore<T, U>(store: StoreApi<T>, select: (state: T) => U = defaultSelectFunction, actions?: Actions<T>) {\n  const [state, setState] = useState<U>(() => select(store.getState()));\n  useEffect(() => subscribeTo(store, select, setState), [store, select]);\n\n  let boundActions: BoundActions = useMemo(() => (actions ? bindActions(store, actions) : {}), [store, actions]);\n\n  return { ...state, ...boundActions };\n}\n\n/**\n *\n * @param store A zustand store\n * @param actions\n * @returns\n */\nfunction useStoreWithActions<T>(store: StoreApi<T>, actions: Actions<T>): T & BoundActions {\n  return useStore(store, defaultSelectFunction, actions);\n}\n\n/**\n * Whenever possible, use `useStore(yourStore)` instead. This function is for creating a\n * custom hook for a specific store.\n */\nfunction createUseStore<T>(store: StoreApi<T>) {\n  function useStore(): T;\n  function useStore(actions: Actions<T>): T & BoundActions;\n  function useStore(actions?: Actions<T>): T & BoundActions;\n  function useStore(actions?: Actions<T>) {\n    const [state, set] = useState(store.getState());\n    useEffect(() => store.subscribe((state) => set(state)), []);\n    let boundActions: BoundActions = useMemo(() => (actions ? bindActions(store, actions) : {}), [actions]);\n\n    return { ...state, ...boundActions };\n  }\n\n  return useStore;\n}\n\nexport { createUseStore, useStore, useStoreWithActions };\n","/** @module @category Extension */\nimport type { ExtensionStore } from '@openmrs/esm-extensions';\nimport { getExtensionStore } from '@openmrs/esm-extensions';\nimport { createUseStore } from './useStore';\n\nexport const useExtensionStore = createUseStore<ExtensionStore>(getExtensionStore());\n","/** @module @category Extension */\nimport { useMemo } from 'react';\nimport { useExtensionStore } from './useExtensionStore';\n\n/**\n * Gets the assigned extensions for a given extension slot name.\n * Does not consider if offline or online.\n * @param slotName The name of the slot to get the assigned extensions for.\n */\nexport function useAssignedExtensions(slotName: string) {\n  const { slots } = useExtensionStore();\n\n  const extensions = useMemo(() => {\n    return slots[slotName]?.assignedExtensions ?? [];\n  }, [slots, slotName]);\n\n  return extensions;\n}\n","/** @module @category Extension */\nimport { useMemo } from 'react';\nimport type { ConnectedExtension } from '@openmrs/esm-extensions';\nimport { getConnectedExtensions } from '@openmrs/esm-extensions';\nimport { useConnectivity } from './useConnectivity';\nimport { useAssignedExtensions } from './useAssignedExtensions';\nimport { useStore } from './useStore';\nimport { featureFlagsStore } from '@openmrs/esm-feature-flags';\n\n/**\n * Gets the assigned extension for a given extension slot name.\n * Considers if offline or online, and what feature flags are enabled.\n * @param slotName The name of the slot to get the assigned extensions for.\n */\nexport function useConnectedExtensions(slotName: string): Array<ConnectedExtension> {\n  const online = useConnectivity();\n  const assignedExtensions = useAssignedExtensions(slotName);\n  const featureFlagStore = useStore(featureFlagsStore);\n\n  const enabledFeatureFlags = useMemo(() => {\n    return Object.entries(featureFlagStore.flags)\n      .filter(([, { enabled }]) => enabled)\n      .map(([name]) => name);\n  }, [featureFlagStore.flags]);\n\n  const connectedExtensions = useMemo(() => {\n    return getConnectedExtensions(assignedExtensions, online, enabledFeatureFlags);\n  }, [assignedExtensions, online, enabledFeatureFlags]);\n\n  return connectedExtensions;\n}\n","import { useContext, useEffect } from 'react';\nimport { registerExtensionSlot } from '@openmrs/esm-extensions';\nimport { ComponentContext } from './ComponentContext';\nimport { useConnectedExtensions } from './useConnectedExtensions';\n\n/** @internal */\nexport function useExtensionSlot(slotName: string) {\n  const { moduleName } = useContext(ComponentContext);\n\n  if (!moduleName) {\n    throw Error('ComponentContext has not been provided. This should come from @openmrs/esm-react-utils.');\n  }\n\n  useEffect(() => {\n    registerExtensionSlot(moduleName, slotName);\n  }, []);\n\n  const extensions = useConnectedExtensions(slotName);\n\n  return {\n    extensions,\n    extensionSlotName: slotName,\n    extensionSlotModuleName: moduleName,\n  };\n}\n","/** @module @category Extension */\nimport React, { useRef, useMemo } from 'react';\nimport type { ConnectedExtension } from '@openmrs/esm-extensions';\nimport { ComponentContext } from './ComponentContext';\nimport { Extension } from './Extension';\nimport { useExtensionSlot } from './useExtensionSlot';\n\nexport interface ExtensionSlotBaseProps {\n  name: string;\n  /** @deprecated Use `name` */\n  extensionSlotName?: string;\n  select?: (extensions: Array<ConnectedExtension>) => Array<ConnectedExtension>;\n  state?: Record<string, any>;\n}\n\nexport interface OldExtensionSlotBaseProps {\n  name?: string;\n  /** @deprecated Use `name` */\n  extensionSlotName: string;\n  select?: (extensions: Array<ConnectedExtension>) => Array<ConnectedExtension>;\n  state?: Record<string, any>;\n}\n\nexport type ExtensionSlotProps = (OldExtensionSlotBaseProps | ExtensionSlotBaseProps) &\n  Omit<React.HTMLAttributes<HTMLDivElement>, 'children'> & {\n    children?: React.ReactNode | ((extension: ConnectedExtension) => React.ReactNode);\n  };\n\nfunction defaultSelect(extensions: Array<ConnectedExtension>) {\n  return extensions;\n}\n\n/**\n * An [extension slot](https://o3-docs.openmrs.org/docs/extension-system).\n * A place with a name. Extensions that get connected to that name\n * will be rendered into this.\n *\n * @param props.name The name of the extension slot\n * @param props.select An optional function for filtering or otherwise modifying\n *   the list of extensions that will be rendered.\n * @param props.state *Only works if no children are provided*. Passes data\n *   through as props to the extensions that are mounted here. If `ExtensionSlot`\n *   has children, you must pass the state through the `state` param of the\n *   `Extension` component.\n * @param props.children There are two different ways to use `ExtensionSlot`\n *   children.\n *  - Passing a `ReactNode`, the \"normal\" way. The child must contain the component\n *     `Extension`. Whatever is passed as the child will be rendered once per extension.\n *     See the first example below.\n *  - Passing a function, the \"render props\" way. The child must be a function\n *     which takes a [[ConnectedExtension]] as argument and returns a `ReactNode`.\n *     the resulting react node must contain the component `Extension`. It will\n *     be run for each extension. See the second example below.\n *\n * @example\n * Passing a react node as children\n *\n * ```tsx\n * <ExtensionSlot name=\"Foo\">\n *   <div style={{ width: 10rem }}>\n *     <Extension />\n *   </div>\n * </ExtensionSlot>\n * ```\n *\n * @example\n * Passing a function as children\n *\n * ```tsx\n * <ExtensionSlot name=\"Bar\">\n *   {(extension) => (\n *     <h1>{extension.name}</h1>\n *     <div style={{ color: extension.meta.color }}>\n *       <Extension />\n *     </div>\n *   )}\n * </ExtensionSlot>\n * ```\n *\n */\nexport function ExtensionSlot({\n  name: extensionSlotName,\n  extensionSlotName: legacyExtensionSlotName,\n  select = defaultSelect,\n  children,\n  state,\n  style,\n  ...divProps\n}: ExtensionSlotProps) {\n  if (children && state) {\n    throw new Error(\n      'Both children and state have been provided. If children are provided, the state must be passed as a prop to the `Extension` component.',\n    );\n  }\n\n  const name = (extensionSlotName ?? legacyExtensionSlotName) as string;\n  const slotRef = useRef(null);\n  const { extensions, extensionSlotModuleName } = useExtensionSlot(name);\n\n  const extensionsToRender = useMemo(() => select(extensions), [select, extensions]);\n\n  const extensionsFromChildrenFunction = useMemo(() => {\n    if (typeof children == 'function' && !React.isValidElement(children)) {\n      return extensionsToRender.map((extension) => children(extension));\n    }\n  }, [children, extensionsToRender]);\n\n  return (\n    <div\n      ref={slotRef}\n      data-extension-slot-name={name}\n      data-extension-slot-module-name={extensionSlotModuleName}\n      style={{ ...style, position: 'relative' }}\n      {...divProps}\n    >\n      {name &&\n        extensionsToRender.map((extension, i) => (\n          <ComponentContext.Provider\n            key={extension.id}\n            value={{\n              moduleName: extensionSlotModuleName, // moduleName is not used by the receiving Extension\n              featureName: '', // featureName is not used by the receiving Extension\n              extension: {\n                extensionId: extension.id,\n                extensionSlotName: name,\n                extensionSlotModuleName,\n              },\n            }}\n          >\n            {extensionsFromChildrenFunction?.[i] ?? (typeof children != 'function' ? children : null) ?? (\n              <Extension state={state} />\n            )}\n          </ComponentContext.Provider>\n        ))}\n    </div>\n  );\n}\n","/** @module @category API */\nimport type { LoggedInUser } from '@openmrs/esm-api';\nimport { getCurrentUser, userHasAccess } from '@openmrs/esm-api';\nimport React, { useEffect, useState } from 'react';\n\nexport interface UserHasAccessProps {\n  privilege: string | string[];\n  fallback?: React.ReactNode;\n  children?: React.ReactNode;\n}\n\nexport const UserHasAccess: React.FC<UserHasAccessProps> = ({ privilege, fallback, children }) => {\n  const [user, setUser] = useState<LoggedInUser | null>(null);\n\n  useEffect(() => {\n    const subscription = getCurrentUser({\n      includeAuthStatus: false,\n    }).subscribe(setUser);\n    return () => subscription.unsubscribe();\n  }, []);\n\n  if (user && userHasAccess(privilege, user)) {\n    return <>{children}</>;\n  } else {\n    return fallback ? <>{fallback}</> : null;\n  }\n};\n","function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function a(e,t){var n;if(\"function\"!=typeof(n=t.domElement?function(){return t.domElement}:t.domElementGetter?t.domElementGetter:e.domElementGetter?e.domElementGetter:function(e){var t=e.appName||e.name;if(!t)throw Error(\"single-spa's dom-element-getter-helpers was not given an application name as a prop, so it can't make a unique dom element container for the react application\");var n=\"single-spa-application:\".concat(t);return function(){var e=document.getElementById(n);return e||((e=document.createElement(\"div\")).id=n,document.body.appendChild(e)),e}}(t)))throw Error(\"single-spa's dom-element-getter-helpers was given an invalid domElementGetter for application or parcel '\".concat(t.name,\"'. Expected a function, received \").concat(r(n)));return function(){var e=n(t);if(!(e instanceof HTMLElement))throw Error(\"single-spa's dom-element-getter-helpers: domElementGetter returned an invalid dom element for application or parcel '\".concat(t.name,\"'. Expected HTMLElement, received \").concat(r(e)));return e}}var c=null;try{c=require(\"react\").createContext()}catch(e){}var u={React:null,ReactDOM:null,ReactDOMClient:null,rootComponent:null,loadRootComponent:null,errorBoundary:null,errorBoundaryClass:null,domElementGetter:null,parcelCanUpdate:!0,suppressComponentDidCatchWarning:!1,domElements:{},renderResults:{},updateResolves:{},unmountResolves:{}};function i(e){if(\"object\"!==n(e))throw new Error(\"single-spa-react requires a configuration object\");var o,r=t(t({},u),e);if(!r.React)throw new Error(\"single-spa-react must be passed opts.React\");if(!r.ReactDOM&&!r.ReactDOMClient)throw new Error(\"single-spa-react must be passed opts.ReactDOM or opts.ReactDOMClient\");r.renderType||(null!==(o=r.ReactDOMClient)&&void 0!==o&&o.createRoot?r.renderType=\"createRoot\":r.renderType=\"render\");if(!r.rootComponent&&!r.loadRootComponent)throw new Error(\"single-spa-react must be passed opts.rootComponent or opts.loadRootComponent\");if(r.errorBoundary&&\"function\"!=typeof r.errorBoundary)throw Error(\"The errorBoundary opt for single-spa-react must either be omitted or be a function that returns React elements\");!c&&r.React.createContext&&(c=r.React.createContext()),r.SingleSpaRoot=function(e){function t(e){t.displayName=\"SingleSpaRoot(\".concat(e.name,\")\")}return t.prototype=Object.create(e.React.Component.prototype),t.prototype.componentDidMount=function(){setTimeout(this.props.mountFinished)},t.prototype.componentWillUnmount=function(){setTimeout(this.props.unmountFinished)},t.prototype.render=function(){return setTimeout(this.props.updateFinished),this.props.children},t}(r);var a={bootstrap:s.bind(null,r),mount:p.bind(null,r),unmount:l.bind(null,r)};return r.parcelCanUpdate&&(a.update=m.bind(null,r)),a}function s(e,t){return e.rootComponent?Promise.resolve():e.loadRootComponent(t).then((function(t){e.rootComponent=t}))}function p(e,t){return new Promise((function(n,o){e.suppressComponentDidCatchWarning||!function(e){if(!(e&&\"string\"==typeof e.version&&e.version.indexOf(\".\")>=0))return!1;var t=e.version.slice(0,e.version.indexOf(\".\"));try{return Number(t)>=16}catch(e){return!1}}(e.React)||e.errorBoundary||e.errorBoundaryClass||(e.rootComponent.prototype?e.rootComponent.prototype.componentDidCatch||console.warn(\"single-spa-react: \".concat(t.name||t.appName||t.childAppName,\"'s rootComponent should implement componentDidCatch to avoid accidentally unmounting the entire single-spa application.\")):console.warn(\"single-spa-react: \".concat(t.name||t.appName||t.childAppName,\"'s rootComponent does not implement an error boundary.  If using a functional component, consider providing an opts.errorBoundary to singleSpaReact(opts).\")));var r=y(e,t,(function(){n(this)})),c=a(e,t)(),u=function(e){var t=e.reactDom,n=e.renderType,o=e.elementToRender,r=e.domElement,a=t[n];if(\"function\"!=typeof a)throw new Error('renderType \"'.concat(n,'\" did not return a function.'));switch(n){case\"createRoot\":case\"unstable_createRoot\":case\"createBlockingRoot\":case\"unstable_createBlockingRoot\":var c=a(r);return c.render(o),c;case\"hydrateRoot\":return a(r,o);case\"hydrate\":default:return a(o,r),null}}({elementToRender:r,domElement:c,reactDom:d(e),renderType:f(e)});e.domElements[t.name]=c,e.renderResults[t.name]=u}))}function l(e,t){return new Promise((function(n){e.unmountResolves[t.name]=n;var o=e.renderResults[t.name];o&&o.unmount?o.unmount():d(e).unmountComponentAtNode(e.domElements[t.name]),delete e.domElements[t.name],delete e.renderResults[t.name]}))}function m(e,t){return new Promise((function(n){e.updateResolves[t.name]||(e.updateResolves[t.name]=[]),e.updateResolves[t.name].push(n);var o=y(e,t,null),r=e.renderResults[t.name];if(r&&r.render)r.render(o);else{var c=a(e,t)();d(e).render(o,c)}}))}function d(e){return e.ReactDOMClient||e.ReactDOM}function f(e){return\"function\"==typeof e.renderType?e.renderType():e.renderType}function y(e,n,o){var r=e.React.createElement(e.rootComponent,n),a=c?e.React.createElement(c.Provider,{value:n},r):r;return(e.errorBoundary||n.errorBoundary||e.errorBoundaryClass||n.errorBoundaryClass)&&(e.errorBoundaryClass=e.errorBoundaryClass||n.errorBoundaryClass||function(e,t){function n(t){e.React.Component.apply(this,arguments),this.state={caughtError:null,caughtErrorInfo:null},n.displayName=\"SingleSpaReactErrorBoundary(\".concat(t.name,\")\")}return n.prototype=Object.create(e.React.Component.prototype),n.prototype.render=function(){return this.state.caughtError?(e.errorBoundary||t.errorBoundary)(this.state.caughtError,this.state.caughtErrorInfo,this.props):this.props.children},n.prototype.componentDidCatch=function(e,t){this.setState({caughtError:e,caughtErrorInfo:t})},n}(e,n),a=e.React.createElement(e.errorBoundaryClass,n,a)),a=e.React.createElement(e.SingleSpaRoot,t(t({},n),{},{mountFinished:o,updateFinished:function(){e.updateResolves[n.name]&&(e.updateResolves[n.name].forEach((function(e){return e()})),delete e.updateResolves[n.name])},unmountFinished:function(){e.unmountResolves[n.name]&&(e.unmountResolves[n.name](),delete e.unmountResolves[n.name])}}),a)}export{c as SingleSpaContext,i as default};\n//# sourceMappingURL=single-spa-react.js.map\n","import React, { type ComponentType, type ErrorInfo, Suspense } from 'react';\nimport { I18nextProvider } from 'react-i18next';\nimport { SWRConfig } from 'swr';\nimport type {} from '@openmrs/esm-globals';\nimport { openmrsFetch } from '@openmrs/esm-api';\nimport { ComponentContext, type ComponentConfig, type ExtensionData } from './ComponentContext';\n\nconst defaultOpts = {\n  strictMode: true,\n  throwErrorsToConsole: true,\n  disableTranslations: false,\n};\n\n// Read more about the available config options here: https://swr.vercel.app/docs/api#configuration\nconst defaultSwrConfig = {\n  // max number of retries after requests have failed\n  errorRetryCount: 3,\n  // default fetcher function\n  fetcher: openmrsFetch,\n  // only revalidate once every 30 seconds\n  focusThrottleInterval: 30000,\n};\n\nexport interface ComponentDecoratorOptions {\n  moduleName: string;\n  featureName: string;\n  disableTranslations?: boolean;\n  strictMode?: boolean;\n}\n\nexport interface OpenmrsReactComponentProps {\n  _extensionContext?: ExtensionData;\n}\n\nexport interface OpenmrsReactComponentState {\n  caughtError: any;\n  caughtErrorInfo: ErrorInfo | null;\n  config: ComponentConfig;\n}\n\nexport function openmrsComponentDecorator<T>(userOpts: ComponentDecoratorOptions) {\n  if (\n    typeof userOpts !== 'object' ||\n    typeof userOpts.featureName !== 'string' ||\n    typeof userOpts.moduleName !== 'string'\n  ) {\n    throw new Error('Invalid options');\n  }\n\n  const opts = Object.assign({}, defaultOpts, userOpts);\n\n  return function decorateComponent(Comp: ComponentType<T>): ComponentType<T> {\n    return class OpenmrsReactComponent extends React.Component<\n      OpenmrsReactComponentProps & T,\n      OpenmrsReactComponentState\n    > {\n      static displayName = `OpenmrsReactComponent(${opts.featureName})`;\n\n      constructor(props: OpenmrsReactComponentProps & T) {\n        super(props);\n        this.state = {\n          caughtError: null,\n          caughtErrorInfo: null,\n          config: {\n            moduleName: opts.moduleName,\n            featureName: opts.featureName,\n            extension: props._extensionContext,\n          },\n        };\n      }\n\n      componentDidCatch(err: any, info: ErrorInfo) {\n        if (info && info.componentStack) {\n          err.extra = Object.assign(err.extra || {}, {\n            componentStack: info.componentStack,\n          });\n        }\n\n        if (opts.throwErrorsToConsole) {\n          setTimeout(() => {\n            throw err;\n          });\n        }\n\n        this.setState({\n          caughtError: err,\n          caughtErrorInfo: info,\n        });\n      }\n\n      render() {\n        if (this.state.caughtError) {\n          // TO-DO have a UX designed for when a catastrophic error occurs\n          return <div>An error has occurred. Please try reloading the page.</div>;\n        } else {\n          const content = (\n            <Suspense fallback={null}>\n              <SWRConfig value={defaultSwrConfig}>\n                <ComponentContext.Provider value={this.state.config}>\n                  {opts.disableTranslations ? (\n                    <Comp {...this.props} />\n                  ) : (\n                    <I18nextProvider i18n={window.i18next} defaultNS={opts.moduleName}>\n                      <Comp {...this.props} />\n                    </I18nextProvider>\n                  )}\n                </ComponentContext.Provider>\n              </SWRConfig>\n            </Suspense>\n          );\n\n          if (opts.strictMode || !React.StrictMode) {\n            return content;\n          } else {\n            return <React.StrictMode>{content}</React.StrictMode>;\n          }\n        }\n      }\n    };\n  };\n}\n","/** @module @category Framework */\nimport type { ComponentType } from 'react';\nimport React from 'react';\nimport ReactDOMClient from 'react-dom/client';\nimport type { AppProps } from 'single-spa';\nimport singleSpaReact, { type ReactAppOrParcel } from 'single-spa-react';\nimport type { ComponentDecoratorOptions } from './openmrsComponentDecorator';\nimport { openmrsComponentDecorator } from './openmrsComponentDecorator';\n\nexport function getLifecycle<T>(Component: ComponentType<T>, options: ComponentDecoratorOptions) {\n  return singleSpaReact<T>({\n    React,\n    ReactDOMClient,\n    rootComponent: openmrsComponentDecorator<T>(options)(Component) as ComponentType<T & AppProps>,\n  });\n}\n\nexport function getAsyncLifecycle<T>(\n  lazy: () => Promise<{ default: ComponentType<T> }>,\n  options: ComponentDecoratorOptions,\n) {\n  return () => lazy().then(({ default: Component }) => getLifecycle(Component, options));\n}\n\nexport function getSyncLifecycle<T>(Component: ComponentType<T>, options: ComponentDecoratorOptions) {\n  return () => Promise.resolve(getLifecycle(Component, options));\n}\n\n/**\n * @deprecated Use getAsyncLifecycle instead.\n */\nexport const getAsyncExtensionLifecycle = getAsyncLifecycle;\n","/** @module @category Context */\nimport { useEffect, useRef } from 'react';\nimport { registerContext, unregisterContext, updateContext } from '@openmrs/esm-context';\nimport { shallowEqual } from '@openmrs/esm-utils';\n\n/**\n * This hook is used to register a namespace in the AppContext. The component that registers the\n * namespace is responsible for updating the value associated with the namespace. The namespace\n * will be automatically removed when the component using this hook is unmounted.\n *\n * @example\n * ```ts\n * const { data: patient } = useSWR(`/ws/rest/v1/patient/${patientUuid}`, openmrsFetch);\n * useDefineAppContext<PatientContext>('patient', patient ?? null);\n * ```\n *\n * @example\n * ```ts\n * const { data: patient } = useSWR(`/ws/rest/v1/patient/${patientUuid}`, openmrsFetch);\n * const updatePatient = useDefineAppContext<PatientContext>('patient', patient ?? null);\n * updatePatient((patient) => {\n *  patient.name = 'Hector';\n *  return patient;\n * })\n * ```\n *\n * Note that the AppContext does not allow the storing of undefined values in a namespace. Use `null`\n * instead.\n *\n * @typeParam T The type of the value of the namespace\n * @param namespace The name of the namespace in the application context. Note that the namespace\n *  must be unique among currently registered namespaces in the application context.\n * @param value The value to associate with this namespace. Updating the value property will update\n *   the namespace value.\n * @returns A function which can be used to update the state associated with the namespace\n */\nexport function useDefineAppContext<T extends {}>(namespace: string, value?: T) {\n  const previousValue = useRef<T>(value ?? ({} as T));\n  const updateFunction = useRef((update: (state: T) => T) => updateContext<T>(namespace, update));\n\n  // effect hook for registration and unregistration\n  useEffect(() => {\n    registerContext(namespace, value ?? ({} as T));\n    return () => {\n      unregisterContext(namespace);\n    };\n  }, [namespace]);\n\n  useEffect(() => {\n    let futureValue: T = value ?? ({} as T);\n    if (!shallowEqual(previousValue.current, futureValue)) {\n      updateContext<T>(namespace, () => futureValue);\n      previousValue.current = futureValue;\n    }\n  }, [value]);\n\n  return updateFunction.current;\n}\n","/** @module @category Context */\nimport { useDefineAppContext } from './useDefineAppContext';\n\nexport interface OpenmrsAppContextProps<T = unknown> {\n  /** the namespace that this component defines */\n  namespace: string;\n  /** used to control the value associated with the namespace */\n  value?: T;\n}\n\n/**\n * OpenmrsAppContext is a simple React component meant to function similarly to React's Context,\n * but built on top of the OpenmrsAppContext.\n *\n * @example\n * ```ts\n *    <OpenmrsAppContext namespace=\"something\" value={{ key: \"1234\" }} />\n * ```\n *\n * **Notes on usage:** Unlike a proper React context where the value is limited to the subtree under the\n * context component, the `OpenmrsAppContext` is inherently global in scope. That means that _all applications_\n * will see the values that you set for the namespace if they load the value of the namespace.\n */\nexport function OpenmrsAppContext<T extends {}>({ namespace, value }: OpenmrsAppContextProps<T>) {\n  useDefineAppContext<T>(namespace, value);\n\n  return null;\n}\n","/** @module @category Utility */\nimport { useEffect, useRef } from 'react';\n\n/**\n * @beta\n *\n * This hook creates an AbortController that lasts either until the previous AbortController\n * is aborted or until the component unmounts. This can be used to ensure that all fetch requests\n * are cancelled when a component is unmounted.\n *\n * @example\n * ```tsx\n * import { useAbortController } from \"@openmrs/esm-framework\";\n *\n * function MyComponent() {\n *  const abortController = useAbortController();\n *  const { data } = useSWR(key, (key) => openmrsFetch(key, { signal: abortController.signal }));\n *\n *  return (\n *    // render something with data\n *  );\n * }\n * ```\n */\nexport function useAbortController() {\n  const abortController = useRef<AbortController>();\n\n  if (!abortController.current || abortController.current.signal.aborted) {\n    abortController.current = new AbortController();\n  }\n\n  useEffect(() => {\n    const ac = abortController.current;\n    return () => ac?.abort();\n  }, []);\n\n  return abortController.current;\n}\n\nexport default useAbortController;\n","/** @module @category Context */\nimport { useEffect, useState } from 'react';\nimport { subscribeToContext } from '@openmrs/esm-context';\nimport { shallowEqual } from '@openmrs/esm-utils';\n\n/**\n * This hook is used to access a namespace within the overall AppContext, so that a component can\n * use any shared contextual values. A selector may be provided to further restrict the properties\n * returned from the namespace.\n *\n * @example\n * ```ts\n * // load a full namespace\n * const patientContext = useAppContext<PatientContext>('patient');\n * ```\n *\n * @example\n * ```ts\n * // loads part of a namespace\n * const patientName = useAppContext<PatientContext, string | undefined>('patient', (state) => state.display);\n * ```\n *\n * @typeParam T The type of the value stored in the namespace\n * @param namespace The namespace to load properties from\n */\nexport function useAppContext<T extends {} = {}>(namespace: string): Readonly<T> | undefined;\n\n/**\n * This hook is used to access a namespace within the overall AppContext, so that a component can\n * use any shared contextual values. A selector may be provided to further restrict the properties\n * returned from the namespace.\n *\n * @example\n * ```ts\n * // load a full namespace\n * const patientContext = useAppContext<PatientContext>('patient');\n * ```\n *\n * @example\n * ```ts\n * // loads part of a namespace\n * const patientName = useAppContext<PatientContext, string | undefined>('patient', (state) => state.display);\n * ```\n *\n * @typeParam T The type of the value stored in the namespace\n * @typeParam U The return type of this hook which is mostly relevant when using a selector\n * @param namespace The namespace to load properties from\n * @param selector An optional function which extracts the relevant part of the state\n */\nexport function useAppContext<T extends {} = {}, U = T>(\n  namespace: string,\n  selector: (state: Readonly<T> | null) => Readonly<U> = (state) => (state ?? {}) as Readonly<U>,\n): Readonly<U> | undefined {\n  const [value, setValue] = useState<Readonly<U>>();\n\n  useEffect(() => {\n    if (namespace === null || typeof namespace === 'undefined' || namespace.replace(' ', '') === '') {\n      throw new Error(`The namespace supplied to useAppContext must be a non-empty string, but was \"${namespace}\".`);\n    }\n  }, [namespace]);\n\n  useEffect(() => {\n    return subscribeToContext<T>(namespace, (state) => {\n      if (typeof state !== 'undefined') {\n        const newValue = selector ? selector(state) : ((state ?? {}) as Readonly<U>);\n        if (!shallowEqual(value, newValue)) {\n          setValue(newValue);\n        }\n      }\n    });\n  }, []);\n\n  return value;\n}\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n","/** @module @category Extension */\nimport { useEffect, useState } from 'react';\nimport { getExtensionStore } from '@openmrs/esm-extensions';\nimport isEqual from 'lodash-es/isEqual';\n\n/**\n * Gets the assigned extension ids for a given extension slot name.\n * Does not consider if offline or online.\n * @param slotName The name of the slot to get the assigned IDs for.\n *\n * @deprecated Use `useAssignedExtensions`\n */\nexport function useAssignedExtensionIds(slotName: string) {\n  const [ids, setIds] = useState<Array<string>>([]);\n\n  useEffect(() => {\n    return getExtensionStore().subscribe((state) => {\n      const newIds = state.slots[slotName]?.assignedExtensions.map((e) => e.id) ?? [];\n      if (!isEqual(newIds, ids)) {\n        setIds(newIds);\n      }\n    });\n  }, []);\n\n  return ids;\n}\n","/** @module @category API */\nimport { useMemo } from 'react';\nimport useSWR from 'swr';\nimport { attachmentUrl, openmrsFetch, type AttachmentResponse, type FetchResponse } from '@openmrs/esm-api';\n\nexport function useAttachments(patientUuid: string, includeEncounterless: boolean) {\n  const { data, error, mutate, isLoading, isValidating } = useSWR<\n    FetchResponse<{ results: Array<AttachmentResponse> }>\n  >(`${attachmentUrl}?patient=${patientUuid}&includeEncounterless=${includeEncounterless}`, openmrsFetch);\n\n  const results = useMemo(\n    () => ({\n      isLoading,\n      data: data?.data.results ?? [],\n      error,\n      mutate,\n      isValidating,\n    }),\n    [data, error, isLoading, isValidating, mutate],\n  );\n\n  return results;\n}\n","/** @module @category UI */\nimport { useEffect } from 'react';\n\nexport function useBodyScrollLock(active: boolean) {\n  useEffect(() => {\n    if (active) {\n      const original = window.getComputedStyle(document.body).overflow;\n      document.body.style.overflow = 'hidden';\n      return () => {\n        document.body.style.overflow = original;\n      };\n    }\n  }, [active]);\n}\n","/** @module @category Config */\nimport { useContext, useEffect, useMemo, useState } from 'react';\nimport type { ConfigStore, ConfigObject, ExtensionsConfigStore } from '@openmrs/esm-config';\nimport { getConfigStore, getExtensionsConfigStore, getExtensionConfigFromStore } from '@openmrs/esm-config';\nimport type { StoreApi } from 'zustand';\nimport isEqual from 'lodash-es/isEqual';\nimport type { ExtensionData } from './ComponentContext';\nimport { ComponentContext } from './ComponentContext';\n\nconst promises: Record<string, Promise<ConfigObject>> = {};\nconst errorMessage = `No ComponentContext has been provided. This should come from \"openmrsComponentDecorator\".\nUsually this is already applied when using \"getAsyncLifecycle\" or \"getSyncLifecycle\".`;\n\nfunction readInitialConfig(store: StoreApi<ConfigStore>) {\n  return () => {\n    const state = store.getState();\n\n    if (state.loaded && state.config) {\n      return state.config;\n    }\n\n    return null;\n  };\n}\n\nfunction readInitialExtensionConfig(store: StoreApi<ExtensionsConfigStore>, extension: ExtensionData | undefined) {\n  if (extension) {\n    return () => {\n      const state = store.getState();\n      const extConfig = getExtensionConfigFromStore(state, extension.extensionSlotName, extension.extensionId);\n      if (extConfig.loaded && extConfig.config) {\n        return extConfig.config;\n      }\n    };\n  }\n  return null;\n}\n\nfunction createConfigPromise(store: StoreApi<ConfigStore>) {\n  return new Promise<ConfigObject>((resolve) => {\n    const unsubscribe = store.subscribe((state) => {\n      if (state.loaded && state.config) {\n        resolve(state.config);\n        unsubscribe();\n      }\n    });\n  });\n}\n\nfunction createExtensionConfigPromise(store: StoreApi<ExtensionsConfigStore>, extension: ExtensionData) {\n  return new Promise<ConfigObject>((resolve) => {\n    const unsubscribe = store.subscribe((state) => {\n      const extConfig = getExtensionConfigFromStore(state, extension.extensionSlotName, extension.extensionId);\n      if (extConfig.loaded && extConfig.config) {\n        resolve(extConfig.config);\n        unsubscribe();\n      }\n    });\n  });\n}\n\nfunction useConfigStore(store: StoreApi<ConfigStore>) {\n  const [state, setState] = useState(readInitialConfig(store));\n\n  useEffect(() => {\n    return store?.subscribe((state) => {\n      if (state.loaded && state.config) {\n        setState(state.config);\n      }\n    });\n  }, [store]);\n\n  return state;\n}\n\nfunction useExtensionConfigStore(store: StoreApi<ExtensionsConfigStore>, extension: ExtensionData | undefined) {\n  const [config, setConfig] = useState<ConfigObject | null>(readInitialExtensionConfig(store, extension));\n\n  useEffect(() => {\n    if (extension) {\n      return store.subscribe((state) => {\n        const extConfig = getExtensionConfigFromStore(state, extension.extensionSlotName, extension.extensionId);\n        if (extConfig.loaded && extConfig.config && !isEqual(extConfig.config, config)) {\n          setConfig(extConfig.config);\n        }\n      });\n    }\n  }, [store, extension, config]);\n\n  return config;\n}\n\nfunction useExtensionConfig(extension: ExtensionData | undefined) {\n  const store = useMemo(getExtensionsConfigStore, []);\n  const state = useExtensionConfigStore(store, extension);\n\n  if (!state && extension) {\n    const cacheId = `${extension.extensionSlotName}-${extension.extensionId}`;\n\n    if (!promises[cacheId] && store) {\n      promises[cacheId] = createExtensionConfigPromise(store, extension);\n    }\n\n    // React will prevent the client component from rendering until the promise resolves\n    throw promises[cacheId];\n  }\n\n  return state || {};\n}\n\nfunction useNormalConfig(moduleName: string) {\n  const store = useMemo(() => getConfigStore(moduleName), [moduleName]);\n  const cacheId = moduleName;\n  const state = useConfigStore(store);\n\n  if (!state) {\n    if (!promises[cacheId]) {\n      promises[cacheId] = createConfigPromise(store);\n    }\n\n    // React will prevent the client component from rendering until the promise resolves\n    throw promises[cacheId];\n  }\n\n  return state;\n}\n\ninterface UseConfigOptions {\n  /** An external module to load the configuration from. This option should only be used if\n      absolutely necessary as it can end up making frontend modules coupled to one another. */\n  externalModuleName?: string;\n}\n\n/**\n * Use this React Hook to obtain your module's configuration.\n *\n * @param options Additional options that can be passed to useConfig()\n */\nexport function useConfig<T = Record<string, any>>(options?: UseConfigOptions) {\n  // This hook gets the appropriate configuration depending on whether the caller is a module\n  // or an extension, which is determined from the ComponentContext. It will throw for suspense\n  // if the configuration is not yet loaded.\n  const { moduleName: contextModuleName, extension } = useContext(ComponentContext);\n  const moduleName = options?.externalModuleName ?? contextModuleName;\n\n  if (!moduleName && !extension) {\n    throw Error(errorMessage);\n  }\n\n  const normalConfig = useNormalConfig(moduleName);\n  const extensionConfig = useExtensionConfig(extension);\n  const config = useMemo(\n    () =>\n      options?.externalModuleName && moduleName === options.externalModuleName\n        ? { ...normalConfig }\n        : { ...normalConfig, ...extensionConfig },\n    [moduleName, options?.externalModuleName, normalConfig, extensionConfig],\n  );\n\n  return config as T;\n}\n","/** @module @category Utility */\nimport { useEffect, useState } from 'react';\n\n/**\n * This hook debounces a state variable. That state variable can then be used as the\n * value of a controlled input, while the return value of this hook is used for making\n * a request.\n *\n * @example\n * ```tsx\n * import { useDebounce } from \"@openmrs/esm-framework\";\n *\n * function MyComponent() {\n *   const [searchTerm, setSearchTerm] = useState('');\n *   const debouncedSearchTerm = useDebounce(searchTerm);\n *   const swrResult = useSWR(`/api/search?q=${debouncedSearchTerm}`)\n *\n *  return (\n *    <Search\n *      labelText={t('search', 'Search')}\n *      onChange={(e) => setSearchTerm(e.target.value)}\n *      value={searchTerm}\n *    />\n *  )\n * }\n * ```\n *\n * @param value The value that will be used to set `debounceValue`\n * @param delay The number of milliseconds to wait before updating `debounceValue`\n * @returns The debounced value\n */\nexport function useDebounce<T>(value: T, delay: number = 300) {\n  const [debounceValue, setDebounceValue] = useState<T>(value);\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebounceValue(value);\n    }, delay);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [value, delay]);\n  return debounceValue;\n}\n","import type { ExtensionInternalStore } from '@openmrs/esm-extensions';\nimport { getExtensionInternalStore } from '@openmrs/esm-extensions';\nimport { createUseStore } from './useStore';\n\n/** @internal\n * @deprecated Use `useStore(getExtensionInternalStore())`\n */\nexport const useExtensionInternalStore = createUseStore<ExtensionInternalStore>(getExtensionInternalStore());\n","/** @module @category Extension */\nimport type { ExtensionMeta } from '@openmrs/esm-extensions';\nimport { useMemo } from 'react';\nimport { useConnectedExtensions } from './useConnectedExtensions';\n\n/**\n * Extract meta data from all extension for a given extension slot.\n * @param extensionSlotName\n */\nexport function useExtensionSlotMeta<T = ExtensionMeta>(extensionSlotName: string) {\n  const extensions = useConnectedExtensions(extensionSlotName);\n\n  return useMemo(() => Object.fromEntries(extensions.map((ext) => [ext.name, ext.meta as T])), [extensions]);\n}\n","/** @module @category Feature Flags */\nimport { useEffect } from 'react';\nimport { useStore } from './useStore';\nimport { featureFlagsStore } from '@openmrs/esm-feature-flags';\n\n/** Use this function to tell whether a feature flag is toggled on or off.\n *\n * Example:\n *\n * ```tsx\n * import { useFeatureFlag } from \"@openmrs/esm-react-utils\";\n *\n * export function MyComponent() {\n *  const isMyFeatureFlagOn = useFeatureFlag(\"my-feature-flag\");\n *  return <>{isMyFeatureFlagOn && <ExperimentalFeature />}</>;\n * }\n * ```\n */\nexport function useFeatureFlag(flagName: string) {\n  const { flags } = useStore(featureFlagsStore);\n\n  useEffect(() => {\n    if (!flags[flagName]) {\n      console.error(\n        `useFeatureFlag: Attempted to get value of non-existent flag \"${flagName}\". Did you forget to call registerFeatureFlag?`,\n      );\n    }\n  }, [flags[flagName]]);\n\n  return flags[flagName]?.enabled;\n}\n","import { useState, useCallback } from 'react';\n\nexport function useForceUpdate() {\n  const [, setTick] = useState(0);\n  const update = useCallback(() => {\n    setTick((tick) => tick + 1);\n  }, []);\n  return update;\n}\n","/** @module @category UI */\nimport { useEffect, useState } from 'react';\n\nexport type LayoutType = 'phone' | 'tablet' | 'small-desktop' | 'large-desktop';\n\nfunction getLayout() {\n  let layout: LayoutType = 'tablet';\n\n  document.body.classList.forEach((cls) => {\n    switch (cls) {\n      case 'omrs-breakpoint-lt-tablet':\n        layout = 'phone';\n        break;\n      case 'omrs-breakpoint-gt-small-desktop':\n        layout = 'large-desktop';\n        break;\n      case 'omrs-breakpoint-gt-tablet':\n        layout = 'small-desktop';\n        break;\n    }\n  });\n\n  return layout;\n}\n\nexport function useLayoutType() {\n  const [type, setType] = useState<LayoutType>(getLayout);\n\n  useEffect(() => {\n    const handler = () => {\n      setType(getLayout());\n    };\n    window.addEventListener('resize', handler);\n    return () => window.removeEventListener('resize', handler);\n  }, []);\n\n  return type;\n}\n\nexport const isDesktop = (layout: LayoutType) => layout === 'small-desktop' || layout === 'large-desktop';\n","/** @module @category API */\nimport { useEffect, useReducer } from 'react';\nimport type { PatientUuid } from '@openmrs/esm-api';\nimport { fetchCurrentPatient } from '@openmrs/esm-api';\n\nexport type NullablePatient = fhir.Patient | null;\n\nexport interface CurrentPatientState {\n  patientUuid: string | null;\n  patient: NullablePatient;\n  isPendingUuid: boolean;\n  isLoadingPatient: boolean;\n  err: Error | null;\n}\n\ninterface LoadPatient {\n  type: ActionTypes.loadPatient;\n  patientUuid: string | null;\n}\n\ninterface NewPatient {\n  type: ActionTypes.newPatient;\n  patient: NullablePatient;\n}\n\ninterface PatientLoadError {\n  type: ActionTypes.loadError;\n  err: Error | null;\n}\n\ntype Action = LoadPatient | NewPatient | PatientLoadError;\n\nenum ActionTypes {\n  loadPatient = 'loadPatient',\n  newPatient = 'newPatient',\n  loadError = 'patientLoadError',\n}\n\nconst initialState: CurrentPatientState = {\n  patientUuid: null,\n  patient: null,\n  isPendingUuid: true,\n  isLoadingPatient: false,\n  err: null,\n};\n\nfunction getPatientUuidFromUrl(): PatientUuid {\n  const match = /\\/patient\\/([a-zA-Z0-9\\-]+)\\/?/.exec(location.pathname);\n  return match && match[1];\n}\n\nfunction reducer(state: CurrentPatientState, action: Action): CurrentPatientState {\n  switch (action.type) {\n    case ActionTypes.loadPatient:\n      return {\n        ...state,\n        patientUuid: action.patientUuid,\n        patient: null,\n        isPendingUuid: false,\n        isLoadingPatient: true,\n        err: null,\n      };\n    case ActionTypes.newPatient:\n      return {\n        ...state,\n        patient: action.patient,\n        isPendingUuid: false,\n        isLoadingPatient: false,\n        err: null,\n      };\n    case ActionTypes.loadError:\n      return {\n        ...state,\n        patient: null,\n        isPendingUuid: false,\n        isLoadingPatient: false,\n        err: action.err,\n      };\n    default:\n      return state;\n  }\n}\n\n/**\n * This React hook returns a patient object. If the `patientUuid` is provided\n * as a parameter, then the patient for that UUID is returned. If the parameter\n * is not provided, the patient UUID is obtained from the current route, and\n * a route listener is set up to update the patient whenever the route changes.\n */\nexport function usePatient(patientUuid?: string) {\n  const [state, dispatch] = useReducer(reducer, {\n    ...initialState,\n    patientUuid: patientUuid ?? null,\n    isPendingUuid: !patientUuid,\n    isLoadingPatient: !!patientUuid,\n  });\n\n  useEffect(() => {\n    if (state.isPendingUuid) {\n      const patientUuidFromUrl = getPatientUuidFromUrl();\n      if (patientUuidFromUrl) {\n        dispatch({\n          type: ActionTypes.loadPatient,\n          patientUuid: patientUuidFromUrl,\n        });\n      } else {\n        dispatch({ type: ActionTypes.newPatient, patient: null });\n      }\n    }\n\n    let active = true;\n    if (state.isLoadingPatient && state.patientUuid) {\n      fetchCurrentPatient(state.patientUuid).then(\n        (patient) =>\n          active &&\n          dispatch({\n            patient: patient,\n            type: ActionTypes.newPatient,\n          }),\n        (err) =>\n          active &&\n          dispatch({\n            err,\n            type: ActionTypes.loadError,\n          }),\n      );\n    }\n    return () => {\n      active = false;\n    };\n  }, [state.isPendingUuid, state.isLoadingPatient, state.patientUuid]);\n\n  useEffect(() => {\n    const handleRouteUpdate = (evt) => {\n      const newPatientUuid = getPatientUuidFromUrl();\n      if (newPatientUuid != state.patientUuid) {\n        dispatch({\n          type: ActionTypes.loadPatient,\n          patientUuid: newPatientUuid,\n        });\n      }\n    };\n    window.addEventListener('single-spa:routing-event', handleRouteUpdate);\n    return () => window.removeEventListener('single-spa:routing-event', handleRouteUpdate);\n  }, [state.patientUuid]);\n\n  return {\n    isLoading: state.isPendingUuid || state.isLoadingPatient,\n    patient: state.patient,\n    patientUuid: patientUuid ?? state.patientUuid,\n    error: state.err,\n  };\n}\n","/** @module @category API */\nimport type { Location } from '@openmrs/esm-api';\nimport { getLocations } from '@openmrs/esm-api';\nimport { useState, useEffect } from 'react';\n\nexport function useLocations(tagUuidOrName: string | null = null) {\n  const [locations, setLocations] = useState<Array<Location>>([]);\n\n  useEffect(() => {\n    const locationSub = getLocations(tagUuidOrName).subscribe(\n      (locations) => {\n        setLocations(locations);\n      },\n      (error) => {\n        console.error(error);\n      },\n    );\n    return () => locationSub.unsubscribe();\n  }, []);\n\n  return locations;\n}\n","/** @module @category UI */\nimport { useRef, useEffect } from 'react';\n\nexport function useOnClickOutside<T extends HTMLElement = HTMLElement>(\n  handler: (event: MouseEvent) => void,\n  active = true,\n) {\n  const ref = useRef<T>(null);\n\n  useEffect(() => {\n    const listener = (event: MouseEvent) => {\n      if (!active || !ref.current || ref.current.contains(event.target as Node)) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    window.addEventListener(`mousedown`, listener);\n    window.addEventListener(`touchstart`, listener);\n    return () => {\n      window.removeEventListener(`mousedown`, listener);\n      window.removeEventListener(`touchstart`, listener);\n    };\n  }, [handler, active]);\n\n  return ref;\n}\n","/** @module @category Utility */\nimport { useCallback, useMemo } from 'react';\nimport type { SWRConfiguration } from 'swr';\nimport useSWR from 'swr';\nimport { type FetchConfig, openmrsFetch, type FetchResponse } from '@openmrs/esm-api';\nimport useAbortController from './useAbortController';\n\nexport type ArgumentsTuple = [any, ...unknown[]];\nexport type Key = string | ArgumentsTuple | undefined | null;\nexport type UseOpenmrsSWROptions = {\n  abortController?: AbortController;\n  fetchInit?: FetchConfig;\n  url?: string | ((key: Key) => string);\n  swrConfig?: SWRConfiguration;\n};\n\nfunction getUrl(key: Key, url?: string | ((key: Key) => string)): string {\n  if (url) {\n    return typeof url === 'function' ? url(key) : url;\n  }\n\n  if (typeof key === 'string') {\n    return key;\n  }\n\n  throw new Error(\n    `When using useOpenmrsSWR with a key that is not a string, you must provide a url() function that converts the key to a valid url. The key for this hook is ${key}.`,\n  );\n}\n\n/**\n * @beta\n *\n * This hook is intended to simplify using openmrsFetch in useSWR, while also ensuring that\n * all useSWR usages properly use an abort controller, so that fetch requests are cancelled\n * if the React component unmounts.\n *\n * @example\n * ```tsx\n * import { useOpenmrsSWR } from \"@openmrs/esm-framework\";\n *\n * function MyComponent() {\n *  const { data } = useOpenmrsSWR(key);\n *\n *  return (\n *    // render something with data\n *  );\n * }\n * ```\n *\n * Note that if you are using a complex SWR key you must provide a url function to the options parameter,\n * which translates the key into a URL to be sent to `openmrsFetch()`\n *\n * @example\n * ```tsx\n * import { useOpenmrsSWR } from \"@openmrs/esm-framework\";\n *\n * function MyComponent() {\n *  const { data } = useOpenmrsSWR(['key', 'url'], { url: (key) => key[1] });\n *\n *  return (\n *    // render something with data\n *  );\n * }\n * ```\n * @param key The SWR key to use\n * @param options An object of optional parameters to provide, including a {@link FetchConfig} object\n *   to pass to {@link openmrsFetch} or options to pass to SWR\n */\nexport function useOpenmrsSWR<DataType = any, ErrorType = any>(key: Key, options: UseOpenmrsSWROptions = {}) {\n  const { abortController, fetchInit, url, swrConfig } = options;\n  const ac = useAbortController();\n  const abortSignal = useMemo<AbortSignal>(\n    () => fetchInit?.signal ?? abortController?.signal ?? ac.signal,\n    [abortController?.signal, fetchInit?.signal, ac.signal],\n  );\n\n  const fetcher = useCallback(\n    (key: Key) => {\n      const url_ = getUrl(key, url);\n      return openmrsFetch(url_, { ...fetchInit, signal: abortSignal });\n    },\n    [abortSignal, fetchInit, url],\n  );\n\n  return useSWR<FetchResponse<DataType>, ErrorType>(key, fetcher, swrConfig);\n}\n","/** @module @category API */\nimport type { Session } from '@openmrs/esm-api';\nimport { getSessionStore } from '@openmrs/esm-api';\nimport { useState, useEffect, useRef } from 'react';\n\nlet promise: undefined | Promise<Session>;\n\n/**\n * Gets the current user session information. Returns an object with\n * property `authenticated` == `false` if the user is not logged in.\n *\n * Uses Suspense. This hook will always either return a Session object\n * or throw for Suspense. It will never return `null`/`undefined`.\n *\n * @returns Current user session information\n */\nexport function useSession(): Session {\n  // We have two separate variables for the session.\n  //\n  // `session` is a temporary variable, which starts as `null` every time this\n  // hook is executed. It is important that we can set and return this\n  // variable synchronously, because every time we `throw` for Suspense, this\n  // hook will unmount and a new instance will be created, destroying whatever\n  // state existed. Thus, if this hook were to try to always set and return\n  // `stateSession`, it would cause an infinite loop:\n  //   1. instance A mounts\n  //   2. instance A receives value, calls `setStateSession`\n  //   3. instance A throws\n  //   4. instance A unmounts\n  //   5. instance B mounts\n  //   ...\n  // What would happen if we moved `session` to the module scope, so that it\n  // could be re-used across instances of this hook? Then we would have no way\n  // to tell whether the session was fresh.\n  //\n  // `stateSession` is React state, which is needed to update components using\n  // this hook when the session changes.\n  const unsubscribe = useRef<undefined | (() => void)>();\n  const [stateSession, setStateSession] = useState<Session | null>(null);\n  let session: Session | null = null;\n\n  if (!stateSession) {\n    if (!promise) {\n      // If we haven't created a promise to throw yet, do that.\n      // current-user.ts handles the initial session fetch as soon as `getSessionStore()`\n      // is called. We just need to call it and set up a listener for when session data\n      // is loaded. As soon as we have the initial session data, we remove this initial\n      // store subscription so we can set up the \"ongoing\" one later.\n      promise = new Promise<Session>((resolve) => {\n        const handleNewSession = ({ loaded, session: newSession }) => {\n          if (loaded) {\n            resolve(newSession);\n            session = newSession;\n            unsubscribe.current && unsubscribe.current();\n            unsubscribe.current = undefined;\n          }\n        };\n        handleNewSession(getSessionStore().getState());\n        if (!session) {\n          unsubscribe.current = getSessionStore().subscribe(handleNewSession);\n        }\n      });\n    } else {\n      // However, if we have created a promise to throw, but there's no `stateSession`\n      // yet, then it's probably just this hook's first render. Check to see if\n      // there's already a session that we can return.\n      const currentState = getSessionStore().getState();\n      if (currentState.loaded) {\n        session = currentState.session;\n      }\n    }\n\n    // If the session got set synchronously in the above block, then we can just\n    // return it rather than throwing. Otherwise, throw for Suspense.\n    if (session) {\n      setStateSession(session);\n    } else {\n      throw promise;\n    }\n  }\n\n  // Once this hook is established (no longer throwing and getting re-created)\n  // we need to set up a subscription that will update its value the good\n  // old-fashioned React way. We are re-using the `unsubscribe` ref from the\n  // initial subscription, which should have been vacated by the first time we\n  // get here.\n  useEffect(() => {\n    if (!unsubscribe.current) {\n      unsubscribe.current = getSessionStore().subscribe(({ loaded, session: newSession }) => {\n        if (loaded) {\n          session = newSession;\n          setStateSession(newSession);\n        }\n      });\n    }\n    return () => {\n      unsubscribe.current && unsubscribe.current();\n      unsubscribe.current = undefined;\n    };\n  }, []);\n\n  const result = stateSession || session;\n  if (!result) {\n    if (promise) {\n      console.warn('useSession is in an unexpected state. Attempting to recover.');\n      throw promise;\n    } else {\n      throw Error('useSession is in an invalid state.');\n    }\n  }\n  return result;\n}\n\n/**\n * For testing.\n */\nexport function __cleanup() {\n  promise = undefined;\n}\n","/** @module @category Extension */\nimport React from 'react';\nimport { ComponentContext, Extension, type ExtensionProps, useExtensionSlot } from '.';\n\n/**\n * This is an advanced hook for use-cases where its useful to use the extension system,\n * but not the `ExtensionSlot` component's rendering of extensions. Use of this hook\n * should be avoided if possible.\n *\n * Functionally, this hook is very similar to the `ExtensionSlot` component, but whereas\n * an `ExtensionSlot` renders a DOM tree of extensions bound to the slot, this hook simply\n * returns the extensions as an array of React components that can be wired into a component\n * however makes sense.\n *\n * @param name The name of the extension slot\n *\n * @example\n * ```ts\n * const extensions = useRenderableExtensions('my-extension-slot');\n * return (\n *  <>\n *    {extensions.map((Ext, index) => (\n *      <React.Fragment key={index}>\n *        <Ext state={{key: 'value'}} />\n *      </React.Fragment>\n *    ))}\n *  </>\n * )\n * ```\n */\nexport function useRenderableExtensions(name: string): Array<React.FC<Pick<ExtensionProps, 'state'>>> {\n  const { extensions, extensionSlotModuleName } = useExtensionSlot(name);\n\n  return name\n    ? extensions.map((extension) => ({ state }: Pick<ExtensionProps, 'state'>) => (\n        <ComponentContext.Provider\n          value={{\n            moduleName: extensionSlotModuleName, // moduleName is not used by the receiving Extension\n            featureName: '', // featureName is not available at this point\n            extension: {\n              extensionId: extension.id,\n              extensionSlotName: name,\n              extensionSlotModuleName,\n            },\n          }}\n        >\n          <Extension state={state} />\n        </ComponentContext.Provider>\n      ))\n    : [];\n}\n","/** @module @category API */\nimport { restBaseUrl, type Visit } from '@openmrs/esm-api';\nimport { defaultVisitCustomRepresentation, getVisitStore, openmrsFetch } from '@openmrs/esm-api';\nimport useSWR from 'swr';\nimport dayjs from 'dayjs';\nimport isToday from 'dayjs/plugin/isToday';\nimport { useMemo } from 'react';\nimport { useStore } from './useStore';\n\ndayjs.extend(isToday);\n\nexport interface VisitReturnType {\n  error: Error;\n  mutate: () => void;\n  isValidating: boolean;\n  activeVisit: Visit | null;\n  currentVisit: Visit | null;\n  currentVisitIsRetrospective: boolean;\n  isLoading: boolean;\n}\n\n/**\n * This React hook returns visit information if the patient UUID is not null. There are\n * potentially two relevant visits at a time: \"active\" and \"current\".\n *\n * The active visit is the most recent visit without an end date. The presence of an active\n * visit generally means that the patient is in the facility.\n *\n * The current visit is the active visit, unless a retrospective visit has been selected.\n * If there is no active visit and no selected retrospective visit, then there is no\n * current visit. If there is no active visit but there is a retrospective visit, then\n * the retrospective visit is the current visit. `currentVisitIsRetrospective` tells you\n * whether the current visit is a retrospective visit.\n *\n * The active visit and current visit require two separate API calls. `error` contains\n * the error from either one, if there is an error. `isValidating` is true if either\n * API call is in progress. `mutate` refreshes the data from both API calls.\n *\n * @param patientUuid Unique patient identifier `string`\n * @param representation The custom representation of the visit\n */\nexport function useVisit(patientUuid: string, representation = defaultVisitCustomRepresentation): VisitReturnType {\n  const { patientUuid: visitStorePatientUuid, manuallySetVisitUuid } = useStore(getVisitStore());\n  // Ignore the visit store data if it is not for this patient\n  const retrospectiveVisitUuid = patientUuid && visitStorePatientUuid == patientUuid ? manuallySetVisitUuid : null;\n  const activeVisitUrlSuffix = `?patient=${patientUuid}&v=${representation}&includeInactive=false`;\n  const retrospectiveVisitUrlSuffix = `/${retrospectiveVisitUuid}?v=${representation}`;\n\n  const {\n    data: activeData,\n    error: activeError,\n    mutate: activeMutate,\n    isValidating: activeIsValidating,\n  } = useSWR<{\n    data: Visit | { results: Array<Visit> };\n  }>(patientUuid ? `${restBaseUrl}/visit${activeVisitUrlSuffix}` : null, openmrsFetch);\n\n  const {\n    data: retroData,\n    error: retroError,\n    mutate: retroMutate,\n    isValidating: retroIsValidating,\n  } = useSWR<{\n    data: Visit | { results: Array<Visit> };\n  }>(patientUuid && retrospectiveVisitUuid ? `${restBaseUrl}/visit${retrospectiveVisitUrlSuffix}` : null, openmrsFetch);\n\n  const activeVisit = useMemo(\n    () => activeData?.data.results.find((visit) => visit.stopDatetime === null) ?? null,\n    [activeData],\n  );\n\n  const currentVisit = useMemo(\n    () => (retrospectiveVisitUuid ? retroData?.data : activeVisit ?? null),\n    [retroData, activeVisit, retrospectiveVisitUuid],\n  );\n\n  return {\n    error: activeError || retroError,\n    mutate: () => {\n      activeMutate();\n      retroMutate();\n    },\n    isValidating: activeIsValidating || retroIsValidating,\n    activeVisit,\n    currentVisit,\n    currentVisitIsRetrospective: Boolean(retrospectiveVisitUuid),\n    isLoading: Boolean((!activeData || (retrospectiveVisitUuid && !retroData)) && (!activeError || !retroError)),\n  };\n}\n","/** @module @category API */\nimport type { VisitType } from '@openmrs/esm-api';\nimport { getVisitTypes } from '@openmrs/esm-api';\nimport { useEffect, useState } from 'react';\n\nexport function useVisitTypes() {\n  const [visitTypes, setVisitTypes] = useState<Array<VisitType>>([]);\n\n  useEffect(() => {\n    const visitTypesSub = getVisitTypes().subscribe(\n      (visitTypes) => {\n        setVisitTypes(visitTypes);\n      },\n      (error) => console.error(error),\n    );\n\n    return () => visitTypesSub.unsubscribe();\n  }, []);\n\n  return visitTypes;\n}\n","/** @module @category UI */\nimport { useCallback, useMemo, useState } from 'react';\n\nconst defaultResultsPerPage = 10;\n\n/**\n * Use this hook to paginate data that already exists on the client side.\n * Note that if the data is obtained from server-side, the caller must handle server-side pagination manually.\n * @see `useServerPagination` for hook that automatically manages server-side pagination.\n * @see `useServerInfinite` for hook to get all data loaded onto the client-side\n * @param data\n * @param resultsPerPage\n * @returns\n */\nexport function usePagination<T>(data: Array<T> = [], resultsPerPage = defaultResultsPerPage) {\n  const [page, setPage] = useState(1);\n  const totalPages = useMemo(\n    () =>\n      typeof resultsPerPage === 'number' && resultsPerPage > 0\n        ? Math.max(1, Math.ceil(data.length / resultsPerPage))\n        : 1,\n    [data.length, resultsPerPage],\n  );\n\n  const results = useMemo(() => {\n    const lowerBound = (page - 1) * resultsPerPage;\n    const upperBound = (page + 0) * resultsPerPage;\n    return data.slice(lowerBound, upperBound);\n  }, [data, page, resultsPerPage]);\n\n  const goTo = useCallback(\n    (page: number) => {\n      setPage(Math.max(1, Math.min(totalPages, page)));\n    },\n    [setPage, totalPages],\n  );\n  const goToNext = useCallback(() => {\n    if (page < totalPages) {\n      setPage(page + 1);\n    }\n  }, [page, totalPages, setPage]);\n\n  const goToPrevious = useCallback(() => {\n    if (page > 1) {\n      setPage(page - 1);\n    }\n  }, [page, setPage]);\n\n  const memoisedPaginatedData = useMemo(\n    () => ({\n      results,\n      totalPages,\n      currentPage: page,\n      paginated: data.length > resultsPerPage,\n      showNextButton: page < totalPages,\n      showPreviousButton: page > 1,\n      goTo,\n      goToNext,\n      goToPrevious,\n    }),\n    [results, totalPages, data.length, resultsPerPage, page, goTo, goToNext, goToPrevious],\n  );\n\n  return memoisedPaginatedData;\n}\n","/** @module @category API */\nimport { useMemo } from 'react';\nimport useSWR from 'swr';\nimport { openmrsFetch, restBaseUrl, type FetchResponse } from '@openmrs/esm-api';\n\nexport interface PrimaryIdentifier {\n  metadataUuid: string;\n}\ninterface PrimaryIdentifierResponse {\n  results: Array<PrimaryIdentifier>;\n}\n\nexport function usePrimaryIdentifierCode(): {\n  primaryIdentifierCode: string | undefined;\n  isLoading: boolean;\n  error: Error | undefined;\n} {\n  const url = `${restBaseUrl}/metadatamapping/termmapping?v=custom:(metadataUuid)&code=emr.primaryIdentifierType`;\n  const { data, error, isLoading } = useSWR<FetchResponse<PrimaryIdentifierResponse>, Error>(url, openmrsFetch);\n\n  const results = useMemo(\n    () => ({\n      primaryIdentifierCode: data?.data?.results[0]?.metadataUuid,\n      isLoading,\n      error,\n    }),\n    [data, error, isLoading],\n  );\n\n  return results;\n}\n","/** @module @category UI */\nimport { type FetchResponse, openmrsFetch } from '@openmrs/esm-api';\nimport { useCallback, useRef, useState } from 'react';\nimport useSWR from 'swr';\n\nexport interface OpenMRSPaginatedResponse<T> {\n  results: Array<T>;\n  links: Array<{ rel: 'prev' | 'next'; uri: string }>;\n  totalCount: number;\n}\n\n/**\n * Most REST endpoints that return a list of objects, such as getAll or search, are server-side paginated.\n * The server limits the max number of results being returned, and multiple requests are needed to get the full data set\n * if its size exceeds this limit.\n * The max number of results per request is configurable server-side\n * with the key \"webservices.rest.maxResultsDefault\". See: https://openmrs.atlassian.net/wiki/spaces/docs/pages/25469882/REST+Module\n *\n * For any UI that displays a paginated view of the full data set, we MUST handle the server-side pagination properly,\n * or else the UI does not correctly display the full data set.\n * This hook does that by providing callback functions for navigating to different pages of the results, and\n * lazy-loads the data on each page as needed.\n *\n * Note that this hook is not suitable for use for situations that require client-side sorting or filtering\n * of the data set. In that case, all data must be loaded onto client-side first.\n *\n * @see `useServerInfinite` for completely loading data (from all pages) onto client side\n * @see `usePagination` for pagination of client-side data`\n *\n * @param url The URL of the paginated rest endpoint.\n *            It should be populated with any needed GET params, except `limit`, `startIndex` or `totalCount`,\n *            which will be overridden and manipulated by the `goTo*` callbacks\n * @param pageSize The number of results to return per page / fetch. Note that this value MUST NOT exceed\n *            \"webservices.rest.maxResultsAbsolute\", which should be reasonably high by default (1000).\n * @param fetcher The fetcher to use. Defaults to openmrsFetch\n * @returns\n */\nexport function useServerPagination<T>(\n  url: string | URL,\n  pageSize: number,\n  fetcher: (key: string) => Promise<FetchResponse<OpenMRSPaginatedResponse<T>>> = openmrsFetch,\n) {\n  const [currentPage, setCurrentPage] = useState<number>(1); // 1-indexing instead of 0-indexing, to keep consistency with `usePagination`\n\n  // Cache the totalCount and currentPageSize so we don't lose them\n  // as we wait for next page's result to load while navigating to a different page.\n  // This can be used to prevent jarring UI changes while loading\n  const totalCount = useRef<number>(Number.NaN);\n  const currentPageSize = useRef<number>(Number.NaN); // this value is usually same as pageSize, except when currentPage is last page.\n\n  const limit = pageSize;\n  const startIndex = (currentPage - 1) * pageSize;\n\n  const urlUrl = new URL(url, window.location.toString());\n  urlUrl.searchParams.set('limit', '' + limit);\n  urlUrl.searchParams.set('startIndex', '' + startIndex);\n  urlUrl.searchParams.set('totalCount', 'true');\n\n  const { data, ...rest } = useSWR(urlUrl.toString(), fetcher);\n\n  if (data?.data) {\n    totalCount.current = data.data?.totalCount;\n    currentPageSize.current = data.data?.results.length;\n  }\n\n  const totalPages = Math.ceil(totalCount.current / pageSize);\n\n  const goTo = useCallback(\n    (page: number) => {\n      if (0 < page && page <= totalPages) {\n        setCurrentPage(page);\n      } else {\n        console.warn('Invalid attempt to go to out of bounds page: ' + page);\n      }\n    },\n    [url, currentPage, totalPages],\n  );\n  const goToNext = useCallback(() => {\n    goTo(currentPage + 1);\n  }, [url, currentPage, totalPages]);\n\n  const goToPrevious = useCallback(() => {\n    goTo(currentPage - 1);\n  }, [url, currentPage, totalPages]);\n\n  return {\n    data: data?.data?.results,\n    totalPages,\n    totalCount: totalCount.current,\n    currentPage,\n    currentPageSize,\n    paginated: totalPages > 1,\n    showNextButton: currentPage < totalPages,\n    showPreviousButton: currentPage > 1,\n    goTo,\n    goToNext,\n    goToPrevious,\n    ...rest,\n  };\n}\n","import React, { useEffect, useLayoutEffect, createContext, useContext, useMemo, useRef, createElement } from 'react';\n\n// Shared state between server components and client components\nconst noop = ()=>{};\n// Using noop() as the undefined value as undefined can be replaced\n// by something else. Prettier ignore and extra parentheses are necessary here\n// to ensure that tsc doesn't remove the __NOINLINE__ comment.\n// prettier-ignore\nconst UNDEFINED = /*#__NOINLINE__*/ noop();\nconst OBJECT = Object;\nconst isUndefined = (v)=>v === UNDEFINED;\nconst isFunction = (v)=>typeof v == 'function';\nconst mergeObjects = (a, b)=>({\n        ...a,\n        ...b\n    });\nconst isPromiseLike = (x)=>isFunction(x.then);\n\n// use WeakMap to store the object->key mapping\n// so the objects can be garbage collected.\n// WeakMap uses a hashtable under the hood, so the lookup\n// complexity is almost O(1).\nconst table = new WeakMap();\n// counter of the key\nlet counter = 0;\n// A stable hash implementation that supports:\n// - Fast and ensures unique hash properties\n// - Handles unserializable values\n// - Handles object key ordering\n// - Generates short results\n//\n// This is not a serialization function, and the result is not guaranteed to be\n// parsable.\nconst stableHash = (arg)=>{\n    const type = typeof arg;\n    const constructor = arg && arg.constructor;\n    const isDate = constructor == Date;\n    let result;\n    let index;\n    if (OBJECT(arg) === arg && !isDate && constructor != RegExp) {\n        // Object/function, not null/date/regexp. Use WeakMap to store the id first.\n        // If it's already hashed, directly return the result.\n        result = table.get(arg);\n        if (result) return result;\n        // Store the hash first for circular reference detection before entering the\n        // recursive `stableHash` calls.\n        // For other objects like set and map, we use this id directly as the hash.\n        result = ++counter + '~';\n        table.set(arg, result);\n        if (constructor == Array) {\n            // Array.\n            result = '@';\n            for(index = 0; index < arg.length; index++){\n                result += stableHash(arg[index]) + ',';\n            }\n            table.set(arg, result);\n        }\n        if (constructor == OBJECT) {\n            // Object, sort keys.\n            result = '#';\n            const keys = OBJECT.keys(arg).sort();\n            while(!isUndefined(index = keys.pop())){\n                if (!isUndefined(arg[index])) {\n                    result += index + ':' + stableHash(arg[index]) + ',';\n                }\n            }\n            table.set(arg, result);\n        }\n    } else {\n        result = isDate ? arg.toJSON() : type == 'symbol' ? arg.toString() : type == 'string' ? JSON.stringify(arg) : '' + arg;\n    }\n    return result;\n};\n\n// Global state used to deduplicate requests and store listeners\nconst SWRGlobalState = new WeakMap();\n\nconst EMPTY_CACHE = {};\nconst INITIAL_CACHE = {};\nconst STR_UNDEFINED = 'undefined';\n// NOTE: Use the function to guarantee it's re-evaluated between jsdom and node runtime for tests.\nconst isWindowDefined = typeof window != STR_UNDEFINED;\nconst isDocumentDefined = typeof document != STR_UNDEFINED;\nconst hasRequestAnimationFrame = ()=>isWindowDefined && typeof window['requestAnimationFrame'] != STR_UNDEFINED;\nconst createCacheHelper = (cache, key)=>{\n    const state = SWRGlobalState.get(cache);\n    return [\n        // Getter\n        ()=>!isUndefined(key) && cache.get(key) || EMPTY_CACHE,\n        // Setter\n        (info)=>{\n            if (!isUndefined(key)) {\n                const prev = cache.get(key);\n                // Before writing to the store, we keep the value in the initial cache\n                // if it's not there yet.\n                if (!(key in INITIAL_CACHE)) {\n                    INITIAL_CACHE[key] = prev;\n                }\n                state[5](key, mergeObjects(prev, info), prev || EMPTY_CACHE);\n            }\n        },\n        // Subscriber\n        state[6],\n        // Get server cache snapshot\n        ()=>{\n            if (!isUndefined(key)) {\n                // If the cache was updated on the client, we return the stored initial value.\n                if (key in INITIAL_CACHE) return INITIAL_CACHE[key];\n            }\n            // If we haven't done any client-side updates, we return the current value.\n            return !isUndefined(key) && cache.get(key) || EMPTY_CACHE;\n        }\n    ];\n} // export { UNDEFINED, OBJECT, isUndefined, isFunction, mergeObjects, isPromiseLike }\n;\n\n/**\n * Due to the bug https://bugs.chromium.org/p/chromium/issues/detail?id=678075,\n * it's not reliable to detect if the browser is currently online or offline\n * based on `navigator.onLine`.\n * As a workaround, we always assume it's online on the first load, and change\n * the status upon `online` or `offline` events.\n */ let online = true;\nconst isOnline = ()=>online;\n// For node and React Native, `add/removeEventListener` doesn't exist on window.\nconst [onWindowEvent, offWindowEvent] = isWindowDefined && window.addEventListener ? [\n    window.addEventListener.bind(window),\n    window.removeEventListener.bind(window)\n] : [\n    noop,\n    noop\n];\nconst isVisible = ()=>{\n    const visibilityState = isDocumentDefined && document.visibilityState;\n    return isUndefined(visibilityState) || visibilityState !== 'hidden';\n};\nconst initFocus = (callback)=>{\n    // focus revalidate\n    if (isDocumentDefined) {\n        document.addEventListener('visibilitychange', callback);\n    }\n    onWindowEvent('focus', callback);\n    return ()=>{\n        if (isDocumentDefined) {\n            document.removeEventListener('visibilitychange', callback);\n        }\n        offWindowEvent('focus', callback);\n    };\n};\nconst initReconnect = (callback)=>{\n    // revalidate on reconnected\n    const onOnline = ()=>{\n        online = true;\n        callback();\n    };\n    // nothing to revalidate, just update the status\n    const onOffline = ()=>{\n        online = false;\n    };\n    onWindowEvent('online', onOnline);\n    onWindowEvent('offline', onOffline);\n    return ()=>{\n        offWindowEvent('online', onOnline);\n        offWindowEvent('offline', onOffline);\n    };\n};\nconst preset = {\n    isOnline,\n    isVisible\n};\nconst defaultConfigOptions = {\n    initFocus,\n    initReconnect\n};\n\nconst IS_REACT_LEGACY = !React.useId;\nconst IS_SERVER = !isWindowDefined || 'Deno' in window;\n// Polyfill requestAnimationFrame\nconst rAF = (f)=>hasRequestAnimationFrame() ? window['requestAnimationFrame'](f) : setTimeout(f, 1);\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\nconst useIsomorphicLayoutEffect = IS_SERVER ? useEffect : useLayoutEffect;\n// This assignment is to extend the Navigator type to use effectiveType.\nconst navigatorConnection = typeof navigator !== 'undefined' && navigator.connection;\n// Adjust the config based on slow connection status (<= 70Kbps).\nconst slowConnection = !IS_SERVER && navigatorConnection && ([\n    'slow-2g',\n    '2g'\n].includes(navigatorConnection.effectiveType) || navigatorConnection.saveData);\n\nconst serialize = (key)=>{\n    if (isFunction(key)) {\n        try {\n            key = key();\n        } catch (err) {\n            // dependencies not ready\n            key = '';\n        }\n    }\n    // Use the original key as the argument of fetcher. This can be a string or an\n    // array of values.\n    const args = key;\n    // If key is not falsy, or not an empty array, hash it.\n    key = typeof key == 'string' ? key : (Array.isArray(key) ? key.length : key) ? stableHash(key) : '';\n    return [\n        key,\n        args\n    ];\n};\n\n// Global timestamp.\nlet __timestamp = 0;\nconst getTimestamp = ()=>++__timestamp;\n\nconst FOCUS_EVENT = 0;\nconst RECONNECT_EVENT = 1;\nconst MUTATE_EVENT = 2;\nconst ERROR_REVALIDATE_EVENT = 3;\n\nvar events = {\n  __proto__: null,\n  ERROR_REVALIDATE_EVENT: ERROR_REVALIDATE_EVENT,\n  FOCUS_EVENT: FOCUS_EVENT,\n  MUTATE_EVENT: MUTATE_EVENT,\n  RECONNECT_EVENT: RECONNECT_EVENT\n};\n\nasync function internalMutate(...args) {\n    const [cache, _key, _data, _opts] = args;\n    // When passing as a boolean, it's explicitly used to disable/enable\n    // revalidation.\n    const options = mergeObjects({\n        populateCache: true,\n        throwOnError: true\n    }, typeof _opts === 'boolean' ? {\n        revalidate: _opts\n    } : _opts || {});\n    let populateCache = options.populateCache;\n    const rollbackOnErrorOption = options.rollbackOnError;\n    let optimisticData = options.optimisticData;\n    const revalidate = options.revalidate !== false;\n    const rollbackOnError = (error)=>{\n        return typeof rollbackOnErrorOption === 'function' ? rollbackOnErrorOption(error) : rollbackOnErrorOption !== false;\n    };\n    const throwOnError = options.throwOnError;\n    // If the second argument is a key filter, return the mutation results for all\n    // filtered keys.\n    if (isFunction(_key)) {\n        const keyFilter = _key;\n        const matchedKeys = [];\n        const it = cache.keys();\n        for (const key of it){\n            if (// Skip the special useSWRInfinite and useSWRSubscription keys.\n            !/^\\$(inf|sub)\\$/.test(key) && keyFilter(cache.get(key)._k)) {\n                matchedKeys.push(key);\n            }\n        }\n        return Promise.all(matchedKeys.map(mutateByKey));\n    }\n    return mutateByKey(_key);\n    async function mutateByKey(_k) {\n        // Serialize key\n        const [key] = serialize(_k);\n        if (!key) return;\n        const [get, set] = createCacheHelper(cache, key);\n        const [EVENT_REVALIDATORS, MUTATION, FETCH, PRELOAD] = SWRGlobalState.get(cache);\n        const startRevalidate = ()=>{\n            const revalidators = EVENT_REVALIDATORS[key];\n            if (revalidate) {\n                // Invalidate the key by deleting the concurrent request markers so new\n                // requests will not be deduped.\n                delete FETCH[key];\n                delete PRELOAD[key];\n                if (revalidators && revalidators[0]) {\n                    return revalidators[0](MUTATE_EVENT).then(()=>get().data);\n                }\n            }\n            return get().data;\n        };\n        // If there is no new data provided, revalidate the key with current state.\n        if (args.length < 3) {\n            // Revalidate and broadcast state.\n            return startRevalidate();\n        }\n        let data = _data;\n        let error;\n        // Update global timestamps.\n        const beforeMutationTs = getTimestamp();\n        MUTATION[key] = [\n            beforeMutationTs,\n            0\n        ];\n        const hasOptimisticData = !isUndefined(optimisticData);\n        const state = get();\n        // `displayedData` is the current value on screen. It could be the optimistic value\n        // that is going to be overridden by a `committedData`, or get reverted back.\n        // `committedData` is the validated value that comes from a fetch or mutation.\n        const displayedData = state.data;\n        const currentData = state._c;\n        const committedData = isUndefined(currentData) ? displayedData : currentData;\n        // Do optimistic data update.\n        if (hasOptimisticData) {\n            optimisticData = isFunction(optimisticData) ? optimisticData(committedData, displayedData) : optimisticData;\n            // When we set optimistic data, backup the current committedData data in `_c`.\n            set({\n                data: optimisticData,\n                _c: committedData\n            });\n        }\n        if (isFunction(data)) {\n            // `data` is a function, call it passing current cache value.\n            try {\n                data = data(committedData);\n            } catch (err) {\n                // If it throws an error synchronously, we shouldn't update the cache.\n                error = err;\n            }\n        }\n        // `data` is a promise/thenable, resolve the final data first.\n        if (data && isPromiseLike(data)) {\n            // This means that the mutation is async, we need to check timestamps to\n            // avoid race conditions.\n            data = await data.catch((err)=>{\n                error = err;\n            });\n            // Check if other mutations have occurred since we've started this mutation.\n            // If there's a race we don't update cache or broadcast the change,\n            // just return the data.\n            if (beforeMutationTs !== MUTATION[key][0]) {\n                if (error) throw error;\n                return data;\n            } else if (error && hasOptimisticData && rollbackOnError(error)) {\n                // Rollback. Always populate the cache in this case but without\n                // transforming the data.\n                populateCache = true;\n                // Reset data to be the latest committed data, and clear the `_c` value.\n                set({\n                    data: committedData,\n                    _c: UNDEFINED\n                });\n            }\n        }\n        // If we should write back the cache after request.\n        if (populateCache) {\n            if (!error) {\n                // Transform the result into data.\n                if (isFunction(populateCache)) {\n                    const populateCachedData = populateCache(data, committedData);\n                    set({\n                        data: populateCachedData,\n                        error: UNDEFINED,\n                        _c: UNDEFINED\n                    });\n                } else {\n                    // Only update cached data and reset the error if there's no error. Data can be `undefined` here.\n                    set({\n                        data,\n                        error: UNDEFINED,\n                        _c: UNDEFINED\n                    });\n                }\n            }\n        }\n        // Reset the timestamp to mark the mutation has ended.\n        MUTATION[key][1] = getTimestamp();\n        // Update existing SWR Hooks' internal states:\n        Promise.resolve(startRevalidate()).then(()=>{\n            // The mutation and revalidation are ended, we can clear it since the data is\n            // not an optimistic value anymore.\n            set({\n                _c: UNDEFINED\n            });\n        });\n        // Throw error or return data\n        if (error) {\n            if (throwOnError) throw error;\n            return;\n        }\n        return data;\n    }\n}\n\nconst revalidateAllKeys = (revalidators, type)=>{\n    for(const key in revalidators){\n        if (revalidators[key][0]) revalidators[key][0](type);\n    }\n};\nconst initCache = (provider, options)=>{\n    // The global state for a specific provider will be used to deduplicate\n    // requests and store listeners. As well as a mutate function that is bound to\n    // the cache.\n    // The provider's global state might be already initialized. Let's try to get the\n    // global state associated with the provider first.\n    if (!SWRGlobalState.has(provider)) {\n        const opts = mergeObjects(defaultConfigOptions, options);\n        // If there's no global state bound to the provider, create a new one with the\n        // new mutate function.\n        const EVENT_REVALIDATORS = {};\n        const mutate = internalMutate.bind(UNDEFINED, provider);\n        let unmount = noop;\n        const subscriptions = {};\n        const subscribe = (key, callback)=>{\n            const subs = subscriptions[key] || [];\n            subscriptions[key] = subs;\n            subs.push(callback);\n            return ()=>subs.splice(subs.indexOf(callback), 1);\n        };\n        const setter = (key, value, prev)=>{\n            provider.set(key, value);\n            const subs = subscriptions[key];\n            if (subs) {\n                for (const fn of subs){\n                    fn(value, prev);\n                }\n            }\n        };\n        const initProvider = ()=>{\n            if (!SWRGlobalState.has(provider)) {\n                // Update the state if it's new, or if the provider has been extended.\n                SWRGlobalState.set(provider, [\n                    EVENT_REVALIDATORS,\n                    {},\n                    {},\n                    {},\n                    mutate,\n                    setter,\n                    subscribe\n                ]);\n                if (!IS_SERVER) {\n                    // When listening to the native events for auto revalidations,\n                    // we intentionally put a delay (setTimeout) here to make sure they are\n                    // fired after immediate JavaScript executions, which can be\n                    // React's state updates.\n                    // This avoids some unnecessary revalidations such as\n                    // https://github.com/vercel/swr/issues/1680.\n                    const releaseFocus = opts.initFocus(setTimeout.bind(UNDEFINED, revalidateAllKeys.bind(UNDEFINED, EVENT_REVALIDATORS, FOCUS_EVENT)));\n                    const releaseReconnect = opts.initReconnect(setTimeout.bind(UNDEFINED, revalidateAllKeys.bind(UNDEFINED, EVENT_REVALIDATORS, RECONNECT_EVENT)));\n                    unmount = ()=>{\n                        releaseFocus && releaseFocus();\n                        releaseReconnect && releaseReconnect();\n                        // When un-mounting, we need to remove the cache provider from the state\n                        // storage too because it's a side-effect. Otherwise, when re-mounting we\n                        // will not re-register those event listeners.\n                        SWRGlobalState.delete(provider);\n                    };\n                }\n            }\n        };\n        initProvider();\n        // This is a new provider, we need to initialize it and setup DOM events\n        // listeners for `focus` and `reconnect` actions.\n        // We might want to inject an extra layer on top of `provider` in the future,\n        // such as key serialization, auto GC, etc.\n        // For now, it's just a `Map` interface without any modifications.\n        return [\n            provider,\n            mutate,\n            initProvider,\n            unmount\n        ];\n    }\n    return [\n        provider,\n        SWRGlobalState.get(provider)[4]\n    ];\n};\n\n// error retry\nconst onErrorRetry = (_, __, config, revalidate, opts)=>{\n    const maxRetryCount = config.errorRetryCount;\n    const currentRetryCount = opts.retryCount;\n    // Exponential backoff\n    const timeout = ~~((Math.random() + 0.5) * (1 << (currentRetryCount < 8 ? currentRetryCount : 8))) * config.errorRetryInterval;\n    if (!isUndefined(maxRetryCount) && currentRetryCount > maxRetryCount) {\n        return;\n    }\n    setTimeout(revalidate, timeout, opts);\n};\nconst compare = (currentData, newData)=>stableHash(currentData) == stableHash(newData);\n// Default cache provider\nconst [cache, mutate] = initCache(new Map());\n// Default config\nconst defaultConfig = mergeObjects({\n    // events\n    onLoadingSlow: noop,\n    onSuccess: noop,\n    onError: noop,\n    onErrorRetry,\n    onDiscarded: noop,\n    // switches\n    revalidateOnFocus: true,\n    revalidateOnReconnect: true,\n    revalidateIfStale: true,\n    shouldRetryOnError: true,\n    // timeouts\n    errorRetryInterval: slowConnection ? 10000 : 5000,\n    focusThrottleInterval: 5 * 1000,\n    dedupingInterval: 2 * 1000,\n    loadingTimeout: slowConnection ? 5000 : 3000,\n    // providers\n    compare,\n    isPaused: ()=>false,\n    cache,\n    mutate,\n    fallback: {}\n}, // use web preset by default\npreset);\n\nconst mergeConfigs = (a, b)=>{\n    // Need to create a new object to avoid mutating the original here.\n    const v = mergeObjects(a, b);\n    // If two configs are provided, merge their `use` and `fallback` options.\n    if (b) {\n        const { use: u1, fallback: f1 } = a;\n        const { use: u2, fallback: f2 } = b;\n        if (u1 && u2) {\n            v.use = u1.concat(u2);\n        }\n        if (f1 && f2) {\n            v.fallback = mergeObjects(f1, f2);\n        }\n    }\n    return v;\n};\n\nconst SWRConfigContext = createContext({});\nconst SWRConfig = (props)=>{\n    const { value } = props;\n    const parentConfig = useContext(SWRConfigContext);\n    const isFunctionalConfig = isFunction(value);\n    const config = useMemo(()=>isFunctionalConfig ? value(parentConfig) : value, [\n        isFunctionalConfig,\n        parentConfig,\n        value\n    ]);\n    // Extend parent context values and middleware.\n    const extendedConfig = useMemo(()=>isFunctionalConfig ? config : mergeConfigs(parentConfig, config), [\n        isFunctionalConfig,\n        parentConfig,\n        config\n    ]);\n    // Should not use the inherited provider.\n    const provider = config && config.provider;\n    // initialize the cache only on first access.\n    const cacheContextRef = useRef(UNDEFINED);\n    if (provider && !cacheContextRef.current) {\n        cacheContextRef.current = initCache(provider(extendedConfig.cache || cache), config);\n    }\n    const cacheContext = cacheContextRef.current;\n    // Override the cache if a new provider is given.\n    if (cacheContext) {\n        extendedConfig.cache = cacheContext[0];\n        extendedConfig.mutate = cacheContext[1];\n    }\n    // Unsubscribe events.\n    useIsomorphicLayoutEffect(()=>{\n        if (cacheContext) {\n            cacheContext[2] && cacheContext[2]();\n            return cacheContext[3];\n        }\n    }, []);\n    return createElement(SWRConfigContext.Provider, mergeObjects(props, {\n        value: extendedConfig\n    }));\n};\n\nconst INFINITE_PREFIX = '$inf$';\n\n// @ts-expect-error\nconst enableDevtools = isWindowDefined && window.__SWR_DEVTOOLS_USE__;\nconst use = enableDevtools ? window.__SWR_DEVTOOLS_USE__ : [];\nconst setupDevTools = ()=>{\n    if (enableDevtools) {\n        // @ts-expect-error\n        window.__SWR_DEVTOOLS_REACT__ = React;\n    }\n};\n\nconst normalize = (args)=>{\n    return isFunction(args[1]) ? [\n        args[0],\n        args[1],\n        args[2] || {}\n    ] : [\n        args[0],\n        null,\n        (args[1] === null ? args[2] : args[1]) || {}\n    ];\n};\n\nconst useSWRConfig = ()=>{\n    return mergeObjects(defaultConfig, useContext(SWRConfigContext));\n};\n\nconst preload = (key_, fetcher)=>{\n    const [key, fnArg] = serialize(key_);\n    const [, , , PRELOAD] = SWRGlobalState.get(cache);\n    // Prevent preload to be called multiple times before used.\n    if (PRELOAD[key]) return PRELOAD[key];\n    const req = fetcher(fnArg);\n    PRELOAD[key] = req;\n    return req;\n};\nconst middleware = (useSWRNext)=>(key_, fetcher_, config)=>{\n        // fetcher might be a sync function, so this should not be an async function\n        const fetcher = fetcher_ && ((...args)=>{\n            const [key] = serialize(key_);\n            const [, , , PRELOAD] = SWRGlobalState.get(cache);\n            if (key.startsWith(INFINITE_PREFIX)) {\n                // we want the infinite fetcher to be called.\n                // handling of the PRELOAD cache happens there.\n                return fetcher_(...args);\n            }\n            const req = PRELOAD[key];\n            if (isUndefined(req)) return fetcher_(...args);\n            delete PRELOAD[key];\n            return req;\n        });\n        return useSWRNext(key_, fetcher, config);\n    };\n\nconst BUILT_IN_MIDDLEWARE = use.concat(middleware);\n\n// It's tricky to pass generic types as parameters, so we just directly override\n// the types here.\nconst withArgs = (hook)=>{\n    return function useSWRArgs(...args) {\n        // Get the default and inherited configuration.\n        const fallbackConfig = useSWRConfig();\n        // Normalize arguments.\n        const [key, fn, _config] = normalize(args);\n        // Merge configurations.\n        const config = mergeConfigs(fallbackConfig, _config);\n        // Apply middleware\n        let next = hook;\n        const { use } = config;\n        const middleware = (use || []).concat(BUILT_IN_MIDDLEWARE);\n        for(let i = middleware.length; i--;){\n            next = middleware[i](next);\n        }\n        return next(key, fn || config.fetcher || null, config);\n    };\n};\n\n// Add a callback function to a list of keyed callback functions and return\n// the unsubscribe function.\nconst subscribeCallback = (key, callbacks, callback)=>{\n    const keyedRevalidators = callbacks[key] || (callbacks[key] = []);\n    keyedRevalidators.push(callback);\n    return ()=>{\n        const index = keyedRevalidators.indexOf(callback);\n        if (index >= 0) {\n            // O(1): faster than splice\n            keyedRevalidators[index] = keyedRevalidators[keyedRevalidators.length - 1];\n            keyedRevalidators.pop();\n        }\n    };\n};\n\n// Create a custom hook with a middleware\nconst withMiddleware = (useSWR, middleware)=>{\n    return (...args)=>{\n        const [key, fn, config] = normalize(args);\n        const uses = (config.use || []).concat(middleware);\n        return useSWR(key, fn, {\n            ...config,\n            use: uses\n        });\n    };\n};\n\nsetupDevTools();\n\nexport { INFINITE_PREFIX, IS_REACT_LEGACY, IS_SERVER, OBJECT, SWRConfig, SWRGlobalState, UNDEFINED, cache, compare, createCacheHelper, defaultConfig, defaultConfigOptions, getTimestamp, hasRequestAnimationFrame, initCache, internalMutate, isDocumentDefined, isFunction, isPromiseLike, isUndefined, isWindowDefined, mergeConfigs, mergeObjects, mutate, noop, normalize, preload, preset, rAF, events as revalidateEvents, serialize, slowConnection, stableHash, subscribeCallback, useIsomorphicLayoutEffect, useSWRConfig, withArgs, withMiddleware };\n","import { useRef, useCallback } from 'react';\nimport useSWR from 'swr';\nimport { INFINITE_PREFIX, serialize, withMiddleware, SWRGlobalState, cache, createCacheHelper, isUndefined, useIsomorphicLayoutEffect, UNDEFINED, isFunction } from 'swr/_internal';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim/index.js';\n\nconst getFirstPageKey = (getKey)=>{\n    return serialize(getKey ? getKey(0, null) : null)[0];\n};\nconst unstable_serialize = (getKey)=>{\n    return INFINITE_PREFIX + getFirstPageKey(getKey);\n};\n\n// We have to several type castings here because `useSWRInfinite` is a special\n// const INFINITE_PREFIX = '$inf$'\nconst EMPTY_PROMISE = Promise.resolve();\n// export const unstable_serialize = (getKey: SWRInfiniteKeyLoader) => {\n//   return INFINITE_PREFIX + getFirstPageKey(getKey)\n// }\nconst infinite = (useSWRNext)=>(getKey, fn, config)=>{\n        const didMountRef = useRef(false);\n        const { cache: cache$1, initialSize = 1, revalidateAll = false, persistSize = false, revalidateFirstPage = true, revalidateOnMount = false, parallel = false } = config;\n        const [, , , PRELOAD] = SWRGlobalState.get(cache);\n        // The serialized key of the first page. This key will be used to store\n        // metadata of this SWR infinite hook.\n        let infiniteKey;\n        try {\n            infiniteKey = getFirstPageKey(getKey);\n            if (infiniteKey) infiniteKey = INFINITE_PREFIX + infiniteKey;\n        } catch (err) {\n        // Not ready yet.\n        }\n        const [get, set, subscribeCache] = createCacheHelper(cache$1, infiniteKey);\n        const getSnapshot = useCallback(()=>{\n            const size = isUndefined(get()._l) ? initialSize : get()._l;\n            return size;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [\n            cache$1,\n            infiniteKey,\n            initialSize\n        ]);\n        useSyncExternalStore(useCallback((callback)=>{\n            if (infiniteKey) return subscribeCache(infiniteKey, ()=>{\n                callback();\n            });\n            return ()=>{};\n        }, // eslint-disable-next-line react-hooks/exhaustive-deps\n        [\n            cache$1,\n            infiniteKey\n        ]), getSnapshot, getSnapshot);\n        const resolvePageSize = useCallback(()=>{\n            const cachedPageSize = get()._l;\n            return isUndefined(cachedPageSize) ? initialSize : cachedPageSize;\n        // `cache` isn't allowed to change during the lifecycle\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [\n            infiniteKey,\n            initialSize\n        ]);\n        // keep the last page size to restore it with the persistSize option\n        const lastPageSizeRef = useRef(resolvePageSize());\n        // When the page key changes, we reset the page size if it's not persisted\n        useIsomorphicLayoutEffect(()=>{\n            if (!didMountRef.current) {\n                didMountRef.current = true;\n                return;\n            }\n            if (infiniteKey) {\n                // If the key has been changed, we keep the current page size if persistSize is enabled\n                // Otherwise, we reset the page size to cached pageSize\n                set({\n                    _l: persistSize ? lastPageSizeRef.current : resolvePageSize()\n                });\n            }\n        // `initialSize` isn't allowed to change during the lifecycle\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [\n            infiniteKey,\n            cache$1\n        ]);\n        // Needs to check didMountRef during mounting, not in the fetcher\n        const shouldRevalidateOnMount = revalidateOnMount && !didMountRef.current;\n        // Actual SWR hook to load all pages in one fetcher.\n        const swr = useSWRNext(infiniteKey, async (key)=>{\n            // get the revalidate context\n            const forceRevalidateAll = get()._i;\n            // return an array of page data\n            const data = [];\n            const pageSize = resolvePageSize();\n            const [getCache] = createCacheHelper(cache$1, key);\n            const cacheData = getCache().data;\n            const revalidators = [];\n            let previousPageData = null;\n            for(let i = 0; i < pageSize; ++i){\n                const [pageKey, pageArg] = serialize(getKey(i, parallel ? null : previousPageData));\n                if (!pageKey) {\n                    break;\n                }\n                const [getSWRCache, setSWRCache] = createCacheHelper(cache$1, pageKey);\n                // Get the cached page data.\n                let pageData = getSWRCache().data;\n                // should fetch (or revalidate) if:\n                // - `revalidateAll` is enabled\n                // - `mutate()` called\n                // - the cache is missing\n                // - it's the first page and it's not the initial render\n                // - `revalidateOnMount` is enabled and it's on mount\n                // - cache for that page has changed\n                const shouldFetchPage = revalidateAll || forceRevalidateAll || isUndefined(pageData) || revalidateFirstPage && !i && !isUndefined(cacheData) || shouldRevalidateOnMount || cacheData && !isUndefined(cacheData[i]) && !config.compare(cacheData[i], pageData);\n                if (fn && shouldFetchPage) {\n                    const revalidate = async ()=>{\n                        const hasPreloadedRequest = pageKey in PRELOAD;\n                        if (!hasPreloadedRequest) {\n                            pageData = await fn(pageArg);\n                        } else {\n                            const req = PRELOAD[pageKey];\n                            // delete the preload cache key before resolving it\n                            // in case there's an error\n                            delete PRELOAD[pageKey];\n                            // get the page data from the preload cache\n                            pageData = await req;\n                        }\n                        setSWRCache({\n                            data: pageData,\n                            _k: pageArg\n                        });\n                        data[i] = pageData;\n                    };\n                    if (parallel) {\n                        revalidators.push(revalidate);\n                    } else {\n                        await revalidate();\n                    }\n                } else {\n                    data[i] = pageData;\n                }\n                if (!parallel) {\n                    previousPageData = pageData;\n                }\n            }\n            // flush all revalidateions in parallel\n            if (parallel) {\n                await Promise.all(revalidators.map((r)=>r()));\n            }\n            // once we executed the data fetching based on the context, clear the context\n            set({\n                _i: UNDEFINED\n            });\n            // return the data\n            return data;\n        }, config);\n        const mutate = useCallback(// eslint-disable-next-line func-names\n        function(data, opts) {\n            // When passing as a boolean, it's explicitly used to disable/enable\n            // revalidation.\n            const options = typeof opts === 'boolean' ? {\n                revalidate: opts\n            } : opts || {};\n            // Default to true.\n            const shouldRevalidate = options.revalidate !== false;\n            // It is possible that the key is still falsy.\n            if (!infiniteKey) return EMPTY_PROMISE;\n            if (shouldRevalidate) {\n                if (!isUndefined(data)) {\n                    // We only revalidate the pages that are changed\n                    set({\n                        _i: false\n                    });\n                } else {\n                    // Calling `mutate()`, we revalidate all pages\n                    set({\n                        _i: true\n                    });\n                }\n            }\n            return arguments.length ? swr.mutate(data, {\n                ...options,\n                revalidate: shouldRevalidate\n            }) : swr.mutate();\n        }, // swr.mutate is always the same reference\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [\n            infiniteKey,\n            cache$1\n        ]);\n        // Extend the SWR API\n        const setSize = useCallback((arg)=>{\n            // It is possible that the key is still falsy.\n            if (!infiniteKey) return EMPTY_PROMISE;\n            const [, changeSize] = createCacheHelper(cache$1, infiniteKey);\n            let size;\n            if (isFunction(arg)) {\n                size = arg(resolvePageSize());\n            } else if (typeof arg == 'number') {\n                size = arg;\n            }\n            if (typeof size != 'number') return EMPTY_PROMISE;\n            changeSize({\n                _l: size\n            });\n            lastPageSizeRef.current = size;\n            // Calculate the page data after the size change.\n            const data = [];\n            const [getInfiniteCache] = createCacheHelper(cache$1, infiniteKey);\n            let previousPageData = null;\n            for(let i = 0; i < size; ++i){\n                const [pageKey] = serialize(getKey(i, previousPageData));\n                const [getCache] = createCacheHelper(cache$1, pageKey);\n                // Get the cached page data.\n                const pageData = pageKey ? getCache().data : UNDEFINED;\n                // Call `mutate` with infinte cache data if we can't get it from the page cache.\n                if (isUndefined(pageData)) {\n                    return mutate(getInfiniteCache().data);\n                }\n                data.push(pageData);\n                previousPageData = pageData;\n            }\n            return mutate(data);\n        }, // exclude getKey from the dependencies, which isn't allowed to change during the lifecycle\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        [\n            infiniteKey,\n            cache$1,\n            mutate,\n            resolvePageSize\n        ]);\n        // Use getter functions to avoid unnecessary re-renders caused by triggering\n        // all the getters of the returned swr object.\n        return {\n            size: resolvePageSize(),\n            setSize,\n            mutate,\n            get data () {\n                return swr.data;\n            },\n            get error () {\n                return swr.error;\n            },\n            get isValidating () {\n                return swr.isValidating;\n            },\n            get isLoading () {\n                return swr.isLoading;\n            }\n        };\n    };\nconst useSWRInfinite = withMiddleware(useSWR, infinite);\n\nexport { useSWRInfinite as default, infinite, unstable_serialize };\n","/** @module @category UI */\nimport { type FetchResponse, openmrsFetch } from '@openmrs/esm-api';\nimport useSWRInfinite from 'swr/infinite';\nimport { type OpenMRSPaginatedResponse } from './useServerPagination';\nimport { type KeyedMutator } from 'swr';\nimport { useCallback } from 'react';\n\nexport interface UseServerInfiniteReturnObject<T> {\n  /**\n   * The data fetched from the server so far. Note that this array contains\n   * the aggregate of data from all fetched pages. Unless hasMore == false,\n   * this array does not contain the complete data set.\n   */\n  data: T[] | undefined;\n\n  /**\n   * The total number of rows in the data set.\n   */\n  totalCount: number | undefined;\n\n  /**\n   * Whether there are more results in the data set that have not been fetched yet.\n   */\n  hasMore: boolean;\n\n  /**\n   * callback function to make another fetch of next page's data set.\n   */\n  loadMore: () => void;\n\n  /**\n   * from useSWRInfinite\n   */\n  error: any;\n\n  /**\n   * from useSWRInfinite\n   */\n  mutate: KeyedMutator<FetchResponse<OpenMRSPaginatedResponse<T>>[]>;\n\n  /**\n   * from useSWRInfinite\n   */\n  isValidating: boolean;\n\n  /**\n   * from useSWRInfinite\n   */\n  isLoading: boolean;\n}\n\n/**\n * Most REST endpoints that return a list of objects, such as getAll or search, are server-side paginated.\n * The server limits the max number of results being returned, and multiple requests are needed to get the full data set\n * if its size exceeds this limit.\n * The max number of results per request is configurable server-side\n * with the key \"webservices.rest.maxResultsDefault\". See: https://openmrs.atlassian.net/wiki/spaces/docs/pages/25469882/REST+Module\n *\n * This hook fetches data from a paginated rest endpoint, initially by fetching the first page of the results.\n * It provides a callback to load data from subsequent pages as needed. This hook is intended to serve UIs that\n * provide infinite loading / scrolling of results.\n *\n * While not ideal, this hook can be used to fetch the complete data set of results (from all pages) as follows:\n *\n *      useEffect(() => hasMore && loadMore(), [hasMore])\n *\n * The above should only be used when there is a need to fetch the complete data set onto the client side (ex:\n * need to support client-side sorting or filtering of data).\n *\n * @see `useServerPagination` for lazy-loading paginated data`\n *\n * @param url The URL of the paginated rest endpoint. Note that the `limit` GET param can be set to specify\n *            the page size; if not set, the page size defaults to the `webservices.rest.maxResultsDefault` value defined\n *            server-side.\n * @param fetcher The fetcher to use. Defaults to openmrsFetch\n * @returns a UseServerInfiniteReturnObject object\n */\nexport function useServerInfinite<T>(\n  url: string | URL,\n  fetcher: (key: string) => Promise<FetchResponse<OpenMRSPaginatedResponse<T>>> = openmrsFetch,\n): UseServerInfiniteReturnObject<T> {\n  const getNextUri = useCallback((data: FetchResponse<OpenMRSPaginatedResponse<T>>) => {\n    return data?.data?.links?.find((link) => link.rel == 'next');\n  }, []);\n\n  const getKey = useCallback((pageIndex: number, previousPageData: FetchResponse<OpenMRSPaginatedResponse<T>>) => {\n    if (pageIndex == 0) {\n      return url;\n    } else {\n      return getNextUri(previousPageData)?.uri ?? null;\n    }\n  }, []);\n\n  const { data, size, setSize, ...rest } = useSWRInfinite<FetchResponse<OpenMRSPaginatedResponse<T>>>(getKey, fetcher);\n  const nextUri = data?.[data.length - 1].data?.links?.find((link) => link.rel == 'next');\n\n  const hasMore = nextUri != null;\n  const loadMore = () => {\n    setSize(size + 1);\n  };\n  const totalCount = data?.[0]?.data?.totalCount;\n\n  return {\n    data: data?.flatMap((d) => d.data.results),\n    totalCount,\n    hasMore,\n    loadMore,\n    ...rest,\n  };\n}\n"],"names":["module","exports","e","o","t","prototype","isToday","this","format","m","createRoot","hydrateRoot","System","register","execute","a","r","active","console","error","value","setState","n","u","i","c","getState","subscribe","d","Object","defineProperty","enumerable","get","hasOwnProperty","call","Symbol","toStringTag","createGlobalStore","getGlobalStore","registerGlobalStore","subscribeTo","Set","is","assign","forEach","add","delete","destroy","warn","clear","setTimeout","window","spaEnv","stores","k","b","l","useState","useEffect","useLayoutEffect","p","useDebugValue","getSnapshot","f","document","createElement","inst","g","useSyncExternalStore","__WEBPACK_EXTERNAL_MODULE__766__","__WEBPACK_EXTERNAL_MODULE__824__","__WEBPACK_EXTERNAL_MODULE__743__","__WEBPACK_EXTERNAL_MODULE__45__","__WEBPACK_EXTERNAL_MODULE__708__","__WEBPACK_EXTERNAL_MODULE__728__","__WEBPACK_EXTERNAL_MODULE__513__","__WEBPACK_EXTERNAL_MODULE__618__","__WEBPACK_EXTERNAL_MODULE__688__","__WEBPACK_EXTERNAL_MODULE__954__","__WEBPACK_EXTERNAL_MODULE__493__","__WEBPACK_EXTERNAL_MODULE__281__","__WEBPACK_EXTERNAL_MODULE__725__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","definition","key","obj","prop","ComponentContext","React","moduleName","featureName","ConfigurableLink","to","templateParams","onBeforeNavigate","children","otherProps","href","onClick","event","button","ctrlKey","shiftKey","altKey","metaKey","preventDefault","navigate","handleClick","interpolateUrl","Extension","state","wrap","divProps","domElement","setDomElement","useContext","extension","parcel","useRef","updatePromise","Promise","resolve","rendering","extensionId","extensionSlotName","ref","useCallback","node","extensionSlotModuleName","current","renderExtension","then","newParcel","getStatus","mountPromise","unmount","update","all","catch","err","Error","message","includes","slot","div","data-extension-id","style","position","useConnectivity","isOnlineFn","isOnline","setIsOnline","subscribeConnectivityChanged","online","bindActions","store","actions","bound","args","_args","defaultSelectFunction","x","useStore","select","useMemo","useStoreWithActions","createUseStore","set","useExtensionStore","getExtensionStore","useAssignedExtensions","slotName","slots","assignedExtensions","useConnectedExtensions","featureFlagStore","featureFlagsStore","enabledFeatureFlags","entries","flags","filter","enabled","map","name","getConnectedExtensions","useExtensionSlot","registerExtensionSlot","extensions","defaultSelect","ExtensionSlot","extensionsFromChildrenFunction","legacyExtensionSlotName","slotRef","extensionsToRender","data-extension-slot-name","data-extension-slot-module-name","Provider","id","UserHasAccess","privilege","fallback","user","setUser","subscription","getCurrentUser","includeAuthStatus","unsubscribe","userHasAccess","keys","getOwnPropertySymbols","getOwnPropertyDescriptor","push","apply","arguments","length","getOwnPropertyDescriptors","defineProperties","iterator","constructor","configurable","writable","domElementGetter","appName","concat","getElementById","body","appendChild","HTMLElement","require","createContext","ReactDOM","ReactDOMClient","rootComponent","loadRootComponent","errorBoundary","errorBoundaryClass","parcelCanUpdate","suppressComponentDidCatchWarning","domElements","renderResults","updateResolves","unmountResolves","s","version","indexOf","slice","Number","componentDidCatch","childAppName","y","renderType","elementToRender","reactDom","render","unmountComponentAtNode","Component","caughtError","caughtErrorInfo","displayName","create","props","SingleSpaRoot","mountFinished","updateFinished","unmountFinished","defaultOpts","strictMode","throwErrorsToConsole","disableTranslations","defaultSwrConfig","errorRetryCount","fetcher","openmrsFetch","focusThrottleInterval","openmrsComponentDecorator","userOpts","opts","Comp","OpenmrsReactComponent","config","_extensionContext","info","componentStack","extra","content","Suspense","SWRConfig","I18nextProvider","i18n","i18next","defaultNS","getLifecycle","options","componentDidMount","componentWillUnmount","bootstrap","bind","mount","singleSpaReact","getAsyncLifecycle","lazy","default","getSyncLifecycle","getAsyncExtensionLifecycle","useDefineAppContext","namespace","previousValue","updateFunction","updateContext","registerContext","unregisterContext","futureValue","shallowEqual","OpenmrsAppContext","useAbortController","abortController","signal","aborted","AbortController","ac","abort","useAppContext","selector","setValue","replace","subscribeToContext","newValue","other","array","splice","Array","ListCache","index","entry","__data__","size","data","pop","has","global","freeSelf","self","Function","objectProto","nativeObjectToString","toString","symToStringTag","isOwn","tag","unmasked","result","type","uid","maskSrcKey","exec","IE_PROTO","funcToString","func","reIsHostCtor","reIsNative","RegExp","test","object","Hash","MapCache","Stack","pairs","LARGE_ARRAY_SIZE","SetCache","values","predicate","cache","bitmask","customizer","equalFunc","stack","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","Uint8Array","symbolProto","symbolValueOf","valueOf","isArray","propertyIsEnumerable","nativeGetSymbols","resIndex","symbol","isArguments","freeExports","nodeType","freeModule","Buffer","isBuffer","reIsUint","typedArrayTags","freeProcess","process","nodeUtil","types","binding","nodeIsTypedArray","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","iteratee","String","transform","arg","Ctor","keysFunc","symbolsFunc","offset","promiseTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","ctorString","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","byteLength","byteOffset","buffer","convert","stacked","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","objStacked","skipCtor","objValue","objCtor","othCtor","baseIsEqual","useAssignedExtensionIds","ids","setIds","newIds","isEqual","useAttachments","patientUuid","includeEncounterless","useSWR","attachmentUrl","mutate","isLoading","isValidating","results","useBodyScrollLock","original","getComputedStyle","overflow","promises","errorMessage","useExtensionConfig","getExtensionsConfigStore","extConfig","getExtensionConfigFromStore","loaded","readInitialExtensionConfig","setConfig","useExtensionConfigStore","cacheId","createExtensionConfigPromise","useConfig","externalModuleName","contextModuleName","normalConfig","getConfigStore","readInitialConfig","useConfigStore","createConfigPromise","useNormalConfig","extensionConfig","useDebounce","delay","debounceValue","setDebounceValue","timer","clearTimeout","useExtensionInternalStore","getExtensionInternalStore","useExtensionSlotMeta","fromEntries","ext","meta","useFeatureFlag","flagName","useForceUpdate","setTick","tick","getLayout","layout","classList","cls","useLayoutType","setType","handler","addEventListener","removeEventListener","isDesktop","useLocations","tagUuidOrName","locations","setLocations","locationSub","getLocations","useOnClickOutside","listener","contains","target","useOpenmrsSWR","fetchInit","url","swrConfig","abortSignal","url_","getUrl","ActionTypes","loadPatient","newPatient","loadError","promise","initialState","patient","isPendingUuid","isLoadingPatient","getPatientUuidFromUrl","match","location","pathname","reducer","action","usePatient","useReducer","dispatch","patientUuidFromUrl","fetchCurrentPatient","handleRouteUpdate","evt","newPatientUuid","useRenderableExtensions","useSession","stateSession","setStateSession","session","currentState","getSessionStore","handleNewSession","newSession","useVisit","activeData","representation","defaultVisitCustomRepresentation","getVisitStore","manuallySetVisitUuid","retrospectiveVisitUuid","visitStorePatientUuid","activeVisitUrlSuffix","retrospectiveVisitUrlSuffix","restBaseUrl","activeVisit","find","visit","stopDatetime","currentVisit","retroData","activeError","retroError","activeMutate","retroMutate","activeIsValidating","retroIsValidating","currentVisitIsRetrospective","Boolean","useVisitTypes","visitTypes","setVisitTypes","visitTypesSub","getVisitTypes","dayjs","defaultResultsPerPage","usePagination","resultsPerPage","page","setPage","totalPages","Math","max","ceil","lowerBound","upperBound","goTo","min","goToNext","goToPrevious","currentPage","paginated","showNextButton","showPreviousButton","usePrimaryIdentifierCode","primaryIdentifierCode","metadataUuid","useServerPagination","pageSize","setCurrentPage","totalCount","NaN","currentPageSize","limit","startIndex","urlUrl","URL","searchParams","rest","noop","UNDEFINED","OBJECT","isUndefined","v","mergeObjects","table","WeakMap","counter","stableHash","isDate","Date","toJSON","JSON","stringify","sort","SWRGlobalState","EMPTY_CACHE","INITIAL_CACHE","STR_UNDEFINED","isWindowDefined","isDocumentDefined","createCacheHelper","prev","onWindowEvent","offWindowEvent","preset","isVisible","visibilityState","defaultConfigOptions","initFocus","callback","initReconnect","onOnline","onOffline","IS_SERVER","useIsomorphicLayoutEffect","navigatorConnection","navigator","connection","slowConnection","effectiveType","saveData","serialize","__timestamp","getTimestamp","async","internalMutate","_key","_data","_opts","populateCache","throwOnError","revalidate","rollbackOnErrorOption","rollbackOnError","optimisticData","keyFilter","matchedKeys","it","_k","mutateByKey","EVENT_REVALIDATORS","MUTATION","FETCH","PRELOAD","startRevalidate","revalidators","beforeMutationTs","hasOptimisticData","displayedData","currentData","_c","committedData","populateCachedData","revalidateAllKeys","provider","subscriptions","subs","setter","fn","initProvider","releaseFocus","releaseReconnect","initCache","Map","onLoadingSlow","onSuccess","onError","onErrorRetry","_","__","maxRetryCount","currentRetryCount","retryCount","timeout","random","errorRetryInterval","onDiscarded","revalidateOnFocus","revalidateOnReconnect","revalidateIfStale","shouldRetryOnError","dedupingInterval","loadingTimeout","compare","newData","isPaused","enableDevtools","__SWR_DEVTOOLS_USE__","use","useSWRNext","key_","fetcher_","startsWith","req","__SWR_DEVTOOLS_REACT__","EMPTY_PROMISE","useSWRInfinite","middleware","getKey","didMountRef","cache$1","initialSize","revalidateAll","persistSize","revalidateFirstPage","revalidateOnMount","parallel","infiniteKey","getFirstPageKey","subscribeCache","_l","resolvePageSize","cachedPageSize","lastPageSizeRef","shouldRevalidateOnMount","swr","forceRevalidateAll","_i","getCache","cacheData","previousPageData","pageKey","pageArg","getSWRCache","setSWRCache","pageData","shouldFetchPage","shouldRevalidate","setSize","changeSize","getInfiniteCache","normalize","uses","useServerInfinite","getNextUri","links","link","rel","pageIndex","uri","hasMore","flatMap","loadMore"],"sourceRoot":""}