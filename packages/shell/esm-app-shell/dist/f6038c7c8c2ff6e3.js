"use strict";(self.webpackChunk_openmrs_esm_app_shell=self.webpackChunk_openmrs_esm_app_shell||[]).push([[525],{34657:(e,t,n)=>{n.d(t,{Dc:()=>u,E5:()=>i,OE:()=>c,eK:()=>a,ky:()=>s});var r=n(22055);function o(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var a="".concat(r.YC,"/attachment");function i(e,t){return(0,r.vb)("".concat(a,"/").concat(e),{signal:t.signal})}function u(e,t,n){return(0,r.vb)("".concat(a,"?patient=").concat(e,"&includeEncounterless=").concat(t),{signal:n.signal})}function c(e,t){return l.apply(this,arguments)}function l(){var e;return e=function(e,t){var n;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(o){return(n=new FormData).append("fileCaption",t.fileDescription),n.append("patient",e),t.file?n.append("file",t.file):(n.append("file",new File([""],t.fileName),t.fileName),n.append("base64Content",t.base64Content)),[2,(0,r.vb)("".concat(a),{method:"POST",body:n})]}))},l=function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function u(e){o(i,r,a,u,c,"next",e)}function c(e){o(i,r,a,u,c,"throw",e)}u(void 0)}))},l.apply(this,arguments)}function s(e,t){return(0,r.vb)("".concat(a,"/").concat(e),{method:"DELETE",signal:t.signal})}},73233:(e,t,n)=>{n.d(t,{nF:()=>o.nF,u4:()=>l.u4,Rx:()=>l.Rx,eK:()=>r.eK,Wf:()=>d.W,Ze:()=>i.Ze,OE:()=>r.OE,I$:()=>l.I$,ky:()=>r.ky,Vy:()=>c.V,DN:()=>o.DN,E5:()=>r.E5,Dc:()=>r.Dc,ts:()=>i.ts,JC:()=>f.J,r:()=>i.r,WK:()=>i.WK,KJ:()=>i.KJ,$X:()=>l.$X,FV:()=>l.FV,P9:()=>s.P,nx:()=>l.nx,bf:()=>o.bf,vb:()=>o.vb,uj:()=>o.uj,VJ:()=>i.VJ,YC:()=>o.YC,bX:()=>l.bX,z$:()=>o.z$,Qd:()=>l.Qd,jK:()=>i.jK,hJ:()=>i.hJ,xP:()=>i.xP,Oh:()=>u,Lq:()=>f.L,VF:()=>s.V,ym:()=>l.ym,y9:()=>i.y9});var r=n(34657),o=n(22055),a=n(30849),i=n(19170);function u(){(0,a.SH)("@openmrs/esm-api",{redirectAuthFailure:{enabled:{_type:a.Dy.Boolean,_default:!0,_description:"Whether to redirect logged-out users to `redirectAuthFailure.url`"},url:{_type:a.Dy.String,_default:"${openmrsSpaBase}/login",_validators:[a.z2.isUrl]},errors:{_type:a.Dy.Array,_default:[401],_elements:{_type:a.Dy.Number,_validators:[a.z2.inRange(100,600)]},_description:"The HTTP error codes for which users will be redirected"},resolvePromise:{_type:a.Dy.Boolean,_default:!1,_description:"Changes how requests that fail authentication are handled. Try messing with this if redirects to the login page aren't working correctly."}}}),(0,i.VJ)()}var c=n(37908),l=n(82842),s=n(10825),f=n(54858),d=n(92770)},92770:(e,t,n)=>{n.d(t,{W:()=>r});var r={"webservices.rest":"2.24.0",fhir2:"1.0.0-SNAPSHOT"}},22055:(e,t,n)=>{n.d(t,{DN:()=>v,YC:()=>y,bf:()=>h,nF:()=>O,uj:()=>w,vb:()=>g,z$:()=>b});var r=n(14666),o=n(66684),a=n(30849),i=n(25764);function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function l(e,t,n){return l=m()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&d(o,n.prototype),o},l.apply(null,arguments)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)},p(e)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var y="/ws/rest/v1",v="/ws/fhir2/R4",b="".concat(y,"/session");function h(e){return e&&e.startsWith("http")?e:("/"!==e[0]&&(e="/"+e),window.openmrsBase+e)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw Error("The first argument to @openmrs/api's openmrsFetch function must be a url string");if("object"!=typeof t)throw Error("The second argument to @openmrs/api's openmrsFetch function must be a plain object.");if(!window.openmrsBase)throw Error("@openmrs/api is running in a browser that doesn't have window.openmrsBase, which is provided by openmrs-module-spa's HTML file.");var n=h(e);if(t.headers||(t.headers={}),(0,o.Z)(t.body)&&(t.body=JSON.stringify(t.body)),void 0===t.headers.Accept&&(t.headers.Accept="application/json"),null===t.headers.Accept&&delete t.headers.Accept,e.startsWith(y)&&void 0===t.headers["Disable-WWW-Authenticate"]&&(t.headers["Disable-WWW-Authenticate"]="true"),e.startsWith(v)){var r=new URL(n,window.location.toString());r.searchParams.has("_summary")||(r.searchParams.set("_summary","data"),n=r.toString())}var u,l,s=Error();return window.fetch(n,t).then((u=function(e){var t,r;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(o){switch(o.label){case 0:return(t=e).ok?204===t.status?(t.data=null,[2,t]):[2,t.clone().text().then((function(e){try{e&&(t.data=JSON.parse(e))}catch(e){}return t}))]:[3,1];case 1:return[4,(0,a.iE)("@openmrs/esm-api")];case 2:return r=o.sent().redirectAuthFailure,n===h(b)&&403===t.status||r.enabled&&r.errors.includes(t.status)?((0,i.QQ)(),(0,i.c4)({to:r.url}),[2,r.resolvePromise?Promise.resolve():new Promise((function(){}))]):[2,t.clone().text().then((function(e){var r=e;try{r=JSON.parse(e)}catch(e){}throw new O(n,t,r,s)}),(function(e){throw new O(n,t,null,s)}))];case 3:return[2]}}))},l=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=u.apply(e,t);function a(e){c(o,n,r,a,i,"next",e)}function i(e){c(o,n,r,a,i,"throw",e)}a(void 0)}))},function(e){return l.apply(this,arguments)}))}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t)throw Error("The second argument to openmrsObservableFetch must be either omitted or an object");var n=new AbortController;return t.signal=n.signal,new r.Observable((function(r){var o=!1;return g(e,t).then((function(e){o=!0,r.next(e),r.complete()}),(function(e){o=!0,r.error(e)})),function(){o||n.abort()}}))}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,e);var t,n,r=(t=o,n=m(),function(){var e,r=f(t);if(n){var o=f(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?u(e):t;var n}(this,e)});function o(e,t,n,a){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),s(u(i=r.call(this)),"response",void 0),s(u(i),"responseBody",void 0),i.message="Server responded with ".concat(t.status," (").concat(t.statusText,") for url ").concat(e,". Check err.responseBody or network tab in dev tools for more info"),a.message=i.message,i.responseBody=n,i.response=t,i.stack="Stacktrace for outgoing request:\n".concat(a.stack,"\nStacktrace for incoming response:\n").concat(i.stack),i}return o}(p(Error))},37908:(e,t,n)=>{n.d(t,{V:()=>s});var r=n(94878),o=n(22055);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){i(a,r,o,u,c,"next",e)}function c(e){i(a,r,o,u,c,"throw",e)}u(void 0)}))}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function s(e,t){return f.apply(this,arguments)}function f(){return f=u((function(e,t){var n,r,a,i,u,s=arguments;return l(this,(function(l){switch(l.label){case 0:return n=!(s.length>2&&void 0!==s[2])||s[2],e?(r=null,[4,Promise.all([(0,o.vb)("".concat(o.DN,"/Patient/").concat(e),t).catch((function(e){return r=e})),n?d(e):Promise.resolve(null)])]):[3,2];case 1:if(a=c.apply(void 0,[l.sent(),2]),i=a[0],u=a[1],i.ok)return[2,i.data];if(u)return[2,u];if(r)throw r;l.label=2;case 2:return[2,null]}}))})),f.apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=u((function(e){var t,n,o;return l(this,(function(a){switch(a.label){case 0:return[4,(0,r.Q2)("patient-registration")];case 1:return t=a.sent(),n=t.find((function(t){return t.fhirPatient.id===e})),[2,null!==(o=null==n?void 0:n.fhirPatient)&&void 0!==o?o:null]}}))}))).apply(this,arguments)}},19170:(e,t,n)=>{n.d(t,{KJ:()=>m,VJ:()=>v,WK:()=>w,Ze:()=>b,hJ:()=>y,jK:()=>O,r:()=>g,ts:()=>p,xP:()=>E,y9:()=>h});var r=n(79751),o=n(90946),a=n(95230),i=n(14666),u=n(22055);function c(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,u,"next",e)}function u(e){c(a,r,o,i,u,"throw",e)}i(void 0)}))}}function s(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var f=(0,o.jk)("session",{loaded:!1,session:null}),d=0;function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeAuthStatus:!0};return(d<Date.now()-6e4||!f.getState().loaded)&&v(),new i.Observable((function(t){var n=function(n){var r;n.loaded&&(e.includeAuthStatus?t.next(n.session):t.next(null===(r=n.session)||void 0===r?void 0:r.user))};return n(f.getState()),f.subscribe(n)}))}function m(){return(d<Date.now()-6e4||!f.getState().loaded)&&v(),f}function y(e){var t,n,r,o=null!==(r=null==e||null===(t=e.user)||void 0===t||null===(n=t.userProperties)||void 0===n?void 0:n.defaultLocale)&&void 0!==r?r:e.locale,a=document.documentElement.getAttribute("lang");(function(e){if(void 0===e||"string"!=typeof e)return!1;try{new Intl.Locale(e)}catch(e){return!1}return!0})(o)&&o!==a&&document.documentElement.setAttribute("lang",o)}function v(e,t){d=Date.now();var n={};return e&&t&&(n.Authorization="Basic ".concat(window.btoa("".concat(e,":").concat(t)))),P((0,u.vb)(u.z$,{headers:n}))}function b(){f.setState({loaded:!0,session:{authenticated:!1,sessionId:""}})}function h(e,t){return void 0===t?Boolean(e):!Boolean(e)||function(e,t){return"string"==typeof e?!(0,a.Z)(t.privileges.find((function(t){return e===t.display}))):Array.isArray(e)?e.every((function(e){return!(0,a.Z)(t.privileges.find((function(t){return e===t.display})))})):((0,a.Z)(e)||console.error('Could not understand privileges "'.concat(e,'"')),!0)}(e,t)||function(e){return!(0,a.Z)(e.roles.find((function(e){return"System Developer"===e.display})))}(t)}function g(){var e,t;return new Promise((function(n){var r=function(r){r.loaded&&r.session.user&&(e=r.session.user,n(r.session.user),t&&t())};r(f.getState()),e||(t=f.subscribe(r))}))}function w(){return new Promise((function(e,t){p().subscribe((function(t){e(t.sessionLocation)}),t).unsubscribe()}))}function O(e,t){return S.apply(this,arguments)}function S(){return(S=l((function(e,t){return s(this,(function(n){return[2,P((0,u.vb)(u.z$,{method:"POST",body:{sessionLocation:e},headers:{"Content-Type":"application/json"},signal:t.signal}))]}))}))).apply(this,arguments)}function E(e,t,n){return j.apply(this,arguments)}function j(){return(j=l((function(e,t,n){return s(this,(function(r){switch(r.label){case 0:return n||(n=new AbortController),[4,(0,u.vb)("".concat(u.YC,"/user/").concat(e),{method:"POST",body:{userProperties:t},headers:{"Content-Type":"application/json"},signal:n.signal})];case 1:return r.sent(),[2,v()]}}))}))).apply(this,arguments)}function P(e){return new Promise((function(t,n){e.then((function(e){var r;"object"==typeof(null==e?void 0:e.data)?(r={loaded:!0,session:e.data},f.setState(r),t(r)):(r={loaded:!1,session:null},f.setState(r),n(r))})).catch((function(e){(0,r.e)("Failed to fetch new session information: ".concat(e));var t={loaded:!1,session:null};f.setState(t),n(t)}))}))}f.subscribe((function(e){return e.session&&y(e.session)}))},54858:(e,t,n)=>{n.d(t,{J:()=>u,L:()=>i});var r=n(52087),o=n(32791),a=n(22055);function i(e){return{uuid:e.uuid,display:e.display}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="".concat(a.YC,"/location")+(e?"?tag="+e:"");return(0,a.uj)(t).pipe((0,r.U)((function(e){return e.data.results.map(i)}))).pipe((0,o.q)(1))}},10825:(e,t,n)=>{n.d(t,{P:()=>u,V:()=>i});var r=n(52087),o=n(32791),a=n(22055);function i(e){return{uuid:e.uuid,display:e.display,name:e.name}}function u(){return(0,a.uj)("".concat(a.YC,"/visittype")).pipe((0,r.U)((function(e){return e.data.results.map(i)}))).pipe((0,o.q)(1))}},82842:(e,t,n)=>{n.d(t,{$X:()=>b,FV:()=>s,I$:()=>c,Qd:()=>f,Rx:()=>v,bX:()=>p,nx:()=>d,u4:()=>y,ym:()=>m});var r=n(14666),o=n(32791),a=n(52087),i=n(22055),u=n(90946),c="custom:(uuid,display,voided,indication,startDatetime,stopDatetime,encounters:(uuid,display,encounterDatetime,form:(uuid,name),location:ref,encounterType:ref,encounterProviders:(uuid,display,provider:(uuid,display))),patient:(uuid,display),visitType:(uuid,name,display),attributes:(uuid,display,attributeType:(name,datatypeClassname,uuid),value),location:(uuid,name,display))",l=function(){try{return JSON.parse(localStorage.getItem("openmrs:visitStoreState")||"null")}catch(e){return null}}()||{patientUuid:null,manuallySetVisitUuid:null};function s(){return(0,u.zJ)("visit",l)}function f(e,t){s().setState({patientUuid:e,manuallySetVisitUuid:t})}function d(e,t,n){var r=null!=n?n:c;return(0,i.uj)("".concat(i.YC,"/visit?patient=").concat(e,"&v=").concat(r),{signal:t.signal,method:"GET",headers:{"Content-type":"application/json"}}).pipe((0,o.q)(1)).pipe((0,a.U)((function(e){return e})))}function p(e,t){return(0,i.uj)("".concat(i.YC,"/visit"),{signal:t.signal,method:"POST",headers:{"Content-type":"application/json"},body:e})}function m(e,t,n){return(0,i.uj)("".concat(i.YC,"/visit/").concat(e),{signal:n.signal,method:"POST",headers:{"Content-type":"application/json"},body:t})}s().subscribe((function(e){var t;t=e,localStorage.setItem("openmrs:visitStoreState",JSON.stringify(t))}));var y,v,b=new r.BehaviorSubject(null);!function(e){e.NEWVISIT="startVisit",e.EDITVISIT="editVisit",e.LOADING="loadingVisit"}(y||(y={})),function(e){e.NOTSTARTED="notStarted",e.ONGOING="ongoing"}(v||(v={}))},30849:(e,t,n)=>{n.d(t,{$w:()=>o.$w,CB:()=>i.CB,DK:()=>o.DK,Dy:()=>u.D,Gr:()=>o.Gr,HN:()=>o.HN,IN:()=>o.IN,JJ:()=>r.JJ,R2:()=>o.R2,SH:()=>r.SH,SU:()=>r.SU,Tj:()=>r.Tj,Y4:()=>r.Y4,Z2:()=>i.Z2,_z:()=>o._z,bK:()=>r.bK,f6:()=>r.f6,gZ:()=>i.gZ,hv:()=>o.hv,iE:()=>r.iE,kw:()=>i.kw,pR:()=>o.pR,qf:()=>o.qf,sC:()=>a.s,sR:()=>o.sR,sh:()=>r.sh,z2:()=>i.z2});var r=n(46075),o=n(96575),a=n(35828),i=n(62890),u=n(72062)},46075:(e,t,n)=>{n.d(t,{SU:()=>ne,SH:()=>x,Tj:()=>N,iE:()=>D,bK:()=>R,f6:()=>M,JJ:()=>T,sh:()=>I,Y4:()=>C});var r=n(11834),o=n(19682),a=n(8149),i=n(27888),u=n(48123),c=n(72062),l=n(35828),s=(0,l.s)((function(e){return Array.isArray(e)}),"must be an array"),f=(0,l.s)((function(e){return"boolean"==typeof e}),"must be a boolean"),d=(0,l.s)((function(e){return"number"==typeof e}),"must be a number"),p=(0,l.s)((function(e){return"string"==typeof e}),"must be a string"),m=(0,l.s)((function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}),"must be an object (not an array or null)"),y=(0,l.s)((function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)||/^[0-9a-f]{36}$/i.test(e)}),"must be a valid UUID or a 36-character hexadecimal string"),v=n(96575);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function w(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function j(e,t){var n=!0,r=!1,o=void 0;try{for(var a,i=Object.keys(e.schemas)[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var u=a.value,c=(0,v.pR)(u);if(e.moduleLoaded[u]){var l=F(u,e,t);c.setState({translationOverridesLoaded:!0,loaded:!0,config:l})}else{var s=Z(u,e,t);c.setState({translationOverridesLoaded:!0,loaded:!1,config:s})}}}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}function P(e,t){var n,o,a=(n=H(_(e,t)),function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=Object.entries(e)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=O(o.value,2),u=i[0],c=i[1],l=!0,s=!1,f=void 0;try{for(var d,p=Object.entries(c)[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var m=O(d.value,2),y=m[0];W(m[1],u,y)}}catch(e){s=!0,f=e}finally{try{l||null==p.return||p.return()}finally{if(s)throw f}}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}(o=Object.keys(n).reduce((function(e,t){var r,o;return(null===(r=n[t])||void 0===r?void 0:r.extensionSlots)&&(e[t]=null===(o=n[t])||void 0===o?void 0:o.extensionSlots),e}),{})),Object.keys(o).reduce((function(e,t){return g({},e,o[t])}),{})),i=Object.fromEntries(Object.entries(a).map((function(e){var t=O(e,2);return[t[0],{loaded:!0,config:t[1]}]}))),u=(0,v.Gr)(),c=u.getState(),l={slots:g({},c.slots,i)};(0,r.Z)(c,l)||u.setState(l)}function k(e,t){var n=function(e,t){var n=B((0,i.Z)(e.schemas)),r=S(e.providedConfigs.map((function(e){return[e.config,e.source]}))).concat([[t.config,"temporary config"]]),o=!0,a=!1,u=void 0;try{for(var c,l=r[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var s=O(c.value,2);n=H([n,U(s[0],s[1])])}}catch(e){a=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}return n}(e,t);v.HN.setState({config:n})}function A(e,t,n){var r={},o=!0,a=!1,i=void 0;try{for(var u,c=t.mountedExtensions[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value,s=L(l.slotModuleName,l.extensionModuleName,l.slotName,l.extensionId,e,n);r[l.slotName]=w(g({},r[l.slotName]),h({},l.extensionId,{config:s,loaded:!0}))}}catch(e){a=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}(0,v._z)().setState({configs:r})}function x(e,t){z(e,t);var n=(0,o.Z)(t,oe);v.hv.setState((function(t){return w(g({},t),{schemas:w(g({},t.schemas),h({},e,n)),moduleLoaded:w(g({},t.moduleLoaded),h({},e,!0))})}))}function I(e){var t=v.hv.getState();v.hv.setState({schemas:w(g({},t.schemas),h({},e,oe))})}function C(e){var t=v.hv.getState();v.hv.setState({schemas:w(g({},t.schemas),h({},e,re))})}function N(e,t){z(e,t);var n=(0,o.Z)(t,oe),r=v.hv.getState();r.schemas[e]&&console.error("Config schema for extension ".concat(e," already exists. If there are multiple extensions with this same name, one will probably crash.")),v.hv.setState({schemas:w(g({},r.schemas),h({},e,n))})}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"provided";v.hv.setState((function(n){return w(g({},n),{providedConfigs:S(n.providedConfigs).concat([{source:t,config:e}])})}))}function D(e){return new Promise((function(t){var n=function(e){if(e.loaded&&e.config){var n=(0,a.Z)(["Display conditions","Translation overrides"],e.config);t(n),o&&o()}},r=(0,v.pR)(e);n(r.getState());var o=r.subscribe(n)}))}function R(e){return new Promise((function(t){var n=function(e){if(e.translationOverridesLoaded&&e.config){var n,r=null!==(n=e.config["Translation overrides"])&&void 0!==n?n:{};t(r),o&&o()}},r=(0,v.pR)(e);n(r.getState());var o=r.subscribe(n)}))}function M(e,t,n){Q(e,t,n);var r=q(e,t);return V(e,r,n),r}function L(e,t,n,r,o,a){var i,u,c,l,s=function(e){return O(e.split("#"),1)[0]}(r),f=o.schemas[s],d=f?s:t,p=_(o,a),m=J(e,p),y=null!==(l=null==m||null===(i=m.extensionSlots)||void 0===i||null===(u=i[n])||void 0===u||null===(c=u.configure)||void 0===c?void 0:c[r])&&void 0!==l?l:{},v=H([J(d,p),y]),b=null!=f?f:o.schemas[t];Q(b,v,d);var h=q(b,v);return V(b,h,d),delete h.extensionSlots,h}function B(e){return e.hasOwnProperty("_default")?w(g({},e),{_value:e._default,_source:"default"}):X(e)?Object.keys(e).reduce((function(t,n){return t[n]=B(e[n]),t}),{}):{}}function U(e,t){return X(e)?Object.keys(e).reduce((function(n,r){return n[r]=U(e[r],t),n}),{}):{_value:e,_source:t}}function W(e,t,n){var r="".concat(t,".extensionSlots.").concat(n),o="Extension slot config '".concat(r,"'"),a=Object.keys(e).filter((function(e){return!["add","remove","order","configure"].includes(e)}));a.length&&te(r,o+"' contains invalid keys '".concat(a.join("', '"),"'")),e.add&&(Array.isArray(e.add)&&e.add.every((function(e){return"string"==typeof e}))||te(r,o+".add' is invalid. Must be an array of strings (extension IDs)")),e.remove&&(Array.isArray(e.remove)&&e.remove.every((function(e){return"string"==typeof e}))||te(r,o+".remove' is invalid. Must be an array of strings (extension IDs)")),e.order&&(Array.isArray(e.order)&&e.order.every((function(e){return"string"==typeof e}))||te(r,o+".order' is invalid. Must be an array of strings (extension IDs)")),e.configure&&(X(e.configure)||te(r,o+".configure' is invalid. Must be an object with extension IDs for keys"))}function _(e,t){return S(e.providedConfigs.map((function(e){return e.config}))).concat([t.config])}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="Please verify that you are running the latest version and, if so, alert the maintainer.",o=!0,a=!1,i=void 0;try{for(var u,l=function(){var o=u.value,a=n+(n&&".")+o,i=t[o];if("Display conditions"===a&&console.error("".concat(e,' declares a configuration option called "Display conditions"; the "Display conditions" option is a reserved name. ').concat(r)),"Translation overrides"===a&&console.error("".concat(e,' declares a configuration option called "Translation overrides"; the "Translation overrides" option is a reserved name. ').concat(r)),!X(i))return console.error("".concat(e," has bad config schema definition for key '").concat(a,"'. ").concat(r)),"continue";i.hasOwnProperty("_default")||z(e,i,a);var l=i._elements;if(G(l)&&z(e,l,a+"._elements"),i._validators){var s=!0,f=!1,d=void 0;try{for(var p,m=i._validators[Symbol.iterator]();!(s=(p=m.next()).done);s=!0){var y=p.value;"function"!=typeof y&&console.error("".concat(e," has invalid validator for key '").concat(a,"' ").concat(r,".")+"\n\nIf you're the maintainer: validators must be functions that return either "+"undefined or an error string. Received ".concat(y,"."))}}catch(e){f=!0,d=e}finally{try{s||null==m.return||m.return()}finally{if(f)throw d}}}var v=i._type;v&&!Object.values(c.D).includes(v)&&console.error("".concat(e," has invalid type for key '").concat(a,"' ").concat(r,".")+"\n\nIf you're the maintainer: the allowed types are ".concat(Object.values(c.D).join(", "),". ")+"Received '".concat(v,"'")),Object.keys(i).every((function(e){return["_description","_validators","_elements","_type"].includes(e)}))&&!n.includes("._elements")&&console.error("".concat(e," has bad config schema definition for key '").concat(a,"'. ").concat(r,".")+"\n\nIf you're the maintainer: all config elements must have a default. "+"Received ".concat(JSON.stringify(i))),l&&v&&![c.D.Array,c.D.Object].includes(v)&&console.error("".concat(e," has bad config schema definition for key '").concat(a,"'. ").concat(r,".")+"\n\nIf you're the maintainer: the 'elements' key only works with '_type' equal to 'Array' or 'Object'. "+"Received ".concat(JSON.stringify(v)))},s=Object.keys(t).filter((function(e){return!e.startsWith("_")}))[Symbol.iterator]();!(o=(u=s.next()).done);o=!0)l()}catch(e){a=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}}function F(e,t,n){var r=t.schemas[e],o=J(e,_(t,n));Q(r,o,e);var a=q(r,o);return V(r,a,e),delete a.extensionSlots,a}function Z(e,t,n){var r=J(e,_(t,n)),o=q(oe,r);return V(oe,o,e),delete o.extensionSlots,o}function J(e,t){return H(t.map((function(t){return t[e]})).filter((function(e){return!!e})))}function H(e){return(0,u.Z)(o.Z)({},e)}function Q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!0,o=!1,a=void 0;try{for(var i,u=Object.keys(t)[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var c=i.value,l=t[c],s=n+"."+c,f=e[c];e.hasOwnProperty(c)?K(f,l,s):"extensionSlots"===c&&""!==n||te(s,"Unknown config key '".concat(s,"' provided. Ignoring."))}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}function K(e,t,n){$(n,e._type,t),X(t)?e._type===c.D.Object?function(e,t,n){if(e._elements){var r=!0,o=!1,a=void 0;try{for(var i,u=Object.keys(t)[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var c=i.value,l=t[c];Q(e._elements,l,"".concat(n,".").concat(c))}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}}(e,t,n):e.hasOwnProperty("_default")||e.hasOwnProperty("_type")||Q(e,t,n):e._type===c.D.Array&&function(e,t,n){if($(n,c.D.Array,t)){if(G(e._elements))for(var r=0;r<t.length;r++)K(e._elements,t[r],"".concat(n,"[").concat(r,"]"));for(var o=0;o<t.length;o++){var a;$("".concat(n,"[").concat(o,"]"),null===(a=e._elements)||void 0===a?void 0:a._type,t[o])}}}(e,t,n)}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(e)if(t!==e._default&&Y(n,e._validators,t),X(t)){var r=!0,o=!1,a=void 0;try{for(var i,u=Object.keys(t)[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value,s=t[l],f=n+"."+l,d=e[l];e._type===c.D.Object&&e._elements?V(e._elements,s,f):V(d,s,f)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}else if(Array.isArray(t)&&e._elements)for(var p=0;p<t.length;p++)V(e._elements,t[p],"".concat(n,"[").concat(p,"]"))}function $(e,t,n){return!t||Y(e,[{Array:s,Boolean:f,ConceptUuid:y,Number:d,Object:m,String:p,UUID:y,PersonAttributeTypeUuid:y,PatientIdentifierTypeUuid:y}[t]],n)}function Y(e,t,n){var r=!0;if(t)try{var o=!0,a=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=(0,u.value)(n);"string"==typeof l&&(te(e,"object"==typeof n?"Invalid configuration for ".concat(e,": ").concat(l):"Invalid configuration value ".concat(n," for ").concat(e,": ").concat(l)),r=!1)}}catch(e){a=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}}catch(t){console.error('Skipping invalid validator at "'.concat(e,'". Encountered error\n\t').concat(t))}return r}j(v.hv.getState(),v.DK.getState()),v.hv.subscribe((function(e){return j(e,v.DK.getState())})),v.DK.subscribe((function(e){return j(v.hv.getState(),e)})),k(v.hv.getState(),v.DK.getState()),v.hv.subscribe((function(e){return k(e,v.DK.getState())})),v.DK.subscribe((function(e){return k(v.hv.getState(),e)})),P(v.hv.getState(),v.DK.getState()),v.hv.subscribe((function(e){return P(e,v.DK.getState())})),v.DK.subscribe((function(e){return P(v.hv.getState(),e)})),A(v.hv.getState(),v.R2.getState(),v.DK.getState()),v.hv.subscribe((function(e){A(e,v.R2.getState(),v.DK.getState())})),v.R2.subscribe((function(e){A(v.hv.getState(),e,v.DK.getState())})),v.DK.subscribe((function(e){A(v.hv.getState(),v.R2.getState(),e)}));var q=function(e,t){var n=(0,i.Z)(t);if(!e)return n;var r=!0,o=!1,a=void 0;try{for(var u,l=function(){var t=u.value,r=n[t],o=e[t];if(o&&(o.hasOwnProperty("_type")||o.hasOwnProperty("_default"))){n.hasOwnProperty(t)||(n[t]=o._default);var a=o._elements;if(r&&G(a))if(o._type===c.D.Array&&Array.isArray(r)){var i=r.map((function(e){return q(a,e)}));n[t]=i}else if(o._type===c.D.Object){var l=!0,s=!1,f=void 0;try{for(var d,p=Object.keys(r)[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var m=d.value;r[m]=q(a,r[m])}}catch(e){s=!0,f=e}finally{try{l||null==p.return||p.return()}finally{if(s)throw f}}}}else if(X(o)){var y=null!=r?r:{};X(y)&&(n[t]=q(o,y))}},s=Object.keys(e)[Symbol.iterator]();!(r=(u=s.next()).done);r=!0)l()}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n};function G(e){return!!e&&Object.keys(e).filter((function(e){return!["_default","_validators"].includes(e)})).length>0}function X(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}var ee=new Set;function te(e,t){var n="".concat(e,":::").concat(t);ee.has(n)||(console.error(t),ee.add(n))}function ne(e){e?ee.forEach((function(t){t.startsWith(e)&&ee.delete(t)})):ee.clear()}var re={"Translation overrides":{_description:"Per-language overrides for frontend translations should be keyed by language code and each language dictionary contains the translation key and the display value",_type:c.D.Object,_default:{},_validators:[(0,l.s)((function(e){return Object.keys(e).every((function(e){return/^[a-z]{2,3}(-[A-Z]{2,3})?$/.test(e)}))}),(function(e){var t=Object.keys(e).filter((function(e){return!/^[a-z]{2,3}(-[A-Z]{2,3})?$/.test(e)}));return"The 'Translation overrides' object should have language codes for keys. Language codes must be in the form of a two-to-three letter language code optionally followed by a hyphen and a two-to-three letter country code. The following keys do not conform: ".concat(t.join(", "),".")}))]}},oe=g({"Display conditions":{privileges:{_description:"The privilege(s) the user must have to use this extension",_type:c.D.Array,_default:[]}}},re)},96575:(e,t,n)=>{n.d(t,{$w:()=>f,DK:()=>i,Gr:()=>l,HN:()=>y,IN:()=>s,R2:()=>u,_z:()=>d,hv:()=>a,pR:()=>c,qf:()=>p,sR:()=>m});var r=n(90946),o=n(8149),a=(0,r.jk)("config-internal",{providedConfigs:[],schemas:{},moduleLoaded:{}}),i=(0,r.jk)("temporary-config",{config:function(){try{return JSON.parse(localStorage.getItem("openmrs:temporaryConfig")||"{}")}catch(e){return{}}}()});i.subscribe((function(e){var t;t=e.config,localStorage.setItem("openmrs:temporaryConfig",JSON.stringify(t))}));var u=(0,r.jk)("config-store-of-extension-state",{mountedExtensions:[]});function c(e){return(0,r.zJ)("config-module-".concat(e),{config:null,loaded:!1,translationOverridesLoaded:!1})}function l(){return(0,r.zJ)("config-extension-slots",{slots:{}})}function s(e){return f(l().getState(),e)}function f(e,t){var n=e.slots[t];return null!=n?n:{loaded:!1,config:{}}}function d(){return(0,r.zJ)("config-extensions",{configs:{}})}function p(e,t){var n=Object.assign({},m(d().getState(),e,t));return n.config=(0,o.Z)(["Display conditions","Translation overrides"],n.config),n}function m(e,t,n){var r,o=null===(r=e.configs[t])||void 0===r?void 0:r[n];return null!=o?o:{loaded:!1,config:null}}var y=(0,r.jk)("config-implementer-tools",{config:{}})},72062:(e,t,n)=>{var r;n.d(t,{D:()=>r}),function(e){e.Array="Array",e.Boolean="Boolean",e.ConceptUuid="ConceptUuid",e.Number="Number",e.Object="Object",e.String="String",e.UUID="UUID",e.PersonAttributeTypeUuid="PersonAttributeTypeUuid",e.PatientIdentifierTypeUuid="PatientIdentifierTypeUuid"}(r||(r={}))},35828:(e,t,n)=>{function r(e,t){return function(n){if(!e(n))return"function"==typeof t?t(n):t}}n.d(t,{s:()=>r})},62890:(e,t,n)=>{n.d(t,{CB:()=>i,Z2:()=>o,gZ:()=>a,kw:()=>u,z2:()=>c});var r=n(35828),o=function(e,t){return(0,r.s)((function(n){return e<=n&&n<=t}),"must be between ".concat(e," and ").concat(t))},a=function(e){var t=e.concat(["openmrsBase","openmrsSpaBase"]);return(0,r.s)((function(e){if(!e||"string"!=typeof e)return!1;for(var n=/\${(.*?)}/g,r=n.exec(e);r;){if(!t.includes(r[1]))return!1;r=n.exec(e)}return!0}),"Should be a URL or path. The allowed template parameters are "+t.map((function(e){return"${"+e+"}"})).join(", "))},i=a([]),u=function(e){return(0,r.s)((function(t){return e.includes(t)}),"Must be one of the following: '".concat(e.join("', '"),"'."))},c={inRange:o,isUrl:i,isUrlWithTemplateParameters:a,oneOf:u}},16373:(e,t,n)=>{n.d(t,{Kj:()=>u,dt:()=>s,fw:()=>l,gE:()=>f,vJ:()=>a,zK:()=>c});var r=n(73075),o=n(90946),a=(0,r.M)()((function(){return{}}));(0,o.l3)("openmrs-app-context",a);var i=Object();function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;a.setState((function(n){if(e in n)throw new Error("Attempted to re-register namespace ".concat(e," in the app context. Each namespace must be unregistered before the name can be registered again."));return n[e]=t===i?{}:t,n}))}function c(e){a.setState((function(t){return e in t&&delete t[e],t}))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=a.getState();return e in n?Object.freeze(Object.assign({},t?t(n[e]):n[e])):null}function s(e,t){a.setState((function(n){return e in n||(n[e]={}),n[e]=t(n[e]),n}))}function f(e,t){var n=l(e);return t(Object.freeze(Object.assign({},n))),a.subscribe((function(r){var o=e in r?r[e]:null;o!==n&&(n=o,t(Object.freeze(Object.assign({},o))))}))}},6770:(e,t,n)=>{n.d(t,{AO:()=>p,c1:()=>l,lV:()=>c,zp:()=>f});var r=n(82485),o=n(45371);function a(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,c,"next",e)}function c(e){a(i,r,o,u,c,"throw",e)}u(void 0)}))}}function u(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function c(e){return e.replace(/[\/\-@]/g,"_")}function l(e){return s.apply(this,arguments)}function s(){return s=i((function(e){var t,r,o,a,i,l,s,d,p,m,y=arguments;return u(this,(function(u){switch(u.label){case 0:return t=y.length>1&&void 0!==y[1]?y[1]:"./start",o=!(null==(r=y.length>2?y[2]:void 0)?void 0:r.maxLoadingTime)||r.maxLoadingTime<=0?6e5:r.maxLoadingTime,a=void 0,[4,Promise.race([f(e,null==r?void 0:r.importMap),new Promise((function(t,n){a=setTimeout((function(){var t;n(new Error("Could not resolve requested script, ".concat(e,", within ").concat((t=o)<1e3?"".concat(t," milliseconds"):t<6e4?"".concat(Math.floor(t/1e3)," seconds"):t<36e5?"".concat(Math.floor(t/6e4)," minutes"):t<864e5?"".concat(Math.floor(t/36e5)," hours"):"".concat(Math.floor(t/864e5)," days"),".")))}),o)}))])];case 1:if(u.sent(),a&&clearTimeout(a),i=c(e),"object"!=typeof(v=l=window[i])||null===v||!("init"in v)||"function"!=typeof v.init||!("get"in v)||"function"!=typeof v.get)throw s="The global variable ".concat(i," does not refer to a federated module"),console.error(s),new Error(s);return l.init(n.S.default),[4,l.get(t)];case 2:if(d=u.sent(),"object"!=typeof(p=d())||null===p)throw m="Container for ".concat(e," did not return an ESM module as expected"),console.error(m),new Error(m);return[2,p]}var v}))})),s.apply(this,arguments)}function f(e,t){return d.apply(this,arguments)}function d(){return(d=i((function(e,t){var n,a,i,l,s,f,d,m;return u(this,(function(u){switch(u.label){case 0:if("string"!=typeof e||0===e.trim().length)throw n="Attempted to call importDynamic() without supplying a package to load",console.error(n),new Error(n);return a=c(e),window[a]?[3,7]:null==t?[3,1]:(l=t,[3,3]);case 1:return[4,p()];case 2:l=u.sent(),u.label=3;case 3:if(!(i=l).imports.hasOwnProperty(e))throw s="Could not find the package ".concat(e," defined in the current importmap"),console.error(s),new Error(s);(f=i.imports[e]).startsWith("./")&&(f=window.spaBase+f.substring(1)),d=!!window.localStorage.getItem("import-map-override:".concat(e)),u.label=4;case 4:return u.trys.push([4,6,,7]),[4,new Promise((function(e,t){!function(e,t,n){var r=document.head.querySelector('script[src="'.concat(e,'"]')),o=window[y];if(o||(o=window[y]=new Set([])),r){var a,i,u;o.has(e)?(u=function(){a&&r.removeEventListener("load",a),i&&r.removeEventListener("error",i)},a=function(){u(),t(null)},i=function(e){u(),n(e.message)},r.addEventListener("load",a),r.addEventListener("error",i)):(console.warn("Script at ".concat(e," already loaded. Not loading it again.")),t(null))}else{o.add(e);var c=document.createElement("script");c.src=e,c.type="text/javascript",c.async=!0;var l,s,f,d=setTimeout((function(){console.error("The script at ".concat(e," did not load within 5 seconds. This may indicate an issue with the imports in the script's entry-point file or with the script's bundler configuration."))}),5e3);f=function(){clearTimeout(d),o.delete(e),l&&c.removeEventListener("load",l),s&&c.removeEventListener("error",s)},l=function(){f(),t(null)},s=function(t){f();var r,o="Failed to load script from ".concat(e);console.error(o,t),n(null!==(r=t.message)&&void 0!==r?r:o)},c.addEventListener("load",l),c.addEventListener("error",s),document.head.appendChild(c)}}(f,e,t)}))];case 5:return[2,u.sent()];case 6:return m=u.sent(),d&&(0,r.dO)({kind:"error",title:(0,o.R)("scriptLoadingFailed","Error: Script failed to load"),description:(0,o.R)("scriptLoadingError","Failed to load overridden script from {{- url}}. Please check that the bundled script is available at the expected URL. Click the button below to reset all import map overrides.",{url:f}),actionButtonLabel:(0,o.R)("resetOverrides","Reset overrides"),onActionButtonClick:function(){window.importMapOverrides.resetOverrides(),window.location.reload()}}),[2,Promise.reject(m)];case 7:return[2,Promise.resolve()]}}))}))).apply(this,arguments)}function p(){return m.apply(this,arguments)}function m(){return(m=i((function(){return u(this,(function(e){return[2,window.importMapOverrides.getCurrentPageMap()]}))}))).apply(this,arguments)}var y=Symbol("__openmrs_script_loading")},79751:(e,t,n)=>{n.d(t,{e:()=>o,v:()=>a});var r=n(82485);function o(e){var t=i(e);setTimeout((function(){throw t}))}function a(){var e=Error();return function(t){i(t).stack+="\nAsync stacktrace:\n".concat(e.stack),o(t)}}function i(e){var t,n,r;if(n=e,null!=(r=Error)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r)return e;if(null===e)return Error("'null' was thrown as an error");if("object"==typeof e){try{t="Object thrown as error: ".concat(JSON.stringify(e))}catch(n){t="Object thrown as error with the following properties: ".concat(Object.keys(e))}return Error(t)}return void 0===e?Error("'undefined' was thrown as an error"):Error(e.toString())}window.onerror=function(e){return console.error("Unexpected error: ",e),(0,r.dO)({description:null!=e?e:"Oops! An unexpected error occurred.",kind:"error",title:"Error"}),!1},window.onunhandledrejection=function(e){var t;console.error("Unhandled rejection: ",e.reason),(0,r.dO)({description:null!==(t=e.reason)&&void 0!==t?t:"Oops! An unhandled promise rejection occurred.",kind:"error",title:"Error"})}},83853:(e,t,n)=>{n.d(t,{EB:()=>j,Kq:()=>T,P1:()=>P,Qq:()=>M,eO:()=>k,h6:()=>R,ix:()=>A,lW:()=>C,mc:()=>L,og:()=>I,ub:()=>x});var r=n(73233),o=n(30849),a=n(39163),i=n(53430),u=n(80532),c=n(95230),l=n(63899),s=n(60807);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}function m(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}var h=(0,l.Co)(),g=(0,s.yw)(),w=(0,o.Gr)(),O=(0,o._z)();function S(e,t,n){var r={},a=!0,i=!1,c=void 0;try{for(var l,s=Object.entries(e.slots)[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var f=y(l.value,2),d=f[0],p=f[1],m=D(d,e,(0,o.$w)(t,p.name).config,n);r[d]={moduleName:p.moduleName,assignedExtensions:m}}}catch(e){i=!0,c=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw c}}(0,u.Z)(g.getState().slots,r)||g.setState({slots:r})}function E(e,t){return{moduleName:t,name:e,attachedIds:[],config:null}}function j(e){return y(e.split("#"),1)[0]}function P(e,t){var n=j(t);return e.extensions[n]}function k(e){return P(h.getState(),e)}h.subscribe((function(e){S(e,w.getState(),O.getState())})),w.subscribe((function(e){S(h.getState(),e,O.getState())})),O.subscribe((function(e){S(h.getState(),w.getState(),e)}));var A=function(e){return h.setState((function(t){return t.extensions[e.name]=m(p({},e),{instances:[]}),t}))};function x(e,t){(0,s.qO)((function(n){var r=n.slots[e];return m(p({},n),r?{slots:m(p({},n.slots),d({},e,m(p({},r),{attachedIds:v(r.attachedIds).concat([t])})))}:{slots:m(p({},n.slots),d({},e,m(p({},E(e)),{attachedIds:[t]})))})}))}function I(e,t){(0,s.qO)((function(n){var r=n.slots[e];return r&&r.attachedIds.includes(t)?m(p({},n),{slots:m(p({},n.slots),d({},e,m(p({},r),{attachedIds:r.attachedIds.filter((function(e){return e!==t}))})))}):n}))}function C(e){(0,s.qO)((function(t){var n=t.slots[e];return n?m(p({},t),{slots:m(p({},t.slots),d({},e,m(p({},n),{attachedIds:[]})))}):t}))}function N(e,t,n,r){var o=t.indexOf(e);if(-1!==o)return o;if(void 0!==n)return 1e3+n;var a=r.indexOf(e);return-1!==a?2e3+a:-1}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=(0,i.G)(null!=t?t:void 0),o=null!=n?n:Object.entries(a.Jg.getState().flags).filter((function(e){return y(e,2)[1].enabled})).map((function(e){return y(e,1)[0]}));return e.filter((function(e){return!window.offlineEnabled||(0,l.gY)(r,e.online,e.offline)})).filter((function(e){return void 0===e.featureFlag||(null==o?void 0:o.includes(e.featureFlag))}))}function D(e,t,n,a){var i=function(e,t){var n=e.add||[],r=e.remove||[],o=e.order||[],a=h.getState().extensions;return v(t).concat(v(n)).filter((function(e){return!r.includes(e)})).sort((function(e,n){var r,i,u=N(e,o,null===(r=a[j(e)])||void 0===r?void 0:r.order,t),c=N(n,o,null===(i=a[j(n)])||void 0===i?void 0:i.order,t);return-1===c?-1:-1===u?1:u-c}))}(n,t.slots[e].attachedIds),u=[],l=void 0,s=!0,f=!1,d=void 0;try{for(var p,m=i[Symbol.iterator]();!(s=(p=m.next()).done);s=!0){var y=p.value,b=(0,o.sR)(a,e,y).config,g=j(y),w=t.extensions[g];if(w){var O,S,E,P,k,A,x,I,C,T=null!==(k=null!==(P=null==b||null===(O=b["Display conditions"])||void 0===O?void 0:O.privileges)&&void 0!==P?P:w.privileges)&&void 0!==k?k:[];if(T&&("string"==typeof T||Array.isArray(T)&&T.length>0)){var D;if((0,c.Z)(l)&&(l=null===(D=(0,r.KJ)().getState().session)||void 0===D?void 0:D.user),!l)continue;if(!(0,r.y9)(T,l))continue}u.push({id:y,name:g,moduleName:w.moduleName,config:b,featureFlag:w.featureFlag,meta:w.meta,online:null===(x=null!==(A=null==b||null===(S=b["Display conditions"])||void 0===S?void 0:S.online)&&void 0!==A?A:w.online)||void 0===x||x,offline:null!==(C=null!==(I=null==b||null===(E=b["Display conditions"])||void 0===E?void 0:E.offline)&&void 0!==I?I:w.offline)&&void 0!==C&&C})}}}catch(e){f=!0,d=e}finally{try{s||null==m.return||m.return()}finally{if(f)throw d}}return u}function R(e){return D(e,h.getState(),(0,o.IN)(e).config,O.getState())}var M=function(e,t){return h.setState((function(n){var r,o=null===(r=n.slots[t])||void 0===r?void 0:r.moduleName;if(o&&o!=e)return console.warn("An extension slot with the name '".concat(t,'\' already exists. Refusing to register the same slot name twice (in "registerExtensionSlot"). The existing one is from module ').concat(o,".")),n;if(o&&o==e)return n;if(n.slots[t])return m(p({},n),{slots:m(p({},n.slots),d({},t,m(p({},n.slots[t]),{moduleName:e})))});var a=E(t,e);return m(p({},n),{slots:m(p({},n.slots),d({},t,a))})}))},L=function(){return g.setState((function(){return{slots:{},extensions:{}}}))}},98377:(e,t,n)=>{n.d(t,{X:()=>o,g:()=>a});var r=n(53430);function o(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a((0,r.G)(),e,t)}function a(e){return Boolean(e?!(arguments.length>1&&void 0!==arguments[1])||arguments[1]:arguments.length>2&&void 0!==arguments[2]&&arguments[2])}},63899:(e,t,n)=>{n.d(t,{ub:()=>o.ub,XZ:()=>b.X,gY:()=>b.g,og:()=>o.og,lW:()=>o.lW,ZQ:()=>g,h6:()=>o.h6,Kq:()=>o.Kq,Co:()=>r.Co,EB:()=>o.EB,eO:()=>o.eO,P1:()=>o.P1,yw:()=>r.yw,h8:()=>c,CN:()=>v,ix:()=>o.ix,Qq:()=>o.Qq,Y3:()=>u,sn:()=>m,H8:()=>h.H,mc:()=>o.mc,qO:()=>r.qO});var r=n(60807),o=n(83853),a=n(90946),i=(0,a.jk)("modalRegistry",{modals:{}});function u(e){i.setState((function(t){return t.modals[e.name]=e,t}))}function c(e){var t=i.getState().modals[e];if(!t){var n=(0,o.eO)(e);n&&(t={name:e,load:n.load,moduleName:n.moduleName},console.warn("Modal ".concat(e,' was registered as an extension. This is deprecated and will be removed in the future. Please register it in the "modals" section of routes.json instead of the "extensions" section.')),u(t))}return t}var l=n(45371);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function d(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var p=(0,a.jk)("workspaceRegistrations",{workspaces:{}});function m(e){var t,n,r,o,a,i,u;p.setState((function(c){return{workspaces:d(f({},c.workspaces),s({},e.name,d(f({},e),{preferredWindowSize:null!==(t=e.preferredWindowSize)&&void 0!==t?t:"normal",type:null!==(n=e.type)&&void 0!==n?n:"form",canHide:null!==(r=e.canHide)&&void 0!==r&&r,canMaximize:null!==(o=e.canMaximize)&&void 0!==o&&o,width:null!==(a=e.width)&&void 0!==a?a:"narrow",hasOwnSidebar:null!==(i=e.hasOwnSidebar)&&void 0!==i&&i,sidebarFamily:null!==(u=e.sidebarFamily)&&void 0!==u?u:"default"})))}}))}var y=new Set;function v(e){var t=p.getState().workspaces;if(t[e])return t[e];var n,r,a,i,u,c,s,f,d,m,v,b,h,g=(0,o.eO)(e);if(g)return y.has(e)||(console.warn("The workspace '".concat(e,'\' is registered as an extension. This is deprecated. Please register it in the "workspaces" section of the routes.json file.')),y.add(e)),{name:g.name,title:(v=g,h=null==v||null===(b=v.meta)||void 0===b?void 0:b.title,"string"==typeof h?h:h&&"object"==typeof h?(0,l.a)(v.moduleName,h.key,h.default):v.name),moduleName:g.moduleName,preferredWindowSize:null!==(c=null===(n=g.meta)||void 0===n?void 0:n.screenSize)&&void 0!==c?c:"normal",load:g.load,type:null!==(s=null===(r=g.meta)||void 0===r?void 0:r.type)&&void 0!==s?s:"form",canHide:null!==(f=null===(a=g.meta)||void 0===a?void 0:a.canHide)&&void 0!==f&&f,canMaximize:null!==(d=null===(i=g.meta)||void 0===i?void 0:i.canMaximize)&&void 0!==d&&d,width:null!==(m=null===(u=g.meta)||void 0===u?void 0:u.width)&&void 0!==m?m:"narrow",sidebarFamily:"default",hasOwnSidebar:!1};throw new Error("No workspace named '".concat(e,"' has been registered."))}var b=n(98377),h=n(13857),g=(0,r.Co)()},13857:(e,t,n)=>{n.d(t,{H:()=>p});var r=n(12158),o=n(83853),a=n(98377),i=n(60807);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var d=0;function p(e,t,n,r){return m.apply(this,arguments)}function m(){var e;return e=function(e,t,n,c){var p,m,y,v,b,h,g,w,O,S,E,j,P,k,A=arguments;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(x){switch(x.label){case 0:if(p=A.length>4&&void 0!==A[4]?A[4]:function(e){return e},m=A.length>5&&void 0!==A[5]?A[5]:{},y=(0,o.EB)(c),v=(0,o.eO)(c),b=null,!e)return[3,3];if(!v)throw Error("Couldn't find extension '".concat(y,"' to attach to '").concat(t,"'"));return h=v.load,g=v.meta,w=v.moduleName,O=v.online,S=v.offline,(0,a.X)(O,S)?((0,i.qO)((function(r){var o,a={domElement:e,id:c,slotName:t,slotModuleName:n};return f(s({},r),{extensions:f(s({},r.extensions),l({},y,f(s({},r.extensions[y]),{instances:(o=r.extensions[y].instances,function(e){if(Array.isArray(e))return u(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([a])})))})})),[4,h()]):[3,2];case 1:E=x.sent(),j=E.default,P=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(E,["default"]),k=d++,b=(0,r.mountRootParcel)(p(f(s({},null!=j?j:P),{name:"".concat(t,"/").concat(y,"-").concat(k)})),f(s({},m),{_meta:g,_extensionContext:{extensionId:c,extensionSlotName:t,extensionSlotModuleName:n,extensionModuleName:w},domElement:e})),x.label=2;case 2:return[3,4];case 3:console.warn("Tried to render ".concat(c," into ").concat(t," but no DOM element was available.")),x.label=4;case 4:return[2,b]}}))},m=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,u,"next",e)}function u(e){c(a,r,o,i,u,"throw",e)}i(void 0)}))},m.apply(this,arguments)}},60807:(e,t,n)=>{n.d(t,{Co:()=>u,qO:()=>c,yw:()=>l});var r=n(80532),o=n(30849),a=n(90946),i=(0,a.jk)("extensionsInternal",{slots:{},extensions:{}}),u=function(){return(0,a.zJ)("extensionsInternal",{slots:{},extensions:{}})};function c(e){var t=i.getState(),n=e(t);n!==t&&i.setState(n)}var l=function(){return(0,a.zJ)("extensions",{slots:{}})};function s(e){var t=[],n=!0,a=!1,i=void 0;try{for(var u,c=Object.values(e.extensions)[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var l=u.value,s=!0,f=!1,d=void 0;try{for(var p,m=l.instances[Symbol.iterator]();!(s=(p=m.next()).done);s=!0){var y=p.value;t.push({slotModuleName:y.slotModuleName,extensionModuleName:l.moduleName,slotName:y.slotName,extensionId:y.id})}}catch(e){f=!0,d=e}finally{try{s||null==m.return||m.return()}finally{if(f)throw d}}}}catch(e){a=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}(0,r.Z)(o.R2.getState().mountedExtensions,t)||o.R2.setState({mountedExtensions:t})}s(i.getState()),i.subscribe(s)},31991:(e,t,n)=>{n.d(t,{Jg:()=>l,Mg:()=>p,OC:()=>f,_e:()=>s,cS:()=>d});var r=n(90946);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var c={flags:function(){var e={},t=!0,n=!1,r=void 0;try{for(var o,a=Object.keys(localStorage)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var u=o.value;if(u.startsWith("openmrs:feature-flag:")){var c=u.replace("openmrs:feature-flag:",""),l=JSON.parse(localStorage.getItem("openmrs:feature-flag-meta:".concat(c))||"{}");e[c]=i({enabled:"true"===localStorage.getItem(u)},l)}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}()},l=(0,r.zJ)("feature-flags",c);function s(e,t,n){var r;l.setState((function(o){var c;return{flags:u(i({},o.flags),a({},e,{enabled:null!==(r=null===(c=o.flags[e])||void 0===c?void 0:c.enabled)&&void 0!==r&&r,label:t,description:n}))}}))}function f(e){return l.getState().flags[e].enabled}function d(e,t){l.subscribe((function(n){t(n.flags[e].enabled)}))}function p(e,t){l.setState((function(n){return{flags:u(i({},n.flags),a({},e,u(i({},n.flags[e]),{enabled:t})))}}))}l.subscribe((function(e){var t,n,r=!0,a=!1,i=void 0;try{for(var u,c=Object.entries(e.flags)[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var l=(t=u.value,n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=l[0],f=l[1];localStorage.setItem("openmrs:feature-flag:".concat(s),f.enabled.toString()),localStorage.setItem("openmrs:feature-flag-meta:".concat(s),JSON.stringify({label:f.label,description:f.description}))}}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}}))},39163:(e,t,n)=>{n.d(t,{Jg:()=>r.Jg,Mg:()=>r.Mg,OC:()=>r.OC,_e:()=>r._e,cS:()=>r.cS});var r=n(31991)},82485:(e,t,n)=>{n.d(t,{$j:()=>O,Al:()=>o,BW:()=>i,GL:()=>v,HU:()=>m,L0:()=>c,NQ:()=>h,V9:()=>g,XS:()=>a,dO:()=>b,dY:()=>l,id:()=>w,xp:()=>y});var r="openmrs:connectivity-changed";function o(e){window.dispatchEvent(new CustomEvent(r,{detail:{online:e}}))}function a(e){if(!window.offlineEnabled)return function(){};var t=function(t){return e(t.detail)};return window.addEventListener(r,t),function(){return window.removeEventListener(r,t)}}function i(e){return e({online:!window.offlineEnabled||navigator.onLine}),a(e)}var u="openmrs:precache-static-dependencies";function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.dispatchEvent(new CustomEvent(u,{detail:e}))}function l(e){var t=function(t){return e(t.detail)};return window.addEventListener(u,t),function(){return window.removeEventListener(u,t)}}var s="openmrs:notification-shown",f="openmrs:actionable-notification-shown",d="openmrs:toast-shown",p="openmrs:snack-bar-shown";function m(e){window.dispatchEvent(new CustomEvent(s,{detail:e}))}function y(e){window.dispatchEvent(new CustomEvent(f,{detail:e}))}function v(e){window.dispatchEvent(new CustomEvent(p,{detail:e}))}function b(e){window.dispatchEvent(new CustomEvent(d,{detail:e}))}function h(e){var t=function(t){return e(t.detail)};return window.addEventListener(s,t),function(){return window.removeEventListener(s,t)}}function g(e){var t=function(t){return e(t.detail)};return window.addEventListener(f,t),function(){return window.removeEventListener(f,t)}}function w(e){var t=function(t){return e(t.detail)};return window.addEventListener(d,t),function(){return window.removeEventListener(d,t)}}function O(e){var t=function(t){return e(t.detail)};return window.addEventListener(p,t),function(){return window.removeEventListener(p,t)}}},35066:(e,t,n)=>{n.d(t,{Lr:()=>l,ZD:()=>s,nf:()=>c});var r=n(98532);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=(0,n(90946).jk)("breadcrumbs",[]);function u(e){return t=e.matcher,(null!=(n=RegExp)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)?e.matcher:"string"==typeof e.matcher?(0,r.Bo)(e.matcher):(0,r.Bo)(e.path);var t,n}function c(e){return l([e])}function l(e){var t=s(),n=e.map((function(e){return{matcher:u(e),settings:e}})),r=a(t).concat(a(n));i.setState(r,!0)}function s(){return i.getState()}},13283:(e,t,n)=>{n.d(t,{Z:()=>u,j:()=>i});var r=n(35066);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(t)return function(e,t){return(n=e.filter((function(e){return e.matcher.test(t)})),r=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(n,r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];var n,r}(e,t)||function(e,t){for(var n=t.split("/");n.length>1;){n.pop();var r=a(e,n.join("/"));if(r)return r}}(e,t)}function i(e,t){if(e.length>0){var n=a(e,t);if(n){for(var r=[n],o=a(e,n.settings.parent);void 0!==o;)r.push(o),o=a(e,o.settings.parent);return r.reverse()}}return[]}function u(e){return i((0,r.ZD)(),e)}},74576:(e,t,n)=>{n.d(t,{Bt:()=>i,QQ:()=>l,fe:()=>c,s1:()=>u});var r=n(97970),o="openmrs:history";function a(e){var t,n=JSON.parse(null!==(t=sessionStorage.getItem(o))&&void 0!==t?t:"[]")||[];n.push(e),n.length>50&&(n=n.slice(-50)),sessionStorage.setItem(o,JSON.stringify(n))}function i(){var e;0===JSON.parse(null!==(e=sessionStorage.getItem(o))&&void 0!==e?e:"[]").length&&document.referrer&&a(document.referrer),window.addEventListener("single-spa:routing-event",(function(e){var t,n,r=u();"replaceState"==(null===(t=e.detail.originalEvent)||void 0===t?void 0:t.singleSpaTrigger)?(r[r.length-1]=window.location.href,sessionStorage.setItem(o,JSON.stringify(r))):!(null===(n=e.detail.originalEvent)||void 0===n?void 0:n.singleSpa)&&r.includes(window.location.href)?c({toUrl:window.location.href}):r[r.length-1]!==window.location.href&&a(window.location.href)}))}function u(){var e;return JSON.parse(null!==(e=sessionStorage.getItem(o))&&void 0!==e?e:"[]")}function c(e){var t=e.toUrl,n=u(),a=n.lastIndexOf(t);if(-1==a)throw new Error("URL ".concat(t," not found in history; cannot go back to it."));var i=n.slice(0,a+1);(0,r.c)({to:n[a]}),sessionStorage.setItem(o,JSON.stringify(i))}function l(){sessionStorage.removeItem(o)}},25764:(e,t,n)=>{n.d(t,{Bt:()=>a.Bt,IT:()=>u.I,Lr:()=>r.Lr,QQ:()=>a.QQ,ZD:()=>o.Z,c4:()=>i.c,dB:()=>r.ZD,fe:()=>a.fe,jc:()=>o.j,ll:()=>u.l,nf:()=>r.nf,s1:()=>a.s1});var r=n(35066),o=n(13283),a=n(74576),i=n(97970),u=n(79642)},79642:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=window.getOpenmrsSpaBase().replace(/\/$/,"");return a(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}({openmrsBase:window.openmrsBase,openmrsSpaBase:n},t)).replace(/^\/\//,"/")}function a(e,t){return Object.keys(t).reduce((function(e,n){return e.split("${"+n+"}").join(t[n])}),e)}n.d(t,{I:()=>a,l:()=>o})},97970:(e,t,n)=>{n.d(t,{c:()=>a});var r=n(12158),o=n(79642);function a(e){var t=e.to,n=e.templateParams,a=window.getOpenmrsSpaBase().replace(/\/$/,""),i=(0,o.l)(t,n).replace(window.location.origin,"");i.startsWith(a)?(0,r.navigateToUrl)(i):window.location.assign(i)}},22723:(e,t,n)=>{n.d(t,{H_:()=>y,ME:()=>E,Ui:()=>f,Xc:()=>d,cV:()=>b,fR:()=>g,mF:()=>A,pO:()=>O,ps:()=>P,xA:()=>p});var r=n(73233),o=n(8102),a=n(97400);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)}))}}function l(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var s={};function f(){return Object.values(s)}function d(e){s[e.id]&&console.warn('[setupDynamicOfflineDataHandler] Another second handler with the ID "'.concat(e.id,'" was registered. This handler will override the previous one. This could be unintended as the previous handler might run different flows than the newly registered one. If this is the case, ensure that you are setting up the handlers with different IDs.')),s[e.id]=e}function p(e){return m.apply(this,arguments)}function m(){return(m=c((function(e){return l(this,(function(t){switch(t.label){case 0:return[4,I()];case 1:return[4,y(t.sent(),e)];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function y(e,t){return v.apply(this,arguments)}function v(){return(v=c((function(e,t){var n;return l(this,(function(r){switch(r.label){case 0:return n=t?{type:t,users:e}:{users:e},[4,(new a.A).dynamicOfflineData.where(n).toArray().catch(o.ZP.errnames.DatabaseClosed,(function(){return[]}))];case 1:return[2,r.sent()]}}))}))).apply(this,arguments)}function b(e,t){return h.apply(this,arguments)}function h(){return(h=c((function(e,t){return l(this,(function(n){switch(n.label){case 0:return[4,I()];case 1:return[4,g(n.sent(),e,t)];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}function g(e,t,n){return w.apply(this,arguments)}function w(){return(w=c((function(e,t,n){var r,u;return l(this,(function(c){switch(c.label){case 0:return[4,(r=new a.A).dynamicOfflineData.get({type:t,identifier:n}).catch(o.ZP.errnames.DatabaseClosed,(function(){}))];case 1:return(u=c.sent())?[3,3]:[4,r.dynamicOfflineData.add({users:[e],type:t,identifier:n}).catch(o.ZP.errnames.DatabaseClosed)];case 2:return c.sent(),[3,5];case 3:return u.users.includes(e)?[3,5]:[4,r.dynamicOfflineData.update(u.id,{users:(l=u.users,function(e){if(Array.isArray(e))return i(e)}(l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e])}).catch(o.ZP.errnames.DatabaseClosed)];case 4:c.sent(),c.label=5;case 5:return[2]}var l}))}))).apply(this,arguments)}function O(e,t){return S.apply(this,arguments)}function S(){return(S=c((function(e,t){return l(this,(function(n){switch(n.label){case 0:return[4,I()];case 1:return[4,E(n.sent(),e,t)];case 2:return[2,n.sent()]}}))}))).apply(this,arguments)}function E(e,t,n){return j.apply(this,arguments)}function j(){return(j=c((function(e,t,n){var r,i;return l(this,(function(u){switch(u.label){case 0:return[4,(r=new a.A).dynamicOfflineData.get({type:t,identifier:n,users:e}).catch(o.ZP.errnames.DatabaseClosed,(function(){}))];case 1:return(i=u.sent())?i.users.length>1?[4,r.dynamicOfflineData.update(i.id,{users:i.users.filter((function(t){return t!==e}))}).catch(o.ZP.errnames.DatabaseClosed)]:[3,3]:[3,5];case 2:return u.sent(),[3,5];case 3:return[4,r.dynamicOfflineData.delete(i.id).catch(o.ZP.errnames.DatabaseClosed)];case 4:u.sent(),u.label=5;case 5:return[2]}}))}))).apply(this,arguments)}function P(e,t){return k.apply(this,arguments)}function k(){return k=c((function(e,t){var n;return l(this,(function(r){switch(r.label){case 0:return[4,p(e)];case 1:return n=r.sent(),[4,Promise.all(n.map((o=c((function(e){return l(this,(function(n){return[2,A(e.type,e.identifier,t)]}))})),function(e){return o.apply(this,arguments)})))];case 2:return r.sent(),[2]}var o}))})),k.apply(this,arguments)}function A(e,t,n){return x.apply(this,arguments)}function x(){return x=c((function(e,t,n){var r,i,u,s,d,p,m,y,v;return l(this,(function(h){switch(h.label){case 0:return[4,b(e,t)];case 1:return h.sent(),r=new a.A,[4,I()];case 2:return i=h.sent(),[4,r.dynamicOfflineData.get({type:e,identifier:t}).catch(o.ZP.errnames.DatabaseClosed,(function(){}))];case 3:return u=h.sent(),s=f().filter((function(t){return t.type===e})),u?[4,Promise.all(s.map((g=c((function(e){var r,o,a;return l(this,(function(i){try{return e.sync(t,n),[2,{id:e.id,error:void 0}]}catch(t){return a=null!==(o=null===(r=t.message)||void 0===r?void 0:r.toString())&&void 0!==o?o:t.toString(),[2,{id:e.id,error:a}]}return[2]}))})),function(e){return g.apply(this,arguments)})))]:[2];case 4:return d=h.sent(),p=d.filter((function(e){return!e.error})).map((function(e){return e.id})),m=d.filter((function(e){return e.error})).map((function(e){return e.id})),y=d.filter((function(e){return e.error})).map((function(e){return{handlerId:e.id,message:e.error}})),v={syncedOn:new Date,syncedBy:i,succeededHandlers:p,erroredHandlers:m,errors:y},u.id?[4,r.dynamicOfflineData.update(u.id,{syncState:v}).catch(o.ZP.errnames.DatabaseClosed)]:[3,6];case 5:h.sent(),h.label=6;case 6:return[2]}var g}))})),x.apply(this,arguments)}function I(){return C.apply(this,arguments)}function C(){return(C=c((function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,(0,r.r)()];case 1:if(!(e=t.sent().uuid))throw new Error("Using the dynamic offline data API requires a logged in user.");return[2,e]}}))}))).apply(this,arguments)}},94878:(e,t,n)=>{n.d(t,{$9:()=>o.$9,D2:()=>u.D2,ET:()=>i.ET,Gy:()=>u.Gy,HL:()=>u.HL,H_:()=>s.H_,J_:()=>r.J,Jj:()=>u.Jj,KS:()=>r.K,Kb:()=>u.H_,ME:()=>s.ME,MO:()=>l.MO,PQ:()=>u.PQ,Q2:()=>u.Q2,QI:()=>o.QI,Qd:()=>u.Qd,Rz:()=>o.Rz,TI:()=>u.TI,U_:()=>i.U_,Ui:()=>s.Ui,WB:()=>u.WB,X2:()=>u.X2,Xc:()=>s.Xc,a7:()=>c.a7,aA:()=>f.a,cV:()=>s.cV,dt:()=>l.dt,fR:()=>s.fR,gp:()=>a.g,jp:()=>u.jp,k1:()=>l.k1,mF:()=>s.mF,pO:()=>s.pO,ps:()=>s.ps,sF:()=>c.sF,vm:()=>i.vm,vs:()=>u.vs,xA:()=>s.xA,z7:()=>c.z7});var r=n(57221),o=n(85321),a=n(78947),i=n(45183),u=n(53619),c=n(58288),l=n(12450),s=n(22723),f=n(97400)},45183:(e,t,n)=>{function r(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function u(e){r(i,o,a,u,c,"next",e)}function c(e){r(i,o,a,u,c,"throw",e)}u(void 0)}))}}function a(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function i(){return u.apply(this,arguments)}function u(){return(u=o((function(){var e;return a(this,(function(t){e=window.sessionStorage;try{e.setItem("someKeyHere","test"),e.removeItem("someKeyHere")}catch(t){if(t.code===DOMException.QUOTA_EXCEEDED_ERR&&0===e.length)return[2,!0]}return[2,!1]}))}))).apply(this,arguments)}function c(){return l.apply(this,arguments)}function l(){return(l=o((function(){return a(this,(function(e){return[2,!window.indexedDB]}))}))).apply(this,arguments)}function s(){return f.apply(this,arguments)}function f(){return(f=o((function(){return a(this,(function(e){return[2,new Promise((function(e){var t=indexedDB.open("test");t.onerror=function(){return e(!0)},t.onsuccess=function(){return e(!1)}}))]}))}))).apply(this,arguments)}function d(){return p.apply(this,arguments)}function p(){return(p=o((function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return[4,s()];case 1:return(t=n.sent())?[3,3]:[4,c()];case 2:t=n.sent(),n.label=3;case 3:return(e=t)?[3,5]:[4,i()];case 4:e=n.sent(),n.label=5;case 5:return[2,e]}}))}))).apply(this,arguments)}n.d(t,{ET:()=>h,U_:()=>b,vm:()=>v});var m="openmrs3:offline-mode",y="unavailable";function v(){return{current:y,notAvailable:"unavailable"===y,active:"on"===y}}function b(e){"unavailable"!==y&&"unavailable"!==e&&(localStorage.setItem(m,"on"===e?"active":"disabled"),y=e)}function h(){return g.apply(this,arguments)}function g(){return(g=o((function(){return a(this,(function(e){switch(e.label){case 0:return[4,d()];case 1:return e.sent()||(y="active"===localStorage.getItem(m)?"on":"off"),navigator.onLine,[2]}}))}))).apply(this,arguments)}},97400:(e,t,n)=>{function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?r(e):t;var n}(this,n)}}n.d(t,{A:()=>c,a:()=>l});var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=u(n);function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),o(r(e=t.call(this,"EsmOffline")),"syncQueue",void 0),o(r(e),"dynamicOfflineData",void 0),e.version(4).stores({syncQueue:"++id,userId,type,[userId+type]",dynamicOfflineData:"++id,type,identifier,*users,&[type+identifier]"}),e.syncQueue=e.table("syncQueue"),e.dynamicOfflineData=e.table("dynamicOfflineData"),e}return n}(n(8102).ZP);function l(){return new c}},12450:(e,t,n)=>{n.d(t,{MO:()=>l,dt:()=>c,k1:()=>u});var r=n(90946),o=n(22723);function a(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var i=(0,r.jk)("offline-patients",{offlinePatientDataSyncState:{},handlers:{}});function u(){return f(),i}function c(e,t){f(),(0,o.Xc)({type:"patient",displayName:t.displayName,id:e,isSynced:function(){return Promise.resolve(!0)},sync:function(e,n){return t.onOfflinePatientAdded({patientUuid:e,signal:null!=n?n:(new AbortController).signal})}})}function l(e){return s.apply(this,arguments)}function s(){var e;return e=function(e){return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(t){switch(t.label){case 0:return f(),[4,(0,o.mF)("patient",e)];case 1:return t.sent(),[2]}}))},s=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){a(i,r,o,u,c,"next",e)}function c(e){a(i,r,o,u,c,"throw",e)}u(void 0)}))},s.apply(this,arguments)}function f(){console.warn("The offline patient API has been deprecated and will be removed in a future release. To prevent future crashes, the functions remain available for the moment, but any invocations should be migrated ASAP.")}},85321:(e,t,n)=>{n.d(t,{$9:()=>o,QI:()=>r,Rz:()=>a});var r="x-omrs-offline-response-body",o="x-omrs-offline-response-status",a="x-omrs-offline-caching-strategy"},78947:(e,t,n)=>{n.d(t,{g:()=>a});var r=n(57221);function o(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return i.apply(this,arguments)}function i(){var e;return e=function(e){var t,n;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(o){switch(o.label){case 0:return[4,(0,r.J)()];case 1:return(t=o.sent())?[4,t.messageSW(e)]:[3,3];case 2:return n=o.sent(),[3,4];case 3:n={success:!1,result:void 0,error:"No service worker has been registered. This is typically the case when the application has been built without offline-related features."},o.label=4;case 4:return[2,n]}}))},i=function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function u(e){o(i,r,a,u,c,"next",e)}function c(e){o(i,r,a,u,c,"throw",e)}u(void 0)}))},i.apply(this,arguments)}},57221:(e,t,n)=>{n.d(t,{J:()=>i,K:()=>a});var r=n(44873),o=void 0;function a(e,t){if(void 0!==o)return console.warn("The application's Service Worker has already been registered. The new service worker at ".concat(e," will not be registered.")),o;if(!("serviceWorker"in navigator))throw new Error("Registering the Service Worker is not possible due to missing browser capabilities.");var n=new r.ZW(e,t);return o=n.register().then((function(){return n.controlling.then((function(){return n}))}))}function i(){return null!=o?o:Promise.resolve(void 0)}},53619:(e,t,n)=>{n.d(t,{D2:()=>T,Gy:()=>W,HL:()=>b,H_:()=>z,Jj:()=>k,PQ:()=>S,Q2:()=>C,Qd:()=>L,TI:()=>R,WB:()=>x,X2:()=>j,jp:()=>B,vs:()=>v});var r=n(8102),o=n(73233),a=n(90946);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)}))}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var p=new(n(97400).A),m={},y=(0,a.jk)("offline-synchronization",{});function v(){return y}function b(){return h.apply(this,arguments)}function h(){return h=c((function(){var e,t,n,r,o,a,i,u,c,l,v,b,h;return d(this,(function(d){switch(d.label){case 0:return y.getState().synchronization?[2]:[4,p.syncQueue.count()];case 1:e=d.sent(),t={},n=Object.entries(m),r=n.length,o={},a=new AbortController,i=function(){var e,t,n=y.getState().synchronization;y.setState({synchronization:(e=s({},n),t={pendingCount:n.pendingCount-1},t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e)})},d.label=2;case 2:d.trys.push([2,,10,11]),y.setState({synchronization:{totalCount:e,pendingCount:e,abortController:a}}),u=0,d.label=3;case 3:if(!(u<r&&n.length>0))return[3,8];c=n.length,d.label=4;case 4:return c--?(l=f(n[c],2),v=l[0],b=l[1],(h=b.dependsOn.map((function(e){return t[e]}))).every(Boolean)?(o[v]={},[4,Promise.all(h)]):[3,6]):[3,7];case 5:d.sent(),t[v]=function(e,t,n,r){return g.apply(this,arguments)}(b,o,a,i),n.splice(c,1),d.label=6;case 6:return[3,4];case 7:return u++,[3,3];case 8:return[4,Promise.allSettled(Object.values(t))];case 9:return d.sent(),[3,11];case 10:return y.setState({synchronization:void 0}),[7];case 11:return[2]}}))})),h.apply(this,arguments)}function g(){return(g=c((function(e,t,n,r){var o,a,i,u,c,l,s,m,y,v,b,h,g,O,S,E,j;return d(this,(function(d){switch(d.label){case 0:return o=e.type,a=e.dependsOn,i=e.process,u=[],c=[],[4,w()];case 1:return l=d.sent(),[4,p.syncQueue.where({type:o,userId:l}).each((function(e,t){u.push([t.primaryKey,e.content,e.descriptor]),c.push(e.content)}))];case 2:d.sent(),s=0,d.label=3;case 3:if(!(s<u.length))return[3,11];m=f(u[s],3),y=m[0],v=m[1],b=m[2],h=b.id,g=b.dependencies,O=void 0===g?[]:g,d.label=4;case 4:return d.trys.push([4,7,9,10]),[4,i(v,{abort:n,index:s,items:c,userId:l,dependencies:O.map((function(e){var n=e.id,r=e.type;return a.includes(r)?t[r][n]:void 0}))})];case 5:return S=d.sent(),void 0!==h&&(t[o][h]=S),[4,p.syncQueue.delete(y)];case 6:return d.sent(),[3,10];case 7:return E=d.sent(),[4,p.syncQueue.update(y,{lastError:{name:null==E?void 0:E.name,message:null!==(j=null==E?void 0:E.message)&&void 0!==j?j:null==E?void 0:E.toString()}})];case 8:return d.sent(),[3,10];case 9:return r(),[7];case 10:return s++,[3,3];case 11:return[2]}}))}))).apply(this,arguments)}function w(){return O.apply(this,arguments)}function O(){return(O=c((function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,(0,o.r)()];case 1:return[2,(null==(e=t.sent())?void 0:e.uuid)||"*"]}}))}))).apply(this,arguments)}function S(e,t,n,r){return E.apply(this,arguments)}function E(){return(E=c((function(e,t,n,o){var a;return d(this,(function(i){switch(i.label){case 0:return void 0===(a=o&&o.id)?[3,2]:[4,p.syncQueue.where({type:t,userId:e}).filter((function(e){return(null==e?void 0:e.descriptor.id)===a})).delete().catch(r.ZP.errnames.DatabaseClosed)];case 1:i.sent(),i.label=2;case 2:return[4,p.syncQueue.add({type:t,content:n,userId:e,descriptor:o||{},createdOn:new Date}).catch(r.ZP.errnames.DatabaseClosed,(function(){return-1}))];case 3:return[2,i.sent()]}}))}))).apply(this,arguments)}function j(e,t,n){return P.apply(this,arguments)}function P(){return(P=c((function(e,t,n){return d(this,(function(r){switch(r.label){case 0:return[4,w()];case 1:return[4,S(r.sent(),e,t,n)];case 2:return[2,r.sent()]}}))}))).apply(this,arguments)}function k(e,t){return A.apply(this,arguments)}function A(){return(A=c((function(e,t){return d(this,(function(n){switch(n.label){case 0:return[4,x(e,t)];case 1:return[2,n.sent().map((function(e){return e.content}))]}}))}))).apply(this,arguments)}function x(e,t){return I.apply(this,arguments)}function I(){return(I=c((function(e,t){var n;return d(this,(function(o){switch(o.label){case 0:return n=t?{type:t,userId:e}:{userId:e},[4,p.syncQueue.where(n).toArray().catch(r.ZP.errnames.DatabaseClosed,(function(){return[]}))];case 1:return[2,o.sent()]}}))}))).apply(this,arguments)}function C(e){return N.apply(this,arguments)}function N(){return(N=c((function(e){return d(this,(function(t){switch(t.label){case 0:return[4,w()];case 1:return[4,k(t.sent(),e)];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function T(e){return D.apply(this,arguments)}function D(){return(D=c((function(e){return d(this,(function(t){switch(t.label){case 0:return[4,w()];case 1:return[4,x(t.sent(),e)];case 2:return[2,t.sent()]}}))}))).apply(this,arguments)}function R(e){return M.apply(this,arguments)}function M(){return(M=c((function(e){return d(this,(function(t){switch(t.label){case 0:return[4,p.syncQueue.get(e).catch(r.ZP.errnames.DatabaseClosed,(function(){}))];case 1:return[2,t.sent()]}}))}))).apply(this,arguments)}function L(e){var t;return!!(null===(t=m[e])||void 0===t?void 0:t.options.onBeginEditSyncItem)}function B(e){return U.apply(this,arguments)}function U(){return(U=c((function(e){var t,n,r;return d(this,(function(o){switch(o.label){case 0:return[4,R(e)];case 1:if(!(n=o.sent()))throw new Error("No sync item with the ID ".concat(e," exists."));if(!(r=null===(t=m[n.type])||void 0===t?void 0:t.options.onBeginEditSyncItem))throw new Error("A sync item with the ID ".concat(e,' exists, but the associated handler (if one exists) doesn\'t support editing the item. You can avoid this error by either verifying that sync items of this type can be edited via the "canEditSynchronizationItemsOfType(type: string)" function or alternatively ensure that the synchronizaton handler for sync items of type "').concat(n.type,'" supports editing items.'));return r(n),[2]}}))}))).apply(this,arguments)}function W(e){return _.apply(this,arguments)}function _(){return(_=c((function(e){return d(this,(function(t){switch(t.label){case 0:return[4,p.syncQueue.delete(e).catch(r.ZP.errnames.DatabaseClosed)];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function z(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};m[e]={type:e,dependsOn:t,process:n,options:r}}},58288:(e,t,n)=>{n.d(t,{a7:()=>o,sF:()=>a,z7:()=>i});var r=n(54274),o="OFFLINE+";function a(){return o+(0,r.Z)()}function i(e){return e.startsWith(o)}},66717:(e,t,n)=>{n.d(t,{s:()=>o});var r=n(75776),o=n.n(r)().createContext({moduleName:"",featureName:""})},77652:(e,t,n)=>{n.d(t,{w:()=>u});var r=n(75776),o=n.n(r),a=n(25764);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=e.to,n=e.templateParams,u=e.onBeforeNavigate,c=e.children,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["to","templateParams","onBeforeNavigate","children"]);return(0,r.useEffect)((function(){l.href&&console.warn("ConfigurableLink does not support the href prop. Use the 'to' prop instead. The provided href value is '".concat(l.href,"'")),l.onClick&&console.warn("ConfigurableLink does not support the onClick prop. Use the 'onBeforeNavigate' prop instead. The 'to' prop of the offending link is ".concat(t))}),[]),o().createElement("a",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({onClick:function(e){return function(e,t,n,r){0!==e.button||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||(e.preventDefault(),null==r||r(e),(0,a.c4)({to:t,templateParams:n})),0===e.button&&(e.ctrlKey||e.metaKey)&&(null==r||r(e)),0===e.button&&e.shiftKey&&(null==r||r(e)),1===e.button&&(null==r||r(e))}(e,t,n,u)},href:(0,a.ll)(t,n)},l),c)}},77110:(e,t,n)=>{n.d(t,{h:()=>s});var r=n(63899),o=n(75776),a=n.n(o),i=n(59753);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}var s=function(e){var t,n,c=e.state,s=e.children,f=e.wrap,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["state","children","wrap"]),p=(t=(0,o.useState)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],y=p[1],v=(0,o.useContext)(i.sM).extension,b=(0,o.useRef)(null),h=(0,o.useRef)(Promise.resolve()),g=(0,o.useRef)(!1);(0,o.useEffect)((function(){f&&console.warn("'wrap' prop of Extension is being used ".concat((null==v?void 0:v.extensionId)?"by ".concat(v.extensionId," in ").concat(v.extensionSlotName):"",". This will be removed in a future release."))}),[]);var w=(0,o.useCallback)((function(e){y(e)}),[y]);(0,o.useEffect)((function(){if(null!=m&&(null==v?void 0:v.extensionSlotName)&&v.extensionSlotModuleName&&v.extensionSlotModuleName&&!b.current&&!g.current)return g.current=!0,(0,r.H8)(m,v.extensionSlotName,v.extensionSlotModuleName,v.extensionId,void 0,c).then((function(e){b.current=e,g.current=!1})),function(){if(b&&b.current)switch(b.current.getStatus()){case"MOUNTING":b.current.mountPromise.then((function(){var e;"MOUNTED"===(null===(e=b.current)||void 0===e?void 0:e.getStatus())&&b.current.unmount()}));break;case"MOUNTED":b.current.unmount();break;case"UPDATING":h.current&&h.current.then((function(){var e;"MOUNTED"===(null===(e=b.current)||void 0===e?void 0:e.getStatus())&&b.current.unmount()}))}}}),[null==v?void 0:v.extensionSlotName,null==v?void 0:v.extensionId,null==v?void 0:v.extensionSlotModuleName,m]),(0,o.useEffect)((function(){b.current&&b.current.update&&"UNMOUNTING"!==b.current.getStatus()&&Promise.all([b.current.mountPromise,h.current]).then((function(){var e;"MOUNTED"===(null==b||null===(e=b.current)||void 0===e?void 0:e.getStatus())&&b.current.update&&(h.current=b.current.update(l({},c)).catch((function(e){var t,n,r;if(n=e,!(null!=(r=Error)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r)||!e.message.includes("minified message #32")||"MOUNTED"===(null===(t=b.current)||void 0===t?void 0:t.getStatus()))throw e})))}))}),[c]);var O=a().createElement("div",l({ref:w,"data-extension-id":null==v?void 0:v.extensionId,style:{position:"relative"}},d));return"function"!=typeof s||a().isValidElement(s)?v&&f?f(O,v):O:a().createElement(a().Fragment,null,s(O,v))}},44688:(e,t,n)=>{n.d(t,{d:()=>f});var r=n(75776),o=n.n(r),a=n(66717),i=n(77110),u=n(77917);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function s(e){return e}function f(e){var t=e.name,n=e.extensionSlotName,c=e.select,f=void 0===c?s:c,d=e.children,p=e.state,m=e.style,y=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["name","extensionSlotName","select","children","state","style"]);if(d&&p)throw new Error("Both children and state have been provided. If children are provided, the state must be passed as a prop to the `Extension` component.");var v,b,h,g,w=null!=t?t:n,O=(0,r.useRef)(null),S=(0,u.p)(w),E=S.extensions,j=S.extensionSlotModuleName,P=(0,r.useMemo)((function(){return f(E)}),[f,E]),k=(0,r.useMemo)((function(){if("function"==typeof d&&!o().isValidElement(d))return P.map((function(e){return d(e)}))}),[d,P]);return o().createElement("div",l({ref:O,"data-extension-slot-name":w,"data-extension-slot-module-name":j,style:(h=l({},m),g={position:"relative"},g=null!=g?g:{},Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(g)).forEach((function(e){Object.defineProperty(h,e,Object.getOwnPropertyDescriptor(g,e))})),h)},y),w&&P.map((function(e,t){return o().createElement(a.s.Provider,{key:e.id,value:{moduleName:j,featureName:"",extension:{extensionId:e.id,extensionSlotName:w,extensionSlotModuleName:j}}},null!==(b=null!==(v=null==k?void 0:k[t])&&void 0!==v?v:"function"!=typeof d?d:null)&&void 0!==b?b:o().createElement(i.h,{state:p}))})))}},19291:(e,t,n)=>{n.d(t,{P:()=>o});var r=n(85127);function o(e){var t=e.namespace,n=e.value;return(0,r.L)(t,n),null}},62870:(e,t,n)=>{n.d(t,{V:()=>u});var r=n(73233),o=n(75776),a=n.n(o);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t,n,u=e.privilege,c=e.fallback,l=e.children,s=(t=(0,o.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],d=s[1];return(0,o.useEffect)((function(){var e=(0,r.ts)({includeAuthStatus:!1}).subscribe(d);return function(){return e.unsubscribe()}}),[]),f&&(0,r.y9)(u,f)?a().createElement(a().Fragment,null,l):c?a().createElement(a().Fragment,null,c):null}},32815:(e,t,n)=>{n.d(t,{Ae:()=>l,D$:()=>f,a$:()=>s,tl:()=>c});var r=n(75776),o=n.n(r),a=n(74279),i=n(42085),u=n(15403);function c(e,t){return(0,i.Z)({React:o(),ReactDOMClient:a,rootComponent:(0,u.B)(t)(e)})}function l(e,t){return function(){return e().then((function(e){return c(e.default,t)}))}}function s(e,t){return function(){return Promise.resolve(c(e,t))}}var f=l},59753:(e,t,n)=>{n.d(t,{sM:()=>r.s,w:()=>o.w,hj:()=>a.h,dT:()=>i.d,PK:()=>s.P,Vz:()=>u.V,NV:()=>E.NV,D$:()=>c.D$,Ae:()=>c.Ae,tl:()=>c.tl,a$:()=>c.a$,nI:()=>T.n,Bq:()=>l.B,Ew:()=>f.E,bp:()=>d.b,YV:()=>m.Y,P3:()=>p.P,Rs:()=>y.R,yn:()=>v.y,ZR:()=>b.Z,BL:()=>h.B,Y9:()=>g.Y,Nr:()=>w.N,LG:()=>O.L,TM:()=>j,p8:()=>P.p,qd:()=>k.q,jf:()=>A.j,ye:()=>x.y,NW:()=>N,mr:()=>T.m,Z_:()=>D.Z,t$:()=>R.t,cE:()=>M.c,h0:()=>z.h,lm:()=>L.l,eW:()=>F.e,Ph:()=>B.P,HN:()=>J.H,Qu:()=>Z.Q,kP:()=>U.k,oR:()=>E.oR,xQ:()=>E.xQ,JF:()=>W.J,NN:()=>_.N});var r=n(66717),o=n(77652),a=n(77110),i=n(44688),u=n(62870),c=n(32815),l=n(15403),s=n(19291),f=n(81671),d=n(79571),p=n(90875),m=n(84752),y=n(64269),v=n(99513),b=n(32963),h=n(5122),g=n(32068),w=n(89077),O=n(85127),S=n(63899),E=n(45e3),j=(0,E.NV)((0,S.Co)()),P=n(77917),k=n(41278),A=n(46563),x=n(86528),I=n(75776);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(){var e,t,n=(e=(0,I.useState)(0),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];return(0,I.useCallback)((function(){n((function(e){return e+1}))}),[])}var T=n(59776),D=n(88811),R=n(5194),M=n(63995),L=n(1510),B=n(55865),U=n(19817),W=n(38338),_=n(11765),z=n(9470),F=n(80814),Z=n(95496),J=n(16763)},15403:(e,t,n)=>{n.d(t,{B:()=>y});var r=n(75776),o=n.n(r),a=n(62680),i=n(24126),u=n(73233),c=n(66717);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){return!t||"object"!=((n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}(this,n)}}var p={strictMode:!0,throwErrorsToConsole:!0,disableTranslations:!1},m={errorRetryCount:3,fetcher:u.vb,focusThrottleInterval:3e4};function y(e){if("object"!=typeof e||"string"!=typeof e.featureName||"string"!=typeof e.moduleName)throw new Error("Invalid options");var t=Object.assign({},p,e);return function(e){var n,u,s,p;return u=n=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(y,n);var u,s,p=d(y);function y(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(n=p.call(this,e)).state={caughtError:null,caughtErrorInfo:null,config:{moduleName:t.moduleName,featureName:t.featureName,extension:e._extensionContext}},n}return u=y,(s=[{key:"componentDidCatch",value:function(e,n){n&&n.componentStack&&(e.extra=Object.assign(e.extra||{},{componentStack:n.componentStack})),t.throwErrorsToConsole&&setTimeout((function(){throw e})),this.setState({caughtError:e,caughtErrorInfo:n})}},{key:"render",value:function(){if(this.state.caughtError)return o().createElement("div",null,"An error has occurred. Please try reloading the page.");var n=o().createElement(r.Suspense,{fallback:null},o().createElement(i.J$,{value:m},o().createElement(c.s.Provider,{value:this.state.config},t.disableTranslations?o().createElement(e,this.props):o().createElement(a.I18nextProvider,{i18n:window.i18next,defaultNS:t.moduleName},o().createElement(e,this.props)))));return t.strictMode||!o().StrictMode?n:o().createElement(o().StrictMode,null,n)}}])&&l(u.prototype,s),y}(o().Component),s="displayName",p="OpenmrsReactComponent(".concat(t.featureName,")"),s in u?Object.defineProperty(u,s,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[s]=p,n}}},81671:(e,t,n)=>{n.d(t,{E:()=>o,Z:()=>a});var r=n(75776);function o(){var e=(0,r.useRef)();return e.current&&!e.current.signal.aborted||(e.current=new AbortController),(0,r.useEffect)((function(){var t=e.current;return function(){return null==t?void 0:t.abort()}}),[]),e.current}const a=o},79571:(e,t,n)=>{n.d(t,{b:()=>u});var r=n(75776),o=n(16373),a=n(5243);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t,n,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return null!=e?e:{}},c=(t=(0,r.useState)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],s=c[1];return(0,r.useEffect)((function(){if(null==e||""===e.replace(" ",""))throw new Error('The namespace supplied to useAppContext must be a non-empty string, but was "'.concat(e,'".'))}),[e]),(0,r.useEffect)((function(){return(0,o.gE)(e,(function(e){if(void 0!==e){var t=u?u(e):null!=e?e:{};(0,a.w)(l,t)||s(t)}}))}),[]),l}},84752:(e,t,n)=>{n.d(t,{Y:()=>u});var r=n(75776),o=n(63899),a=n(80532);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t,n,u=(t=(0,r.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],l=u[1];return(0,r.useEffect)((function(){return(0,o.yw)().subscribe((function(t){var n,r,o=null!==(r=null===(n=t.slots[e])||void 0===n?void 0:n.assignedExtensions.map((function(e){return e.id})))&&void 0!==r?r:[];(0,a.Z)(o,c)||l(o)}))}),[]),c}},90875:(e,t,n)=>{n.d(t,{P:()=>a});var r=n(75776),o=n(46563);function a(e){var t=(0,o.j)().slots;return(0,r.useMemo)((function(){var n,r;return null!==(r=null===(n=t[e])||void 0===n?void 0:n.assignedExtensions)&&void 0!==r?r:[]}),[t,e])}},64269:(e,t,n)=>{n.d(t,{R:()=>i});var r=n(75776),o=n(24126),a=n(73233);function i(e,t){var n,i=(0,o.ZP)("".concat(a.eK,"?patient=").concat(e,"&includeEncounterless=").concat(t),a.vb),u=i.data,c=i.error,l=i.mutate,s=i.isLoading,f=i.isValidating;return(0,r.useMemo)((function(){return{isLoading:s,data:null!==(n=null==u?void 0:u.data.results)&&void 0!==n?n:[],error:c,mutate:l,isValidating:f}}),[u,c,s,f,l])}},99513:(e,t,n)=>{n.d(t,{y:()=>o});var r=n(75776);function o(e){(0,r.useEffect)((function(){if(e){var t=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=t}}}),[e])}},32963:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(75776),o=n(30849),a=n(80532),i=n(66717);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f={},d='No ComponentContext has been provided. This should come from "openmrsComponentDecorator".\nUsually this is already applied when using "getAsyncLifecycle" or "getSyncLifecycle".';function p(e){var t=(0,r.useMemo)(o._z,[]),n=function(e,t){var n=s((0,r.useState)(function(e,t){return t?function(){var n=e.getState(),r=(0,o.sR)(n,t.extensionSlotName,t.extensionId);if(r.loaded&&r.config)return r.config}:null}(e,t)),2),i=n[0],u=n[1];return(0,r.useEffect)((function(){if(t)return e.subscribe((function(e){var n=(0,o.sR)(e,t.extensionSlotName,t.extensionId);n.loaded&&n.config&&!(0,a.Z)(n.config,i)&&u(n.config)}))}),[e,t,i]),i}(t,e);if(!n&&e){var i="".concat(e.extensionSlotName,"-").concat(e.extensionId);throw!f[i]&&t&&(f[i]=function(e,t){return new Promise((function(n){var r=e.subscribe((function(e){var a=(0,o.sR)(e,t.extensionSlotName,t.extensionId);a.loaded&&a.config&&(n(a.config),r())}))}))}(t,e)),f[i]}return n||{}}function m(e){var t,n=(0,r.useContext)(i.s),a=n.moduleName,u=n.extension,c=null!==(t=null==e?void 0:e.externalModuleName)&&void 0!==t?t:a;if(!c&&!u)throw Error(d);var m=function(e){var t=(0,r.useMemo)((function(){return(0,o.pR)(e)}),[e]),n=e,a=function(e){var t=s((0,r.useState)(function(e){return function(){var t=e.getState();return t.loaded&&t.config?t.config:null}}(e)),2),n=t[0],o=t[1];return(0,r.useEffect)((function(){return null==e?void 0:e.subscribe((function(e){e.loaded&&e.config&&o(e.config)}))}),[e]),n}(t);if(!a)throw f[n]||(f[n]=function(e){return new Promise((function(t){var n=e.subscribe((function(e){e.loaded&&e.config&&(t(e.config),n())}))}))}(t)),f[n];return a}(c),y=p(u);return(0,r.useMemo)((function(){return(null==e?void 0:e.externalModuleName)&&c===e.externalModuleName?l({},m):l({},m,y)}),[c,null==e?void 0:e.externalModuleName,m,y])}},5122:(e,t,n)=>{n.d(t,{B:()=>f});var r=n(75776),o=n(63899),a=n(32068),i=n(90875),u=n(45e3),c=n(39163);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){var t=(0,a.Y)(),n=(0,i.P)(e),l=(0,u.oR)(c.Jg),f=(0,r.useMemo)((function(){return Object.entries(l.flags).filter((function(e){return s(e,2)[1].enabled})).map((function(e){return s(e,1)[0]}))}),[l.flags]);return(0,r.useMemo)((function(){return(0,o.Kq)(n,t,f)}),[n,t,f])}},32068:(e,t,n)=>{n.d(t,{Y:()=>u});var r=n(82485),o=n(53430),a=n(75776);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(){var e,t,n=(e=(0,a.useState)((0,o.G)()),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=n[0],c=n[1];return(0,a.useEffect)((function(){return(0,r.XS)((function(e){var t=e.online;return c(t)}))}),[]),u}},89077:(e,t,n)=>{n.d(t,{N:()=>a});var r=n(75776);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=(t=(0,r.useState)(e),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],c=i[1];return(0,r.useEffect)((function(){var t=setTimeout((function(){c(e)}),a);return function(){clearTimeout(t)}}),[e,a]),u}},85127:(e,t,n)=>{n.d(t,{L:()=>i});var r=n(75776),o=n(16373),a=n(5243);function i(e,t){var n=(0,r.useRef)(null!=t?t:{}),i=(0,r.useRef)((function(t){return(0,o.dt)(e,t)}));return(0,r.useEffect)((function(){return(0,o.Kj)(e,null!=t?t:{}),function(){(0,o.zK)(e)}}),[e]),(0,r.useEffect)((function(){var r=null!=t?t:{};(0,a.w)(n.current,r)||((0,o.dt)(e,(function(){return r})),n.current=r)}),[t]),i.current}},77917:(e,t,n)=>{n.d(t,{p:()=>u});var r=n(75776),o=n(63899),a=n(66717),i=n(5122);function u(e){var t=(0,r.useContext)(a.s).moduleName;if(!t)throw Error("ComponentContext has not been provided. This should come from @openmrs/esm-react-utils.");return(0,r.useEffect)((function(){(0,o.Qq)(t,e)}),[]),{extensions:(0,i.B)(e),extensionSlotName:e,extensionSlotModuleName:t}}},41278:(e,t,n)=>{n.d(t,{q:()=>a});var r=n(75776),o=n(5122);function a(e){var t=(0,o.B)(e);return(0,r.useMemo)((function(){return Object.fromEntries(t.map((function(e){return[e.name,e.meta]})))}),[t])}},46563:(e,t,n)=>{n.d(t,{j:()=>o});var r=n(63899),o=(0,n(45e3).NV)((0,r.yw)())},86528:(e,t,n)=>{n.d(t,{y:()=>i});var r=n(75776),o=n(45e3),a=n(39163);function i(e){var t,n=(0,o.oR)(a.Jg).flags;return(0,r.useEffect)((function(){n[e]||console.error('useFeatureFlag: Attempted to get value of non-existent flag "'.concat(e,'". Did you forget to call registerFeatureFlag?'))}),[n[e]]),null===(t=n[e])||void 0===t?void 0:t.enabled}},59776:(e,t,n)=>{n.d(t,{m:()=>i,n:()=>u});var r=n(75776);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){var e="tablet";return document.body.classList.forEach((function(t){switch(t){case"omrs-breakpoint-lt-tablet":e="phone";break;case"omrs-breakpoint-gt-small-desktop":e="large-desktop";break;case"omrs-breakpoint-gt-tablet":e="small-desktop"}})),e}function i(){var e,t,n=(e=(0,r.useState)(a),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],u=n[1];return(0,r.useEffect)((function(){var e=function(){u(a())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),i}var u=function(e){return"small-desktop"===e||"large-desktop"===e}},88811:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(73233),o=n(75776);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=(e=(0,o.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],c=i[1];return(0,o.useEffect)((function(){var e=(0,r.JC)(n).subscribe((function(e){c(e)}),(function(e){console.error(e)}));return function(){return e.unsubscribe()}}),[]),u}},5194:(e,t,n)=>{n.d(t,{t:()=>o});var r=n(75776);function o(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,r.useRef)(null);return(0,r.useEffect)((function(){var r=function(r){t&&n.current&&!n.current.contains(r.target)&&e(r)};return window.addEventListener("mousedown",r),window.addEventListener("touchstart",r),function(){window.removeEventListener("mousedown",r),window.removeEventListener("touchstart",r)}}),[e,t]),n}},63995:(e,t,n)=>{n.d(t,{c:()=>c});var r=n(75776),o=n(24126),a=n(73233),i=n(81671);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t,n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=c.abortController,s=c.fetchInit,f=c.url,d=c.swrConfig,p=(0,i.Z)(),m=(0,r.useMemo)((function(){return null!==(n=null!==(t=null==s?void 0:s.signal)&&void 0!==t?t:null==l?void 0:l.signal)&&void 0!==n?n:p.signal}),[null==l?void 0:l.signal,null==s?void 0:s.signal,p.signal]),y=(0,r.useCallback)((function(e){var t,n,r=function(e,t){if(t)return"function"==typeof t?t(e):t;if("string"==typeof e)return e;throw new Error("When using useOpenmrsSWR with a key that is not a string, you must provide a url() function that converts the key to a valid url. The key for this hook is ".concat(e,"."))}(e,f);return(0,a.vb)(r,(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},s),n=null!=(n={signal:m})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t))}),[m,s,f]);return(0,o.ZP)(e,y,d)}},9470:(e,t,n)=>{n.d(t,{h:()=>i});var r=n(75776);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=10;function i(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,u=(e=(0,r.useState)(1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],l=u[1],s=(0,r.useMemo)((function(){return"number"==typeof i&&i>0?Math.max(1,Math.ceil(n.length/i)):1}),[n.length,i]),f=(0,r.useMemo)((function(){var e=(c-1)*i,t=(c+0)*i;return n.slice(e,t)}),[n,c,i]),d=(0,r.useCallback)((function(e){l(Math.max(1,Math.min(s,e)))}),[l,s]),p=(0,r.useCallback)((function(){c<s&&l(c+1)}),[c,s,l]),m=(0,r.useCallback)((function(){c>1&&l(c-1)}),[c,l]);return(0,r.useMemo)((function(){return{results:f,totalPages:s,currentPage:c,paginated:n.length>i,showNextButton:c<s,showPreviousButton:c>1,goTo:d,goToNext:p,goToPrevious:m}}),[f,s,n.length,i,c,d,p,m])}},1510:(e,t,n)=>{n.d(t,{l:()=>p});var r,o=n(75776),a=n(73233);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function l(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}!function(e){e.loadPatient="loadPatient",e.newPatient="newPatient",e.loadError="patientLoadError"}(r||(r={}));var s={patientUuid:null,patient:null,isPendingUuid:!0,isLoadingPatient:!1,err:null};function f(){var e=/\/patient\/([a-zA-Z0-9\-]+)\/?/.exec(location.pathname);return e&&e[1]}function d(e,t){switch(t.type){case r.loadPatient:return l(c({},e),{patientUuid:t.patientUuid,patient:null,isPendingUuid:!1,isLoadingPatient:!0,err:null});case r.newPatient:return l(c({},e),{patient:t.patient,isPendingUuid:!1,isLoadingPatient:!1,err:null});case r.loadError:return l(c({},e),{patient:null,isPendingUuid:!1,isLoadingPatient:!1,err:t.err});default:return e}}function p(e){var t,n,u=(t=(0,o.useReducer)(d,l(c({},s),{patientUuid:null!=e?e:null,isPendingUuid:!e,isLoadingPatient:!!e})),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=u[0],m=u[1];return(0,o.useEffect)((function(){if(p.isPendingUuid){var e=f();m(e?{type:r.loadPatient,patientUuid:e}:{type:r.newPatient,patient:null})}var t=!0;return p.isLoadingPatient&&p.patientUuid&&(0,a.Vy)(p.patientUuid).then((function(e){return t&&m({patient:e,type:r.newPatient})}),(function(e){return t&&m({err:e,type:r.loadError})})),function(){t=!1}}),[p.isPendingUuid,p.isLoadingPatient,p.patientUuid]),(0,o.useEffect)((function(){var e=function(e){var t=f();t!=p.patientUuid&&m({type:r.loadPatient,patientUuid:t})};return window.addEventListener("single-spa:routing-event",e),function(){return window.removeEventListener("single-spa:routing-event",e)}}),[p.patientUuid]),{isLoading:p.isPendingUuid||p.isLoadingPatient,patient:p.patient,patientUuid:null!=e?e:p.patientUuid,error:p.err}}},80814:(e,t,n)=>{n.d(t,{e:()=>i});var r=n(75776),o=n(24126),a=n(73233);function i(){var e="".concat(a.YC,"/metadatamapping/termmapping?v=custom:(metadataUuid)&code=emr.primaryIdentifierType"),t=(0,o.ZP)(e,a.vb),n=t.data,i=t.error,u=t.isLoading;return(0,r.useMemo)((function(){var e,t;return{primaryIdentifierCode:null===(e=null==n||null===(t=n.data)||void 0===t?void 0:t.results[0])||void 0===e?void 0:e.metadataUuid,isLoading:u,error:i}}),[n,i,u])}},55865:(e,t,n)=>{n.d(t,{P:()=>i});var r=n(75776),o=n.n(r),a=n(59753);function i(e){var t=(0,a.p8)(e),n=t.extensions,r=t.extensionSlotModuleName;return e?n.map((function(t){return function(n){var i=n.state;return o().createElement(a.sM.Provider,{value:{moduleName:r,featureName:"",extension:{extensionId:t.id,extensionSlotName:e,extensionSlotModuleName:r}}},o().createElement(a.hj,{state:i}))}})):[]}},16763:(e,t,n)=>{n.d(t,{H:()=>c});var r=n(73233),o=n(5883),a=n.n(o),i=n(75776);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t,n,o,c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.vb,s=(0,i.useCallback)((function(e){var t,n;return null==e||null===(t=e.data)||void 0===t||null===(n=t.links)||void 0===n?void 0:n.find((function(e){return"next"==e.rel}))}),[]),f=(0,i.useCallback)((function(t,n){return 0==t?e:null!==(o=null===(r=s(n))||void 0===r?void 0:r.uri)&&void 0!==o?o:null;var r,o}),[]),d=a()(f,l),p=d.data,m=d.size,y=d.setSize,v=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(d,["data","size","setSize"]),b=null!=(null===(t=null==p?void 0:p[p.length-1].data)||void 0===t||null===(n=t.links)||void 0===n?void 0:n.find((function(e){return"next"==e.rel}))),h=null==p||null===(o=p[0])||void 0===o||null===(c=o.data)||void 0===c?void 0:c.totalCount;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({data:null==p?void 0:p.flatMap((function(e){return e.data.results})),totalCount:h,hasMore:b,loadMore:function(){y(m+1)}},v)}},95496:(e,t,n)=>{n.d(t,{Q:()=>c});var r=n(73233),o=n(75776),a=n(24126);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n,c,l,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.vb,f=(c=(0,o.useState)(1),l=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(c,l)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(c,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=f[0],p=f[1],m=(0,o.useRef)(Number.NaN),y=(0,o.useRef)(Number.NaN),v=t,b=(d-1)*t,h=new URL(e,window.location.toString());h.searchParams.set("limit",""+v),h.searchParams.set("startIndex",""+b),h.searchParams.set("totalCount","true");var g,w,O=(0,a.ZP)(h.toString(),s),S=O.data,E=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(O,["data"]);(null==S?void 0:S.data)&&(m.current=null===(g=S.data)||void 0===g?void 0:g.totalCount,y.current=null===(w=S.data)||void 0===w?void 0:w.results.length);var j=Math.ceil(m.current/t),P=(0,o.useCallback)((function(e){0<e&&e<=j?p(e):console.warn("Invalid attempt to go to out of bounds page: "+e)}),[e,d,j]),k=(0,o.useCallback)((function(){P(d+1)}),[e,d,j]),A=(0,o.useCallback)((function(){P(d-1)}),[e,d,j]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({data:null==S||null===(n=S.data)||void 0===n?void 0:n.results,totalPages:j,totalCount:m.current,currentPage:d,currentPageSize:y,paginated:j>1,showNextButton:d<j,showPreviousButton:d>1,goTo:P,goToNext:k,goToPrevious:A},E)}},19817:(e,t,n)=>{n.d(t,{k:()=>u});var r,o=n(73233),a=n(75776);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(){var e,t,n=(0,a.useRef)(),u=(e=(0,a.useState)(null),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],l=u[1],s=null;if(!c){if(r){var f=(0,o.KJ)().getState();f.loaded&&(s=f.session)}else r=new Promise((function(e){var t=function(t){var r=t.loaded,o=t.session;r&&(e(o),s=o,n.current&&n.current(),n.current=void 0)};t((0,o.KJ)().getState()),s||(n.current=(0,o.KJ)().subscribe(t))}));if(!s)throw r;l(s)}(0,a.useEffect)((function(){return n.current||(n.current=(0,o.KJ)().subscribe((function(e){var t=e.loaded,n=e.session;t&&(s=n,l(n))}))),function(){n.current&&n.current(),n.current=void 0}}),[]);var d=c||s;if(!d)throw r?(console.warn("useSession is in an unexpected state. Attempting to recover."),r):Error("useSession is in an invalid state.");return d}},45e3:(e,t,n)=>{n.d(t,{NV:()=>y,oR:()=>p,xQ:()=>m});var r=n(90946),o=n(75776);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function f(e,t){var n=function(n){r[n]=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];e.setState((function(e){var r,a=[e].concat(l(o));return(r=t)[n].apply(r,l(a))}))}};"function"==typeof t&&(t=t(e));var r={};for(var o in t)n(o);return r}var d=function(e){return e};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=arguments.length>2?arguments[2]:void 0,a=c((0,o.useState)((function(){return t(e.getState())})),2),i=a[0],l=a[1];return(0,o.useEffect)((function(){return(0,r.se)(e,t,l)}),[e,t]),u({},i,(0,o.useMemo)((function(){return n?f(e,n):{}}),[e,n]))}function m(e,t){return p(e,d,t)}function y(e){return function(t){var n=c((0,o.useState)(e.getState()),2),r=n[0],a=n[1];return(0,o.useEffect)((function(){return e.subscribe((function(e){return a(e)}))}),[]),u({},r,(0,o.useMemo)((function(){return t?f(e,t):{}}),[t]))}}},38338:(e,t,n)=>{n.d(t,{J:()=>f});var r=n(73233),o=n(24126),a=n(30491),i=n.n(a),u=n(21701),c=n.n(u),l=n(75776),s=n(45e3);function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.I$,a=(0,s.oR)((0,r.FV)()),i=a.patientUuid,u=a.manuallySetVisitUuid,c=e&&i==e?u:null,f="?patient=".concat(e,"&v=").concat(n,"&includeInactive=false"),d="/".concat(c,"?v=").concat(n),p=(0,o.ZP)(e?"".concat(r.YC,"/visit").concat(f):null,r.vb),m=p.data,y=p.error,v=p.mutate,b=p.isValidating,h=(0,o.ZP)(e&&c?"".concat(r.YC,"/visit").concat(d):null,r.vb),g=h.data,w=h.error,O=h.mutate,S=h.isValidating,E=(0,l.useMemo)((function(){return null!==(t=null==m?void 0:m.data.results.find((function(e){return null===e.stopDatetime})))&&void 0!==t?t:null}),[m]),j=(0,l.useMemo)((function(){return c?null==g?void 0:g.data:null!=E?E:null}),[g,E,c]);return{error:y||w,mutate:function(){v(),O()},isValidating:b||S,activeVisit:E,currentVisit:j,currentVisitIsRetrospective:Boolean(c),isLoading:Boolean((!m||c&&!g)&&(!y||!w))}}i().extend(c())},11765:(e,t,n)=>{n.d(t,{N:()=>i});var r=n(73233),o=n(75776);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(){var e,t,n=(e=(0,o.useState)([]),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=n[0],u=n[1];return(0,o.useEffect)((function(){var e=(0,r.P9)().subscribe((function(e){u(e)}),(function(e){return console.error(e)}));return function(){return e.unsubscribe()}}),[]),i}},90946:(e,t,n)=>{n.d(t,{jk:()=>r.jk,l3:()=>r.l3,se:()=>r.se,zJ:()=>r.zJ});var r=n(37834)},37834:(e,t,n)=>{n.d(t,{jk:()=>a,l3:()=>i,se:()=>c,zJ:()=>u});var r=n(73075),o={};function a(e,t){var n=o[e];if(n)return n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value.setState(t,!0),n.active=!0,n.value;var a=(0,r.M)()((function(){return t}));return o[e]={value:a,active:!0},a}function i(e,t){var n=o[e];return n?(n.active?console.error("Cannot override an existing store. Make sure that stores are only created once."):n.value=t,n.active=!0,n.value):(o[e]={value:t,active:!0},t)}function u(e,t){var n=o[e];if(!n){var a=(0,r.M)()((function(){return null!=t?t:{}}));return o[e]={value:a,active:!1},a}return n.value}function c(e,t,n){var r=t(e.getState());return e.subscribe((function(e){var o=t(e);o!==r&&(r=o,n(o))}))}setTimeout((function(){"development"===window.spaEnv&&(window.stores=o)}),1e3)},38282:(e,t,n)=>{n.d(t,{M:()=>f});var r=n(75776),o=n.n(r),a=n(58976),i=n.n(a),u=n(59753);const c={container:"jEFNRb7h22xgE3BtsMFQVg==",menu:"I0XSZmmCdlALmRxC6ue-XQ==",show:"cTWutuyJmdxEzDWgJhTFPw==",overflowMenuButton:"_3daAgqqOoHMtvjwYHU-Dkw==",deceased:"FcttPqv1p7GFZzBrHG4e+Q=="};function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t,n,a=e.menuTitle,f=e.children,d=e.deceased,p=(t=o().useState(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],y=p[1],v=(0,u.t$)((function(){return y(!1)}),m),b="tablet"===(0,u.mr)(),h=(0,r.useCallback)((function(){return y((function(e){return!e}))}),[]);return o().createElement("div",{"data-overflow-menu":!0,className:i()("cds--overflow-menu",c.container),ref:v},o().createElement("button",{className:i()("cds--btn","cds--btn--ghost","cds--overflow-menu__trigger",{"cds--overflow-menu--open":m},s({},c.deceased,d),c.overflowMenuButton),"aria-haspopup":"true","aria-expanded":m,id:"custom-actions-overflow-menu-trigger","aria-controls":"custom-actions-overflow-menu",onClick:h},a),o().createElement("div",{className:i()("cds--overflow-menu-options","cds--overflow-menu--flip",c.menu,s({},c.show,m)),tabIndex:0,"data-floating-menu-direction":"bottom",role:"menu","aria-labelledby":"custom-actions-overflow-menu-trigger",id:"custom-actions-overflow-menu"},o().createElement("ul",{className:i()("cds--overflow-menu-options__content",{"cds--overflow-menu-options--lg":b})},f),o().createElement("span",null)))}},53275:(e,t,n)=>{n.d(t,{M:()=>r.M});var r=n(38282)},33823:(e,t,n)=>{n.d(t,{j:()=>ee});var r=n(75776),o=n.n(r),a=n(58976),i=n.n(a),u=n(31684),c=n(2981),l=n(39454),s=n(86185),f=n(61147),d=n(91059),p=n(10344),m=n(86532),y=n(11698),v=n(4557),b=n(35649),h=n(10608),g=n(19193),w=n(2020),O=n(68308),S=n(38530),E=n(89876),j=n(13975),P=n(91556),k=n(45779),A=n(99151),x=n(35174),I=n(44416),C=n(18930),N=n(69748),T=n(30491),D=n.n(T),R=n(8790),M=n(38849);const L="NfHmaFDcibNroi7IapO0dQ==",B="-A87fcaJmX9x+vivZEOfCQ==";function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){W(e,t,n[t])}))}return e}function F(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Z(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var J={short:!1,size:"md"};function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return n?e:void 0;if("string"==typeof e&&!e)return n?null:void 0;if(_(e,u.aw)||_(e,u.oz)||_(e,u.AQ))return t?(0,c.Mw)(e,t):e;var r=D()(e).toDate(),o=new u.aw(r.getFullYear(),r.getMonth()+1,r.getDate());return t?(0,c.Mw)(o,t):o}function Q(e,t){return parseInt((0,R.p6)(e,{calendar:t.calendar,locale:t.baseName,day:!1,month:!1,noToday:!0,numberingSystem:"latn"}))}var K=(0,r.forwardRef)((function(e,t){var n=e.className,a=(0,r.useContext)(w.YQ),i=(0,r.useContext)(w.No),u=null!=a?a:i,c=X(),s=(0,l.iT)(),f=(0,R.p6)(u.visibleRange.start.toDate(s),{calendar:c.calendar,locale:c.baseName,day:!1,year:!1,noToday:!0}),d=Q(u.visibleRange.start.toDate(s),c),p=u.maxValue?Q(u.maxValue.toDate(s),c):void 0,m=u.minValue?Q(u.minValue.toDate(s),c):void 0,y=(0,r.useCallback)((function(e){u.setFocusedDate(u.focusedDate.cycle("year",e-u.focusedDate.year))}),[]);return u&&o().createElement("span",{ref:t,className:n},o().createElement("span",null,f),o().createElement(O.Ki,{formatOptions:{useGrouping:!1},maxValue:p,minValue:m,onChange:y,value:d},o().createElement(S.I,null),o().createElement(E.Z,null,o().createElement(j.z,{slot:"increment"},o().createElement(M.y8,{size:8})),o().createElement(j.z,{slot:"decrement"},o().createElement(M.VA,{size:8})))))})),V=(0,r.forwardRef)((function(e,t){return(0,r.useContext)(P.pP).isInvalid?o().createElement(M.aN,{ref:t,size:16}):o().createElement(M.Qu,{ref:t,size:16})})),$=(0,r.forwardRef)((function(e,t){var n,a,i=(n=(0,k.pE)({slot:e.slot},t,A.bd),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(n,a)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],c=i[1],l=(0,d.j)().locale,f=(0,g.R)(F(z({},u),{locale:l,createCalendar:s.Y})),m=(0,r.useContext)(P.pP),y=(0,r.useRef)(null),v=(0,p.IZ)(F(z({},u),{inputRef:y}),f,c),b=v.fieldProps,h=v.inputProps;return o().createElement(k.zt,{values:[[A.pp,f],[S.r,F(z({},h),{ref:y})],[E.E,F(z({},b),{ref:c,isInvalid:f.isInvalid})]]},o().createElement(E.Z,F(z({},e),{ref:t,slot:e.slot||void 0,className:e.className,isInvalid:f.isInvalid,onClick:function(){return m.setOpen(!m.isOpen)}}),f.segments.map((function(t,n){return(0,r.cloneElement)(e.children(t),{key:n})}))),o().createElement(S.I,null))})),Y=(0,r.forwardRef)((function(e,t){var n,a,i,u,c,l,s,d,p,g,w=e.segment,O=Z(e,["segment"]),S=(0,r.useContext)(A.pp),E=(0,m.B)(t),j=(0,y.O)(w,S,E).segmentProps,P=(0,v.F)(),k=P.focusProps,x=P.isFocused,I=P.isFocusVisible,C=(0,b.X)(F(z({},O),{isDisabled:S.isDisabled||"literal"===w.type})),N=C.hoverProps,T=C.isHovered,D=(n=F(z({},O),{values:F(z({},w),{isReadOnly:!w.isEditable,isInvalid:S.isInvalid,isDisabled:S.isDisabled,isHovered:T,isFocused:x,isFocusVisible:I}),defaultChildren:w.text}),a=n.className,i=n.style,u=n.children,c=n.defaultClassName,l=void 0===c?void 0:c,s=n.defaultChildren,d=void 0===s?void 0:s,p=n.defaultStyle,g=n.values,(0,r.useMemo)((function(){var e,t,n;return e="function"==typeof a?a(F(z({},g),{defaultClassName:l})):a,t="function"==typeof i?i(F(z({},g),{defaultStyle:p||{}})):i,n="function"==typeof u?u(F(z({},g),{defaultChildren:d})):null==u?d:u,{className:null!=e?e:l,style:t||p?z({},p,t):void 0,children:null!=n?n:d,"data-rac":""}}),[a,i,u,l,d,p,g]));return o().createElement("div",F(z({},(0,h.d)((0,f.z)(O),j,k,N),D),{ref:E,"data-placeholder":w.isPlaceholder||void 0,"data-invalid":S.isInvalid||void 0,"data-readonly":!w.isEditable||void 0,"data-disabled":S.isDisabled||void 0,"data-type":w.type,"data-hovered":T||void 0,"data-focused":x||void 0,"data-focus-visible":I||void 0,onClick:function(e){return e.stopPropagation()}}))}));function q(e){var t=e.labelText;return null==t||"boolean"==typeof t?null:o().createElement(x._,{className:"cds--label"},t)}var G=(0,r.createContext)(null),X=function(){return(0,r.useContext)(G)},ee=(0,r.forwardRef)((function(e,t){var n,a=Object.assign({},J,e),u=a.className,f=a.defaultValue,p=a.invalid,m=a.invalidText,y=a.isInvalid,v=a.label,b=a.labelText,h=a.light,g=a.maxDate,O=a.minDate,S=a.onChange,A=a.onChangeRaw,x=a.short,T=a.size,D=a.value,U=Z(a,["className","defaultValue","invalid","invalidText","isInvalid","label","labelText","light","maxDate","minDate","onChange","onChangeRaw","short","size","value"]),_=(0,r.useMemo)((function(){var e=(0,R.Kd)(),t=new Intl.Locale(e);return"en"!==t.language||t.region||(e="en-GB"),e}),[]),Q=(0,r.useMemo)((function(){var e=(0,R.H6)(_);return void 0!==e?(0,s.Y)(e):void 0}),[_]),X=(0,r.useMemo)((function(){return new Intl.Locale(_,{calendar:null==Q?void 0:Q.identifier})}),[_,Q]),ee=(0,r.useMemo)((function(){return H(f,Q)}),[f]),te=(0,r.useMemo)((function(){return H(D,Q,!0)}),[D]),ne=(0,r.useMemo)((function(){return H(g,Q)}),[g]),re=(0,r.useMemo)((function(){return H(O,Q)}),[O]),oe=(0,r.useMemo)((function(){return null!=p?p:y}),[p,y]),ae=Q?(0,c.Mw)((0,l.Lg)((0,l.iT)()),Q):(0,l.Lg)((0,l.iT)()),ie=(0,r.useMemo)((function(){return A&&S&&console.error("An OpenmrsDatePicker component was created with both onChange and onChangeRaw handlers defined. Only onChangeRaw will be used."),A||function(e){return null==S?void 0:S(function(e){if(e)return e.toDate((0,l.iT)())}(e))}}),[A,S]);return o().createElement(d.b,{locale:X.toString()},o().createElement("div",{className:i()("cds--form-item",u)},o().createElement(k.zt,{values:[[G,X]]},o().createElement(P.Mt,F(z({className:i()("cds--date-picker","cds--date-picker--single",(n={},W(n,"cds--date-picker--short",x),W(n,"cds--date-picker--light",h),n)),defaultValue:ee,isInvalid:oe,maxValue:ne,minValue:re,value:te,shouldForceLeadingZeros:"en"===X.language||void 0},U),{onChange:ie}),o().createElement("div",{className:"cds--date-picker-container"},o().createElement(q,{labelText:null!=b?b:v}),o().createElement(E.Z,{className:"mtqD7Pr0PluIZfTiDKhzIQ=="},o().createElement($,{ref:t,className:i()("cds--date-picker-input__wrapper","uST7Kj0Af9ErtZN-ca6cOw==",W({},"hVhD7mueTGmoDfhmc4NLvw==","md"===T||!T||0===T.length))},(function(e){return"era"!==e.type?o().createElement(Y,{className:"hVIYS4Tu0NWnNT6X10Euig==",segment:e}):o().createElement(o().Fragment,null)})),o().createElement(j.z,{className:i()(L,B)},o().createElement(V,null))),oe&&m&&o().createElement(I.c,{className:"S5arFmnrfJOXuon6dDwWdQ=="},m)),o().createElement(C.J,{className:"Xr0+2auGkuV80BuKXUjXYg==",placement:"bottom",offset:1},o().createElement(N.Vq,{className:"YVJ-AJH6ota8xsTaXJcCkA=="},o().createElement(w.f,{className:i()("cds--date-picker__calendar")},o().createElement("header",{className:"K-8cZeME55aBeRuizRiSKw=="},o().createElement(j.z,{className:i()(L,B),slot:"previous"},o().createElement(M.wy,{size:16})),o().createElement(K,{className:"Y7h5oGP7aAWH8Ep5JR0zOg=="}),o().createElement(j.z,{className:i()(L,B),slot:"next"},o().createElement(M.XC,{size:16}))),o().createElement(w.TK,{className:"wq7vyydWTxi7UlRF3L2aCw=="},(function(e){return o().createElement(w.VX,{className:i()("cds--date-picker__day",W({},"CuOwGpA7eniWeSXbdBVkHw==",0===ae.compare(e))),date:e})})))))))))}))},30238:(e,t,n)=>{n.d(t,{T:()=>c});var r=n(75776),o=n.n(r),a=n(4006),i=n(45371),u=n(59753);var c=function(e){var t,n,r=e.error,c=e.headerTitle,l="tablet"===(0,u.mr)();return o().createElement(a.Layer,null,o().createElement(a.Tile,{className:"_4ijCRxPywQvd7T3dCBgGxQ=="},o().createElement("div",{className:l?"Z-b8JtaOGW3yfasmfk2weA==":"ILUYHTN9tYafNMhTjug8LA=="},o().createElement("h4",null,c)),o().createElement("p",{className:"+j5OxQdU5IA6yMqL1Ciu4A=="},(0,i.R)("error","Error")," ","".concat(null==r||null===(t=r.response)||void 0===t?void 0:t.status,": "),null==r||null===(n=r.response)||void 0===n?void 0:n.statusText),o().createElement("p",{className:"C6rAgaA2xoWwghbyjuUy4w=="},(0,i.R)("errorCopy"))))}},46320:(e,t,n)=>{n.d(t,{AH:()=>u,dt:()=>c,aD:()=>Oe,ve:()=>l,Y4:()=>s,LZ:()=>f,Hf:()=>d,Uj:()=>Se,op:()=>p,Qu:()=>m,VA:()=>y,BN:()=>v,QU:()=>b,y8:()=>h,OJ:()=>g,m7:()=>w,v4:()=>O,wy:()=>S,XC:()=>E,g8:()=>j,f0:()=>P,Tw:()=>A,yN:()=>k,h2:()=>Ee,ir:()=>x,$l:()=>I,_8:()=>C,dY:()=>N,UH:()=>T,gN:()=>D,BP:()=>M,BF:()=>R,h1:()=>L,JO:()=>ke,gm:()=>B,ZN:()=>U,MD:()=>W,_t:()=>_,bJ:()=>z,EA:()=>F,np:()=>Z,FF:()=>J,Ws:()=>H,iK:()=>Q,z8:()=>K,uJ:()=>V,CW:()=>ve,pO:()=>$,Mw:()=>Y,NJ:()=>q,fR:()=>je,e4:()=>G,X5:()=>X,N:()=>te,W1:()=>ne,L5:()=>Pe,yb:()=>ae,Q1:()=>oe,b3:()=>ie,xR:()=>re,$e:()=>ce,ko:()=>ue,wZ:()=>le,oE:()=>se,T9:()=>ee,Ms:()=>fe,zy:()=>de,gB:()=>pe,Mr:()=>me,tB:()=>be,R$:()=>ye,ON:()=>ge,tp:()=>he,aN:()=>we});var r=n(75776),o=n.n(r),a=n(58976),i=n.n(a);var u=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-activity",iconProps:e})}))),c=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-add",iconProps:e})}))),l=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-arrow-down",iconProps:e})}))),s=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-arrow-left",iconProps:e})}))),f=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-arrow-right",iconProps:e})}))),d=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-arrow-up",iconProps:e})}))),p=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-calendar-heat-map",iconProps:e})}))),m=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-calendar",iconProps:e})}))),y=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-caret-down",iconProps:e})}))),v=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-caret-left",iconProps:e})}))),b=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-caret-right",iconProps:e})}))),h=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-caret-up",iconProps:e})}))),g=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-chart-average",iconProps:e})}))),w=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-chemistry",iconProps:e})}))),O=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-chevron-down",iconProps:e})}))),S=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-chevron-left",iconProps:e})}))),E=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-chevron-right",iconProps:e})}))),j=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-chevron-up",iconProps:e})}))),P=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-close-filled",iconProps:e})}))),k=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-close-outline",iconProps:e})}))),A=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-close",iconProps:e})}))),x=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-document-attachment",iconProps:e})}))),I=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-document",iconProps:e})}))),C=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-download",iconProps:e})}))),N=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-edit",iconProps:e})}))),T=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-event-schedule",iconProps:e})}))),D=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-events",iconProps:e})}))),R=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-group",iconProps:e})}))),M=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-group-access",iconProps:e})}))),L=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-hospital-bed",iconProps:e})}))),B=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-image-medical",iconProps:e})}))),U=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-inventory-management",iconProps:e})}))),W=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-list-checked",iconProps:e})}))),_=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-location",iconProps:e})}))),z=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-maximize",iconProps:e})}))),F=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-medication",iconProps:e})}))),Z=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-message-queue",iconProps:e})}))),J=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-microscope",iconProps:e})}))),H=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-money",iconProps:e})}))),Q=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-movement",iconProps:e})}))),K=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-overflow-menu--horizontal",iconProps:e})}))),V=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-overflow-menu--horizontal",iconProps:e})}))),$=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-pedestrian-family",iconProps:e})}))),Y=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-pen",iconProps:e})}))),q=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-pen",iconProps:e})}))),G=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-renew",iconProps:e})}))),X=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-reset",iconProps:e})}))),ee=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-translate",iconProps:e})}))),te=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-save",iconProps:e})}))),ne=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-search",iconProps:e})}))),re=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-switcher",iconProps:e})}))),oe=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-shopping-cart",iconProps:e})}))),ae=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-shopping-cart--arrow-down",iconProps:e})}))),ie=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-sticky-note-add",iconProps:e})}))),ue=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-table-of-contents",iconProps:e})}))),ce=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-table",iconProps:e})}))),le=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-time",iconProps:e})}))),se=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-tools",iconProps:e})}))),fe=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-trash-can",iconProps:e})}))),de=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-tree-view--alt",iconProps:e})}))),pe=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-user-avatar",iconProps:e})}))),me=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-user-follow",iconProps:e})}))),ye=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-user-xray",iconProps:e})}))),ve=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-password",iconProps:e})}))),be=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-user",iconProps:e})}))),he=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-view-off",iconProps:e})}))),ge=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-view",iconProps:e})}))),we=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(ke,{ref:t,icon:"omrs-icon-warning",iconProps:e})}))),Oe=we,Se=x,Ee=W,je=B,Pe=ae,ke=(0,r.memo)((0,r.forwardRef)((function(e,t){var n=e.icon,a=e.iconProps,u=Object.assign({},{fill:"currentColor",size:20},a),c=u.className,l=u.fill,s=u.size;(s<=0||s>72)&&(console.error("Invalid size '".concat(s,"' specified for ").concat(n,". Defaulting to 20.")),s=20);var f=(0,r.useRef)(null);return(0,r.useImperativeHandle)(t,(function(){return f.current})),(0,r.useEffect)((function(){f.current&&"currentColor"!==l&&f.current.style.setProperty("--omrs-icon-fill",l)}),[]),o().createElement("svg",{ref:f,className:i()("omrs-icon","ZlHHW3YiXDxB4JwYPOrqpA==",c),height:s,width:s,viewBox:"0 0 16 16"},o().createElement("use",{href:"#".concat(n)}))})))},38849:(e,t,n)=>{n.d(t,{$e:()=>r.$e,$l:()=>r.$l,AH:()=>r.AH,BF:()=>r.BF,BN:()=>r.BN,BP:()=>r.BP,CW:()=>r.CW,EA:()=>r.EA,FF:()=>r.FF,Hf:()=>r.Hf,JO:()=>r.JO,L5:()=>r.L5,LZ:()=>r.LZ,MD:()=>r.MD,Mr:()=>r.Mr,Ms:()=>r.Ms,Mw:()=>r.Mw,N:()=>r.N,NJ:()=>r.NJ,OJ:()=>r.OJ,ON:()=>r.ON,Q1:()=>r.Q1,QU:()=>r.QU,Qu:()=>r.Qu,R$:()=>r.R$,T9:()=>r.T9,Tw:()=>r.Tw,UH:()=>r.UH,Uj:()=>r.Uj,VA:()=>r.VA,W1:()=>r.W1,Ws:()=>r.Ws,X5:()=>r.X5,XC:()=>r.XC,Y4:()=>r.Y4,ZN:()=>r.ZN,_8:()=>r._8,_t:()=>r._t,aD:()=>r.aD,aN:()=>r.aN,b3:()=>r.b3,bJ:()=>r.bJ,dY:()=>r.dY,dt:()=>r.dt,e4:()=>r.e4,f0:()=>r.f0,fR:()=>r.fR,g8:()=>r.g8,gB:()=>r.gB,gN:()=>r.gN,gm:()=>r.gm,h1:()=>r.h1,h2:()=>r.h2,iK:()=>r.iK,ir:()=>r.ir,ko:()=>r.ko,m7:()=>r.m7,np:()=>r.np,oE:()=>r.oE,op:()=>r.op,pO:()=>r.pO,tB:()=>r.tB,tp:()=>r.tp,uJ:()=>r.uJ,v4:()=>r.v4,ve:()=>r.ve,wZ:()=>r.wZ,wy:()=>r.wy,xR:()=>r.xR,y8:()=>r.y8,yN:()=>r.yN,yb:()=>r.yb,z8:()=>r.z8,zy:()=>r.zy});var r=n(46320)},83885:(e,t,n)=>{n.d(t,{cW:()=>d,VM:()=>s,$d:()=>f});var r=n(75776),o=n.n(r),a=n(59753),i=n(90946),u=n(4006);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(0,i.jk)("left-nav",{slotName:null,basePath:window.spaBase});function s(e){var t=e.name,n=e.basePath;l.setState({slotName:t,basePath:n})}function f(e){l.getState().slotName==e&&l.setState({slotName:null})}var d=o().forwardRef((function(e,t){var n,r=(0,a.oR)(l),i=r.slotName,s=r.basePath,f=null!==(n=window.location)&&void 0!==n?n:{pathname:""};return o().createElement(u.SideNav,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({ref:t,expanded:!0,"aria-label":"Left navigation",className:"hwSZ3FCKSZr0UHIv-TeHHw=="},e),o().createElement(a.dT,{name:"global-nav-menu-slot"}),i?o().createElement(a.dT,{name:i,state:{basePath:s,currentPath:f}}):null)}))},85227:(e,t,n)=>{n.d(t,{K:()=>S,t:()=>O});var r=n(12158),o=n(90946),a=n(63899),i=n(79751);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function f(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function d(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}var p=(0,o.jk)("modalState",{modalContainer:null,modalStack:[]});var m=0;function y(){var e;return e=function(e,t){var n,o,u,c,l,d,p,y=arguments;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(v){switch(v.label){case 0:if(n=y.length>2&&void 0!==y[2]?y[2]:{},o=(0,a.h8)(t),u=null,!e)return[3,2];if(!o)throw Error("No modal named '".concat(t,"' has been registered."));return[4,(0,o.load)()];case 1:return c=v.sent(),l=c.default,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(c,["default"]),p=m++,u=(0,r.mountRootParcel)(f(s({},null!=l?l:d),{name:"".concat(t,"-").concat(p)}),f(s({},n),{domElement:e})),[3,3];case 2:(0,i.e)("Failed to launch modal. Please notify your administrator. Modal name: ".concat(t)),v.label=3;case 3:return[2,u]}}))},y=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,u,"next",e)}function u(e){c(a,r,o,i,u,"throw",e)}i(void 0)}))},y.apply(this,arguments)}var v=window.getComputedStyle(document.body).overflow;function b(e){var t=e.modalStack,n=e.modalContainer;n&&(t.length?(n.style.visibility||(addEventListener("keydown",w),document.body.style.overflow="hidden",n.style.visibility="unset"),t.forEach((function(e,r){switch(e.state){case"NEW":var o=function(){var e,t,n=(e='\n  <button\n    class="cds--modal-close"\n    type="button">\n    <svg id="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1{fill:#000000;}.cls-2{fill:none;}</style></defs><title>close</title><polygon class="cls-1" points="24 9.4 22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4"/><rect class="cls-2" width="32" height="32"/></svg>\n  </button>'.trim(),(t=document.createElement("template")).innerHTML=e,t.content.firstChild);n.addEventListener("click",g);var r=document.createElement("div");return r.className="cds--modal-container",r.append(n),r}();e.container=o,function(e,t){return y.apply(this,arguments)}(o,e.modalName,e.props).then((function(t){e.parcel=t,e.state="MOUNTED",n.prepend(o),o.style.visibility="unset"}));break;case"MOUNTED":e.container&&(e.container.style.visibility=r?"hidden":"unset");break;case"TO_BE_DELETED":var a,i,u;e.onClose(),null===(a=e.parcel)||void 0===a||null===(i=a.unmount)||void 0===i||i.call(a),null===(u=e.container)||void 0===u||u.remove(),setTimeout((function(){p.setState({modalContainer:n,modalStack:t.filter((function(t){return t!==e}))})}),0)}}))):(n.style.removeProperty("visibility"),document.body.style.overflow=v,removeEventListener("keydown",w)))}function h(e){var t=p.getState(),n=t.modalStack.map((function(t){return t===e?f(s({},t),{state:"TO_BE_DELETED"}):t}));p.setState(f(s({},t),{modalStack:n}))}function g(){var e,t,n=(e=p.getState().modalStack,t=1,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];n&&h(n)}function w(e){"Escape"===e.key&&g()}function O(e){p.subscribe(b),p.setState(f(s({},p.getState()),{modalContainer:e}))}function S(e){var t,n,r,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},m=function(){var e=p.getState().modalStack.find((function(e){return e.onClose===l}));e&&h(e)};return(0,a.h8)(e)?(t={state:"NEW",onClose:l,modalName:e,props:s({close:m},c)},n=p.getState(),r=[t].concat(function(e){if(Array.isArray(e))return u(e)}(o=n.modalStack)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||d(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p.setState(f(s({},n),{modalStack:r}))):(0,i.e)('Failed to launch modal. Please notify your administrator. Modal name: "'.concat(e,'"')),m}},89752:(e,t,n)=>{n.d(t,{zW:()=>I,Pi:()=>A,fu:()=>C,c0:()=>x});var r=n(75776),o=n.n(r),a=n(14666),i=n(4006),u=function(e){var t=e.notification,n=t.description,r=t.action,a=t.kind,u=t.critical,c=t.title;return o().createElement(i.InlineNotification,{actions:r,kind:a||"info",lowContrast:u,subtitle:n,title:c||""})};function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}const s=function(e){var t,n,a=e.subject,i=(t=(0,r.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||l(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],f=i[1];return(0,r.useEffect)((function(){var e=a.subscribe((function(e){return f((function(t){return function(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.filter((function(t){return t.description!==e.description||t.action!==e.action||t.kind!==e.kind||t.title!==e.title}))).concat([e])}))}));return function(){return e.unsubscribe()}}),[a]),o().createElement(o().Fragment,null,s.map((function(e){return o().createElement(u,{key:e.id,notification:e})})))};function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n,a=e.notification,u=a.actionButtonLabel,c=a.onActionButtonClick,l=void 0===c?function(){}:c,s=a.subtitle,p=a.kind,m=a.title,y=a.critical,v=a.progressActionLabel,b=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(a,["actionButtonLabel","onActionButtonClick","subtitle","kind","title","critical","progressActionLabel"]),h=(t=(0,r.useState)(u),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=h[0],w=h[1];return o().createElement(i.ActionableNotification,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}({kind:p||"info",actionButtonLabel:g,ariaLabel:"Closes actionable notification",onActionButtonClick:function(){l(),v&&w(v)},statusIconDescription:"Actionable notification",subtitle:s,title:m,lowContrast:y,inline:!0},b))};function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}const v=function(e){var t,n,a=e.subject,i=(t=(0,r.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||y(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],c=i[1];return(0,r.useEffect)((function(){var e=a.subscribe((function(e){return c((function(t){return function(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.filter((function(t){return t.subtitle!==e.subtitle||t.actionButtonLabel!==e.actionButtonLabel||t.onActionButtonClick!==e.onActionButtonClick||t.kind!==e.kind||t.title!==e.title}))).concat([e])}))}));return function(){return e.unsubscribe()}}),[a]),o().createElement(o().Fragment,null,u.map((function(e){return o().createElement(p,{key:e.id,notification:e})})))};var b=n(14504),h=n(74279);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var E=new a.Subject,j=0,P=new a.Subject,k=0;function A(e){e&&(0,h.createRoot)(e).render(o().createElement(s,{subject:E}))}function x(e){var t;e&&("string"==typeof(t=e.description)?t.trim().length>0:"object"==typeof t&&(w(t,Error)||!(0,b.Z)(t)))?(w(e.description,Error)&&(e.description=e.description.toLocaleString()),setTimeout((function(){E.next(S(O({},e),{id:j++}))}),0)):console.error("showNotification must be called with an object having a 'description' property that is a non-empty string or object")}function I(e){e&&(0,h.createRoot)(e).render(o().createElement(v,{subject:P}))}function C(e){var t;e&&("string"==typeof(t=e.actionButtonLabel)?t.trim().length>0:"object"==typeof t&&!(0,b.Z)(t))?setTimeout((function(){P.next(S(O({},e),{id:k++}))}),0):console.error("showActionableNotification must be called with an actionButtonLabel that is a non-empty string")}},70193:(e,t,n)=>{n.d(t,{m:()=>l,g:()=>s});var r=n(75776),o=n.n(r),a=n(59753);const i="UgD8TJT9bljjJgWqm4aAQg==";var u=n(58976),c=n.n(u),l=function(e){if(function(e){return"children"in e}(e)){var t=e.children,n=e.className;return o().createElement("div",{className:c()(i,n)},t)}var r=e.title,a=e.illustration,u=e.className;return o().createElement("div",{className:c()(i,u)},o().createElement(s,{title:r,illustration:a}))},s=function(e){var t=e.title,n=e.illustration,r=e.className,i=(0,a.ZR)({externalModuleName:"@openmrs/esm-styleguide"}).implementationName;return o().createElement("div",{className:c()("b4fgFWN6jJ3jvqvgl7E5hA==",r)},n,o().createElement("div",{className:"SpCH950g4QxXz019bezKSA=="},o().createElement("p",null,i),o().createElement("p",{className:"eMASq3DjWJo-OD-HE5jNWQ=="},t)))}},54012:(e,t,n)=>{n.d(t,{S1:()=>g,zF:()=>R,XZ:()=>p,WZ:()=>O});var r=n(75776),o=n.n(r),a=n(58976),i=n.n(a),u=n(4006),c=n(93851),l=n(8790),s=n(45371),f=n(59753);const d={container:"+lDOu-3kySU+hZPxGB6ZOw==",activePatientContainer:"AiOqFqTWVx4+qFOzUs1vQg==",patientBanner:"FpNpsOACrKuB09iTB7bKMw==",patientName:"_8R5C2lZJFAAjt3wpjAEq+g==",patientAvatar:"sPvUdpZbDqLHOPwXV3cH-A==",patientAvatarButton:"yroJ+auSO16BkSHQZanScg==",patientInfo:"SqGzgLX+HbBhU4i3A4y5eg==",demographics:"eWIjbHPRUuBlnTzXFuFygQ==",row:"QFCkT+BTgvHZBatStVeHjg==",patientNameRow:"_1SiYJmzHvLhmp9VXjm5Blg==",flexRow:"jmOC4b7GefuzJ4QbEu0npA==",identifiers:"b8EECuK94gMLXLXBEpVDtg==",identifierTag:"lCWs5r1QPx-dutAIMoHQbQ==",separator:"_8S1oCDFqo9qHIuB12JbQWQ==",primaryIdentifier:"-kfpKuVThbv8s2l8hwKEiA==",secondaryIdentifier:"sj7-pEjBIUhCoSDTtGsCoQ==",label:"_6CgsFZpsBtQ3NYhWawsvnw==",identifier:"_15tY9-x6hKwsgh-1peZ+4w==",tooltipPadding:"_1e0qxthKcum0-Y7gEZ7sfQ==",tooltipSmallText:"TJArb0biwPvahLqXlAoTwg==",actionsButtonText:"U38xyJS78JhBTARI28oJng==",tag:"KjcFJj+XqG-3q6gFfgwnqw=="};function p(e){var t,n,r,a,s,p,y=e.patient,v=(0,f.ZR)().excludePatientIdentifierCodeTypes,b=(0,f.eW)().primaryIdentifierCode,h="".concat(null==y||null===(t=y.name)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.given)||void 0===r?void 0:r.join(" ")," ").concat(null==y||null===(a=y.name)||void 0===a?void 0:a[0].family),g=(null==y?void 0:y.gender)&&m(y.gender),w=null!==(p=null==y||null===(s=y.identifier)||void 0===s?void 0:s.filter((function(e){var t,n,r;return!(null==v?void 0:v.uuids.includes(null===(t=e.type)||void 0===t||null===(n=t.coding)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.code))})))&&void 0!==p?p:[];return o().createElement("div",{className:d.patientInfo},o().createElement("div",{className:i()(d.row,d.patientNameRow)},o().createElement("div",{className:d.flexRow},o().createElement("span",{className:d.patientName},h),o().createElement(f.dT,{name:"patient-banner-tags-slot",state:{patientUuid:y.id,patient:y},className:d.flexRow}))),o().createElement("div",{className:d.demographics},o().createElement("span",null,g)," · ",o().createElement("span",null,(null==y?void 0:y.birthDate)&&(0,c.B)(y.birthDate))," ·"," ",o().createElement("span",null,(null==y?void 0:y.birthDate)&&(0,l.p6)((0,l.sG)(y.birthDate),{mode:"wide",time:!1}))),o().createElement("div",{className:d.row},o().createElement("div",{className:d.identifiers},(null==w?void 0:w.length)?w.map((function(e,t){var n,r,a=e.value,i=e.type;return o().createElement("span",{key:a,className:d.identifierTag},o().createElement("div",null,t>0&&o().createElement("span",{className:d.separator},"·")),(null==i||null===(n=i.coding)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.code)===b?o().createElement("div",{className:d.primaryIdentifier},o().createElement(u.Tag,{type:"gray",title:null==i?void 0:i.text},null==i?void 0:i.text,":"),o().createElement("span",null,a)):o().createElement("label",{htmlFor:"identifier",className:d.secondaryIdentifier},o().createElement("span",{className:d.label},null==i?void 0:i.text,": "),o().createElement("span",{id:"identifier",className:d.identifier},a)))})):"")))}var m=function(e){switch(e){case"male":return(0,s.R)("male","Male");case"female":return(0,s.R)("female","Female");case"other":return(0,s.R)("other","Other");case"unknown":return(0,s.R)("unknown","Unknown");default:return e}},y=n(44064),v=n(38282);const b={actionsButtonText:"-m9v4xyoOJDEU4XJOsLxng==",overflowMenuContainer:"_5xhAz1LQuOvVXvTTTzMdpw=="};function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=e.patientUuid,n=e.actionsSlotName,a=e.isDeceased,i=e.additionalActionsSlotState,u=(0,f.BL)(n),c=(0,r.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({patientUuid:t},i)}),[t,i]);return o().createElement(o().Fragment,null,u.length>0?o().createElement("div",{className:b.overflowMenuContainer},o().createElement(v.M,{deceased:a,menuTitle:o().createElement(o().Fragment,null,o().createElement("span",{className:b.actionsButtonText},(0,s.R)("actions","Actions"))," ",o().createElement(y.r4,{size:16,style:{marginLeft:"0.5rem",fill:"#78A9FF"}}))},o().createElement(f.dT,{name:"patient-actions-slot",key:"patient-actions-slot",state:c}))):null)}var w=n(71369);function O(e){var t=e.showContactDetails,n=e.toggleContactDetails,r=e.className;return o().createElement(u.Button,{className:r,iconDescription:"Toggle contact details",kind:"ghost",onClick:n,renderIcon:t?w.g8:w.v4},t?(0,s.R)("hideDetails","Hide details"):(0,s.R)("showDetails","Show details"))}var S=n(82840),E=n.n(S),j=n(73233),P=n(24126);const k={contactDetails:"+TEHVOjAZHIpTKX58pfV4w==",deceased:"whu2QWEBqUNaeH-n3dwq9A==",heading:"_9z3GqpyCYSuvqK1+AmQL6Q==",row:"KO-iiHpfDnbF4S72il+WuA==",col:"UCDmpis60TsKsP5JPIL6Bg==",relationship:"zaF-SlrAkKIq7zdukr60+w=="};function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}var C=function(e){var t,n=function(e){var t,n=e?"ws/rest/v1/cohortm/cohortmember?patient=".concat(e,"&v=").concat("custom:(uuid,patient:ref,cohort:(uuid,name,startDate,endDate))"):null,o=(0,P.ZP)(n,j.vb),a=o.data,i=o.isLoading,u=null==a||null===(t=a.data)||void 0===t?void 0:t.results.map((function(e){return{uuid:e.cohort.uuid,name:e.cohort.name,startDate:e.cohort.startDate,endDate:e.cohort.endDate}}));return(0,r.useMemo)((function(){return{cohorts:u,isLoading:i}}),[i,u])}(e.patientUuid),a=n.cohorts,i=void 0===a?[]:a,c=n.isLoading;return o().createElement(o().Fragment,null,o().createElement("p",{className:k.heading},(0,s.R)("patientLists","Patient Lists")," (",null!==(t=null==i?void 0:i.length)&&void 0!==t?t:0,")"),c?o().createElement(u.InlineLoading,{description:"".concat((0,s.R)("loading","Loading")," ..."),role:"progressbar"}):o().createElement("ul",null,function(){if((null==i?void 0:i.length)>0){var e=i.sort((function(e,t){return(0,l.sG)(e.startDate).getTime()-(0,l.sG)(t.startDate).getTime()})).slice(0,3);return null==e?void 0:e.map((function(e){return o().createElement("li",{key:e.uuid},o().createElement(f.w,{to:"".concat(window.spaBase,"/home/patient-lists/").concat(e.uuid),key:e.uuid},e.name))}))}return o().createElement("li",null,"--")}(),i.length>3&&o().createElement("li",{className:k.link},o().createElement(f.w,{to:"".concat(window.spaBase,"/home/patient-lists")},(0,s.R)("seeMoreLists","See {{count}} more lists",{count:(null==i?void 0:i.length)-3})))))},N=function(e){var t,n=e.patientId,r=(0,f.lm)(n),a=r.patient,i=r.isLoading,c=null==a||null===(t=a.address)||void 0===t?void 0:t.find((function(e){return"home"===e.use})),l=function(e){return e.split("#")[1]};return i?o().createElement(u.InlineLoading,{description:"".concat((0,s.R)("loading","Loading")," ..."),role:"progressbar"}):o().createElement(o().Fragment,null,o().createElement("p",{className:k.heading},(0,s.R)("address","Address")),o().createElement("ul",null,c?Object.entries(c).filter((function(e){var t=x(e,1)[0];return"id"!==t&&"use"!==t})).map((function(e){var t,n,r,a=x(e,2),i=a[0],u=a[1];return"extension"===i?null===(t=c.extension)||void 0===t||null===(n=t[0])||void 0===n||null===(r=n.extension)||void 0===r?void 0:r.map((function(e,t){return o().createElement("li",{key:"address-".concat(i,"-").concat(t)},(0,s.R)(l(e.url),l(e.url)),": ",e.valueString)})):o().createElement("li",{key:"address-".concat(i)},(0,s.R)(i,i),": ",u)})):o().createElement("li",null,"--")))},T=function(e){var t=function(e){var t=(0,f.ZR)().contactAttributeTypes,n=function(e){var t,n=E()("".concat(j.YC,"/patient/").concat(e,"?v=").concat("custom:(uuid,display,identifiers:(identifier,uuid,preferred,location:(uuid,name),identifierType:(uuid,name,format,formatDescription,validator)),person:(uuid,display,gender,birthdate,dead,age,deathDate,birthdateEstimated,causeOfDeath,preferredName:(uuid,preferred,givenName,middleName,familyName),attributes,preferredAddress:(uuid,preferred,address1,address2,cityVillage,longitude,stateProvince,latitude,country,postalCode,countyDistrict,address3,address4,address5,address6,address7)))"),j.vb),r=n.data,o=n.error;return{isLoading:n.isLoading,attributes:null!==(t=null==r?void 0:r.data.person.attributes)&&void 0!==t?t:[],error:o}}(e),r=n.attributes,o=n.isLoading,a=r.filter((function(e){var n=e.attributeType;return null==t?void 0:t.some((function(e){return n.uuid===e}))}));return{contactAttributes:null!=a?a:[],isLoading:o}}(e.patientUuid),n=t.isLoading,a=t.contactAttributes,i=(0,r.useMemo)((function(){return a?function(e){if(Array.isArray(e))return A(e)}(e=null==a?void 0:a.map((function(e){return[e.attributeType.display?(0,s.R)(e.attributeType.display,e.attributeType.display):"",e.value]})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[];var e}),[a]);return o().createElement(o().Fragment,null,o().createElement("p",{className:k.heading},(0,s.R)("contactDetails","Contact Details")),n?o().createElement(u.InlineLoading,{description:"".concat((0,s.R)("loading","Loading")," ..."),role:"progressbar"}):o().createElement("ul",null,i.length?i.map((function(e,t){var n=x(e,2),r=n[0],a=n[1];return o().createElement("li",{key:"".concat(r,"-").concat(a,"-").concat(t)},r,": ",a)})):o().createElement("li",null,"--")))},D=function(e){var t=function(e){var t,n,r="".concat(j.YC,"/relationship?v=").concat("custom:(display,uuid,personA:(age,display,birthdate,uuid),personB:(age,display,birthdate,uuid),relationshipType:(uuid,display,description,aIsToB,bIsToA))","&person=").concat(e),o=(0,P.ZP)(e?r:null,j.vb),a=o.data,i=o.error,u=o.isLoading,c=o.isValidating,l=(null==a||null===(t=a.data)||void 0===t||null===(n=t.results)||void 0===n?void 0:n.length)?function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var c=i.value;e===c.personA.uuid?n.push({uuid:"".concat(c.uuid),display:c.personB.display,relativeAge:c.personB.age,relativeUuid:c.personB.uuid,relationshipType:c.relationshipType.bIsToA}):n.push({uuid:"".concat(c.uuid),display:c.personA.display,relativeAge:c.personA.age,relativeUuid:c.personA.uuid,relationshipType:c.relationshipType.aIsToB})}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,a.data.results):null;return{data:a?l:null,isError:i,isLoading:u,isValidating:c}}(e.patientId),n=t.data,r=t.isLoading;return o().createElement(o().Fragment,null,o().createElement("p",{className:k.heading},(0,s.R)("relationships","Relationships")),r?o().createElement(u.InlineLoading,{description:"".concat((0,s.R)("loading","Loading")," ..."),role:"progressbar"}):o().createElement("ul",null,n&&n.length>0?o().createElement(o().Fragment,null,n.map((function(e){return o().createElement("li",{key:e.uuid,className:k.relationship},o().createElement("div",null,o().createElement(f.w,{to:"".concat(window.spaBase,"/patient/").concat(e.relativeUuid,"/chart")},e.display)),o().createElement("div",null,e.relationshipType),o().createElement("div",null,"".concat(e.relativeAge?e.relativeAge:"--"," ").concat(e.relativeAge?1===e.relativeAge?"yr":"yrs":"")))}))):o().createElement("li",null,"--")))};function R(e){var t=e.patientId,n=e.deceased;return o().createElement("div",{className:i()(n&&k.deceased,k.contactDetails)},o().createElement("div",{className:k.row},o().createElement("div",{className:k.col},o().createElement(N,{patientId:t})),o().createElement("div",{className:k.col},o().createElement(T,{patientUuid:t}))),o().createElement("div",{className:k.row},o().createElement("div",{className:k.col},o().createElement(D,{patientId:t})),o().createElement("div",{className:k.col},o().createElement(C,{patientUuid:t}))))}},16909:(e,t,n)=>{n.d(t,{a:()=>d,U:()=>f});var r=n(75776),o=n.n(r),a=n(2884),i=n(24353),u=n.n(i),c=n(24126),l=n(73233),s=n(59753);function f(e){var t,n,r,o=(0,s.ZR)({externalModuleName:"@openmrs/esm-styleguide"}).patientPhotoConceptUuid,a=o?"".concat(l.YC,"/obs?patient=").concat(e,"&concept=").concat(o,"&v=full"):null,i=(0,c.ZP)(e?a:null,l.vb),u=i.data,f=i.error,d=i.isLoading,p=null==u||null===(t=u.data)||void 0===t?void 0:t.results[0];return{data:p?{dateTime:null==p?void 0:p.obsDatetime,imageSrc:null==p||null===(n=p.value)||void 0===n||null===(r=n.links)||void 0===r?void 0:r.uri}:null,error:f,isLoading:d}}function d(e){var t=e.patientUuid,n=e.patientName,i=e.size,c=f(t).data,l=(0,r.useMemo)((function(){return u().generate(t)}),[t]);return o().createElement(a.ZP,{alt:"".concat(n?"".concat(n,"'s avatar"):"Patient avatar"),color:"rgba(0,0,0,0)",name:n,src:null==c?void 0:c.imageSrc,size:"small"===i?"48":"80",textSizeRatio:"small"===i?1:2,style:c?void 0:{backgroundImage:l.toDataUrl(),backgroundRepeat:"round"}})}},77722:(e,t,n)=>{n.d(t,{B3:()=>s,Fg:()=>d,Ur:()=>c,Zl:()=>l,Zq:()=>f,sk:()=>u});var r=n(75776),o=n.n(r),a=n(58976),i=n.n(a),u=(0,r.memo)((0,r.forwardRef)((function(e,t){var n=e.pictogram,r=e.pictogramProps,a=Object.assign({},{size:92},r),u=a.className,c=a.size;return(c<=26||c>144)&&(console.error("Invalid size '".concat(c,"' specified for ").concat(n,". Defaulting to 92.")),c=92),o().createElement("svg",{ref:t,className:i()(u),height:c,width:c},o().createElement("use",{href:"#".concat(n)}))}))),c=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(u,{ref:t,pictogram:"omrs-pict-home",pictogramProps:e})}))),l=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(u,{ref:t,pictogram:"omrs-pict-patient-lists",pictogramProps:e})}))),s=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(u,{ref:t,pictogram:"omrs-pict-appointments",pictogramProps:e})}))),f=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(u,{ref:t,pictogram:"omrs-pict-service-queues",pictogramProps:e})}))),d=(0,r.memo)((0,r.forwardRef)((function(e,t){return o().createElement(u,{ref:t,pictogram:"omrs-pict-laboratory",pictogramProps:e})})))},71369:(e,t,n)=>{n.d(t,{ft:()=>i.f,AH:()=>b.AH,dt:()=>b.dt,aD:()=>b.aD,B3:()=>g.B3,ve:()=>b.ve,Y4:()=>b.Y4,LZ:()=>b.LZ,Hf:()=>b.Hf,Uj:()=>b.Uj,op:()=>b.op,Qu:()=>b.Qu,VA:()=>b.VA,BN:()=>b.BN,QU:()=>b.QU,y8:()=>b.y8,OJ:()=>b.OJ,m7:()=>b.m7,v4:()=>b.v4,wy:()=>b.wy,XC:()=>b.XC,g8:()=>b.g8,f0:()=>b.f0,Tw:()=>b.Tw,yN:()=>b.yN,h2:()=>b.h2,M0:()=>v.M,ir:()=>b.ir,$l:()=>b.$l,_8:()=>b._8,dY:()=>b.dY,Te:()=>f.T,UH:()=>b.UH,gN:()=>b.gN,BP:()=>b.BP,BF:()=>b.BF,Ur:()=>g.Ur,h1:()=>b.h1,JO:()=>b.JO,gm:()=>b.gm,ZN:()=>b.ZN,Fg:()=>g.Fg,cW:()=>s.cW,MD:()=>b.MD,_t:()=>b._t,_Z:()=>T,bJ:()=>b.bJ,EA:()=>b.EA,np:()=>b.np,FF:()=>b.FF,Ws:()=>b.Ws,iK:()=>b.iK,jN:()=>d.j,z8:()=>b.z8,uJ:()=>b.uJ,mr:()=>h.m,g:()=>h.g,CW:()=>b.CW,S1:()=>m.S1,zF:()=>m.zF,XZ:()=>m.XZ,WZ:()=>m.WZ,Zl:()=>g.Zl,ap:()=>y.a,pO:()=>b.pO,Mw:()=>b.Mw,sk:()=>g.sk,NJ:()=>b.NJ,fR:()=>b.fR,e4:()=>b.e4,X5:()=>b.X5,d:()=>p.d,N:()=>b.N,W1:()=>b.W1,Zq:()=>g.Zq,L5:()=>b.L5,yb:()=>b.yb,Q1:()=>b.Q1,b3:()=>b.b3,xR:()=>b.xR,$e:()=>b.$e,ko:()=>b.ko,wZ:()=>b.wZ,oE:()=>b.oE,T9:()=>b.T9,Ms:()=>b.Ms,zy:()=>b.zy,gB:()=>b.gB,Mr:()=>b.Mr,tB:()=>b.tB,R$:()=>b.R$,ON:()=>b.ON,tp:()=>b.tp,aN:()=>b.aN,di:()=>u.d,Qw:()=>c.Qw,Tv:()=>c.Tv,L9:()=>c.L9,VM:()=>s.VM,fu:()=>r.fu,K4:()=>a.K,c0:()=>r.c0,OV:()=>l.O,CF:()=>o.C,$d:()=>s.$d,Uu:()=>y.U,_O:()=>c._O});var r=n(89752),o=n(57844),a=n(85227),i=n(50670),u=n(12060),c=n(97952),l=n(56961),s=n(83885),f=n(30238),d=n(33823),p=n(15427),m=n(54012),y=n(16909),v=n(53275),b=n(46320),h=n(70193),g=n(77722),w=n(75776),O=n.n(w),S=n(62680),E=n(4006);const j="Q8AX1FiHZ7GDBxDlGmhMgg==";var P=n(57011),k=n(82840),A=n.n(k),x=n(5883),I=n.n(x);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}var T=function(e){var t,n,r=e.selectedLocationUuid,o=e.defaultLocationUuid,a=e.locationTag,i=e.locationsPerRequest,u=void 0===i?50:i,c=e.onChange,l=(0,S.useTranslation)().t,s=(t=(0,w.useState)(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||N(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],d=s[1],p=function(e){var t=e?"/ws/fhir2/R4/Location?_id=".concat(e):null,n=A()(t,P.openmrsFetch,{shouldRetryOnError:function(e){var t;return!!(null==e||null===(t=e.response)||void 0===t?void 0:t.status)&&e.response.status>=500}}),r=n.data,o=n.error,a=n.isLoading;return(0,w.useMemo)((function(){var e;return{location:(null==r||null===(e=r.data)||void 0===e?void 0:e.entry)?r.data.entry[0]:null,error:t?o:null,isLoading:!!t&&a}}),[r,a,o,t])}(o).location,m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=(0,S.useTranslation)().t,o=(0,P.useDebounce)(n),a=I()((function(n,r){if(r){var a,i,u=null===(a=r.data)||void 0===a||null===(i=a.link)||void 0===i?void 0:i.find((function(e){return"next"===e.relation}));if(!u)return null;var c=new URL(u.url);return c.origin===window.location.origin?u.url:new URL("".concat(c.pathname).concat(c.search?"?".concat(c.search):""),window.location.origin).toString()}var l="".concat(P.fhirBaseUrl,"/Location?"),s=new URLSearchParams;return s.append("_summary","data"),t&&s.append("_count",""+t),n&&s.append("_getpagesoffset",""+n*t),e&&s.append("_tag",e),"string"==typeof o&&""!=o&&s.append("name:contains",o),l+s.toString()}),P.openmrsFetch),i=a.data,u=a.isLoading,c=a.isValidating,l=a.setSize,s=a.error;return s&&(0,P.showNotification)({title:r("errorLoadingLoginLocations","Error loading login locations"),kind:"error",critical:!0,description:null==s?void 0:s.message}),(0,w.useMemo)((function(){var e,t,n,r,o,a;return{locations:(null==i?void 0:i.length)?null==i?void 0:i.flatMap((function(e){var t;return null!==(a=null==e||null===(t=e.data)||void 0===t?void 0:t.entry)&&void 0!==a?a:[]})):[],isLoading:u,totalResults:null==i||null===(e=i[0])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.total,hasMore:!!(null==i?void 0:i.length)&&(null==i||null===(n=i[i.length-1])||void 0===n||null===(r=n.data)||void 0===r||null===(o=r.link)||void 0===o?void 0:o.some((function(e){return"next"===e.relation}))),loadingNewData:c,setPage:l}}),[u,i,c,l])}(a,u,f),y=m.locations,v=m.isLoading,b=m.hasMore,h=m.loadingNewData,g=m.setPage,k=(0,w.useMemo)((function(){return p&&!f?[p].concat(function(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(null==y?void 0:y.filter((function(e){return e.resource.id!==o})))):y}),[p,y]),x=(0,w.useRef)(null),T=(0,w.useCallback)((function(e){h||(x.current&&x.current.disconnect(),x.current=new IntersectionObserver((function(e){e[0].isIntersecting&&b&&g((function(e){return e+1}))}),{threshold:1}),e&&x.current.observe(e))}),[h,b,g]),D=b?k.length-u/2:-1;return O().createElement("div",null,O().createElement(E.Search,{autoFocus:!0,labelText:l("searchForLocation","Search for a location"),id:"search-1",placeholder:l("searchForLocation","Search for a location"),onChange:function(e){return function(e){c(),d(e)}(e.target.value)},name:"searchForLocation",size:"lg"}),O().createElement("div",{className:"sVuEoKdfPLIbCnqvuCDswA=="},v?O().createElement("div",{className:"RvUkXush1IqHRZwL9-+0fw=="},O().createElement(E.RadioButtonSkeleton,{className:j,role:"progressbar"}),O().createElement(E.RadioButtonSkeleton,{className:j,role:"progressbar"}),O().createElement(E.RadioButtonSkeleton,{className:j,role:"progressbar"}),O().createElement(E.RadioButtonSkeleton,{className:j,role:"progressbar"}),O().createElement(E.RadioButtonSkeleton,{className:j,role:"progressbar"})):O().createElement(O().Fragment,null,O().createElement("div",{className:"_3KqiowbJ1m7ialjTRQ-26Q=="},(null==k?void 0:k.length)>0?O().createElement(E.RadioButtonGroup,{valueSelected:r,orientation:"vertical",name:"Login locations",onChange:function(e){c(e.toString())}},k.map((function(e,t){return O().createElement(E.RadioButton,{className:"_0fUpONJrQOHX-eHmORJUbg==",key:e.resource.id,id:e.resource.id,name:e.resource.name,labelText:O().createElement("span",{ref:t==D?T:null},e.resource.name),value:e.resource.id})}))):O().createElement("div",{className:"_75BC3dIE14U1C-3VXx0Vdw=="},O().createElement("p",{className:"SCHDhEmD53xsyeRuESMoyg=="},l("noResultsToDisplay","No results to display")))),h&&O().createElement("div",{className:"bg8USHxHZl3RzYF266Bq5w=="},O().createElement(E.InlineLoading,{description:l("loading","Loading")})))))}},15427:(e,t,n)=>{n.d(t,{d:()=>u});var r=n(75776),o=n.n(r),a=n(4006),i=n(59753),u=function(e){var t=e.children;return"tablet"===(0,i.mr)()?o().createElement(a.Layer,null,t):o().createElement(o().Fragment,null,t)}},56961:(e,t,n)=>{n.d(t,{S:()=>w,O:()=>O});var r=n(75776),o=n.n(r),a=n(74279),i=n(14666),u=n(4006),c=n(58976),l=n.n(c);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=function(e){var t,n=e.snackbar,a=e.closeSnackbar,i=n.actionButtonLabel,c=void 0===i?"":i,s=n.kind,p=void 0===s?"success":s,m=n.onActionButtonClick,y=void 0===m?function(){}:m,v=n.isLowContrast,b=void 0===v?"error"!==p:v,h=n.progressActionLabel,g=n.subtitle,w=void 0===g?"":g,O=n.timeoutInMs,S=void 0===O?5e3:O,E=n.autoClose,j=void 0===E?"error"!==p:E,P=n.title,k=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,["actionButtonLabel","kind","onActionButtonClick","isLowContrast","progressActionLabel","subtitle","timeoutInMs","autoClose","title"]),A=d((0,r.useState)(c),2),x=A[0],I=A[1],C=d((0,r.useState)(!0),2),N=C[0],T=C[1],D=d((0,r.useState)(!1),2),R=D[0],M=D[1],L=(0,r.useCallback)((function(){setTimeout(a,250)}),[a]),B=(0,r.useCallback)((function(){M(!0),L()}),[L]);return(0,r.useEffect)((function(){if(j){var e=setTimeout(B,S);return function(){return clearTimeout(e)}}}),[S,j,B]),(0,r.useEffect)((function(){T(!1),window.setTimeout((function(){T(!0)}),0)}),[]),o().createElement(u.ActionableNotification,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({actionButtonLabel:x,"aria-label":"Close snackbar",className:l()("_7HgEYLQS696MbtIvLcSEiA==",(t={},f(t,"O+974+RYHPp60OIszhtSig==",N),f(t,"X+seyM5tnlPNuVrCLrGrgA==",R),t)),inline:!0,kind:p,lowContrast:b,onActionButtonClick:function(){y(),B(),h&&I(h)},onClose:L,statusIconDescription:"Snackbar notification",subtitle:w,title:P},k))};function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}const v=function(e){var t,n,a=e.subject,i=(t=(0,r.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||y(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],c=i[1],l=(0,r.useCallback)((function(e){c((function(t){return t.filter((function(t){return t!==e}))}))}),[]);return(0,r.useEffect)((function(){var e=a.subscribe((function(e){return c((function(t){return function(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.filter((function(t){return t.subtitle!==e.subtitle||t.actionButtonLabel!==e.actionButtonLabel||t.onActionButtonClick!==e.onActionButtonClick||t.kind!==e.kind||t.title!==e.title}))).concat([e])}))}));return function(){return e.unsubscribe()}}),[a]),o().createElement(o().Fragment,null,u.map((function(e){return o().createElement(p,{key:e.id,snackbar:e,closeSnackbar:function(){return l(e)}})})))};function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=new i.Subject,g=0;function w(e){e&&(0,a.createRoot)(e).render(o().createElement(v,{subject:h}))}function O(e){var t;e&&"string"==typeof(t=e.title)&&t.trim().length>0?setTimeout((function(){var t,n;h.next((t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}({},e),n=null!=(n={id:g++})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t))}),0):console.error("showSnackbar must be called with an object having a 'title' property that is a non-empty string")}},57844:(e,t,n)=>{n.d(t,{S:()=>v,C:()=>b});var r=n(75776),o=n.n(r),a=n(74279),i=n(14666),u=n(4006),c=function(e){var t=e.toast,n=e.closeToast,a=t.description,i=t.kind,c=t.critical,l=t.title,s=t.actionButtonLabel,f=t.onActionButtonClick,d=void 0===f?function(){}:f,p=(0,r.useCallback)((function(){d(),n()}),[n,d]);return o().createElement("div",null,o().createElement(u.ActionableNotification,{actionButtonLabel:s,kind:i||"info",lowContrast:c,subtitle:a,title:l||"",onActionButtonClick:p,onClose:n}))};function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}const f=function(e){var t,n,a=e.subject,i=(t=(0,r.useState)([]),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||s(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],f=i[1],d=(0,r.useCallback)((function(e){f((function(t){return t.filter((function(t){return t!==e}))}))}),[]);return(0,r.useEffect)((function(){var e=a.subscribe((function(e){return f((function(t){return function(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.filter((function(t){return t.description!==e.description||t.kind!==e.kind||t.title!==e.title||t.actionButtonLabel!==e.actionButtonLabel||t.onActionButtonClick!==e.onActionButtonClick}))).concat([e])}))}));return function(){return e.unsubscribe()}}),[a]),o().createElement(o().Fragment,null,u.map((function(e){return o().createElement(c,{key:e.id,toast:e,closeToast:function(){return d(e)}})})))};var d=n(14504);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=new i.Subject,y=0;function v(e){e&&(0,a.createRoot)(e).render(o().createElement(f,{subject:m}))}function b(e){var t;e&&("string"==typeof(t=e.description)?t.trim().length>0:"object"==typeof t&&!(0,d.Z)(t))?setTimeout((function(){var t,n;m.next((t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},e),n=null!=(n={id:y++})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t))}),0):console.error("showToast must be called with an object having a 'description' property that is a non-empty string or object")}},50670:(e,t,n)=>{n.d(t,{f:()=>y});var r=n(75776),o=n.n(r),a=n(58976),i=n.n(a),u=n(4006),c=n(59753),l=n(97952);const s="L3FtNn2XyW5m8Ne-4GKVZw==",f="+ZKxzzIhIFN+bJAy-ZLqew==",d="z0sFEEggyC9fWAESGGFNbA==";function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=e.getIcon,n=e.formOpenInTheBackground,r=e.tagContent;return o().createElement(o().Fragment,null,t({size:16}),n?o().createElement("span",{className:"OSjc5UFLcZxpK+ymVb8-sw=="},"!"):o().createElement("span",{className:"xZjlOsRuUhYDZ1zI70gi1w=="},r))}var y=function(e){var t,n=e.getIcon,r=e.label,a=e.iconDescription,y=e.handler,v=e.type,b=e.tagContent,h=(0,c.mr)(),g=(0,l._O)(),w=g.workspaces,O=g.workspaceWindowState,S=null!==(t=null==w?void 0:w.findIndex((function(e){return e.type===v})))&&void 0!==t?t:-1,E="hidden"!==O&&0===S,j=S>0||0===S&&"hidden"===O;return"tablet"===h||"phone"===h?o().createElement(u.Button,{className:i()(s,p({},d,E)),iconDescription:a,kind:"ghost",onClick:y,role:"button",tabIndex:0,size:"md"},o().createElement("span",{className:f},o().createElement(m,{formOpenInTheBackground:j,getIcon:n,tagContent:b})),o().createElement("span",null,r)):o().createElement(u.IconButton,{align:"left","aria-label":a,className:i()(s,p({},d,E)),enterDelayMs:300,kind:"ghost",label:r,onClick:y,size:"md"},o().createElement("div",{className:f},o().createElement(m,{formOpenInTheBackground:j,getIcon:n,tagContent:b})))}},16020:(e,t,n)=>{n.d(t,{P:()=>f,Z:()=>d});var r=n(75776),o=n.n(r),a=n(58976),i=n.n(a),u=n(59753);const c={sideRailHidden:"RVXEN52pXIblz9kNW-NweA==",sideRailVisible:"Ff8WBlWJkHP7u3FzXeN+0A==",sideRail:"XiG5fWshhrT4JWuuYCOvFw==",container:"nksy-Rn15gWNMLO2YxvZXg==",withinWorkspace:"P2MCA3yHJjIQtw3wFttKhw==",chartExtensions:"oVQSVc5kTAT6M0A8DxNepg==",divider:"Hb7Obn3-EGDOym8sOSNUEA=="};function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t,n,a=e.isWithinWorkspace,f=e.name,d=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=d[0],m=d[1],y=(0,r.useRef)(window.innerHeight),v=(0,r.useContext)(u.sM).featureName,b=(0,u.mr)();(0,r.useEffect)((function(){var e=function(){m(!(0,u.nI)(b)&&y.current>window.innerHeight),y.current!=window.innerHeight&&(y.current=window.innerHeight)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[y]);var h,g="action-menu-".concat(f&&"default"!=f?f:v,"-items-slot");return o().createElement("aside",{className:i()(c.sideRail,(h={},s(h,c.withinWorkspace,a),s(h,c.sideRailHidden,p),s(h,c.sideRailVisible,!p),h))},o().createElement("div",{className:c.container},o().createElement(u.dT,{className:c.chartExtensions,name:g})))}const d=f},12060:(e,t,n)=>{n.d(t,{d:()=>k});var r=n(75776),o=n.n(r),a=n(58976),i=n.n(a),u=n(4006),c=n(86646),l=n(92329),s=n(59753),f=n(45371),d=n(38849),p=n(60986),m=n(16020),y=n(97952),v=n(12158),b=n(82057);const h={loader:"rjGElVylVpCciXmMn8DYgw==",hiddenExtraWorkspace:"ZgX1wgkqq2890zK0DJZXhg==",workspaceInnerContainer:"nQJTnA1oj2XG+5JSkZjEYw==",workspaceContainerWithActionMenu:"lzivk7oYFqq2CHmOASbVPg==",workspaceFixedContainer:"o1zKrTyw9UldgIdbaa7moQ==",workspaceContainerWithoutActionMenu:"Bv9IQAGP8i3M55X0h7+ypQ==",header:"USx8w-WrhM1CHtNepppQkQ==",maximizedWindow:"_4mcCegLJ5dwMfsI07+keUA==",headerButtons:"m8lkz0EKT0Y-Bag8zMA5Jw==",workspaceWindowSpacer:"LGbOFjuURMTwZDWvPuCjnw==",workspaceOverlayOuterContainer:"DE6lVQ6uDM89E5AYjr4cEA==",extraWideWorkspace:"_1KEqBaa9iJgJKkDkixjIRQ==",hiddenRelative:"gKi3VszSBdR9PJrxFO9Ujw==",hiddenFixed:"mN3gVKJI6rRdDOuM40TuwA==",widerWorkspace:"_2lQEH2tKXF2CkJ1zPGe1Wg==",narrowWorkspace:"_91j-JqOZTRMYLypofv-sKg==",workspaceContent:"ZAVg+A8evq34xnCrw5oouQ==",marginWorkspaceContent:"o+wVnANq2cK9Ypm5PEuqZQ==",overlay:"j76c7QdELisbQOAG8-2Epg==",overlayHeaderSpacer:"Sczq-UqEe6DFMeG0XIuNUQ==",overlayCloseButton:"UNqFA5jzz+X+Qhx-+hlFaA==",overlayTitle:"Ex-utlReavgZyv0mc9EDTQ==",dynamicWidth:"JfYXUHjwyElOUDBz2WIe-g=="};function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}function j(e){var t,n,a=e.workspace,i=e.additionalPropsFromPage,c=(t=(0,r.useState)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],s=c[1],d=function(e){var t=w((0,r.useState)({}),2),n=t[0],o=t[1],a=w((0,r.useState)(e),2),i=a[0],u=a[1];return(0,r.useEffect)((function(){i!==e&&u(e)}),[e]),(0,r.useEffect)((function(){var e,t=(0,y.BF)(i);return t&&(o(t.getState()),e=t.subscribe(o)),function(){t&&(null==e||e())}}),[i]),n}(a.sidebarFamily);(0,r.useEffect)((function(){var e=!0;return a.load().then((function(t){var n=t.default,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["default"]);e&&s(null!=n?n:r)})),function(){e=!1}}),[a]);var p=(0,r.useMemo)((function(){return a&&E({closeWorkspace:a.closeWorkspace,closeWorkspaceWithSavedChanges:a.closeWorkspaceWithSavedChanges,promptBeforeClosing:a.promptBeforeClosing,setTitle:a.setTitle},i,d,a.additionalProps)}),[a,i,d]);return l?o().createElement(b.Z,E({key:a.name,config:l,mountParcel:v.mountRootParcel},p)):o().createElement(u.InlineLoading,{className:h.loader,description:"".concat((0,f.R)("loading","Loading")," ...")})}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){var t,n,r,a=e.contextKey,u=e.overlay,c=e.showSiderailAndBottomNav,l=e.additionalWorkspaceProps,f=(0,s.mr)(),d=(0,y._O)(),v=d.workspaces,b=d.workspaceWindowState,g=v[0],w="hidden"===b||null==g,O="maximized"===b,S=null!==(t=null==g?void 0:g.width)&&void 0!==t?t:u?"wider":"narrow";return(0,s.yn)(!w&&!(0,s.nI)(f)),o().createElement(o().Fragment,null,o().createElement("div",{className:c?h.workspaceContainerWithActionMenu:h.workspaceContainerWithoutActionMenu},o().createElement("aside",{className:i()(u?h.workspaceOverlayOuterContainer:h.workspaceWindowSpacer,(n={},P(n,h.hiddenRelative,w),P(n,h.narrowWorkspace,"narrow"===S),P(n,h.widerWorkspace,"wider"===S),P(n,h.extraWideWorkspace,"extra-wide"===S),n))},o().createElement("div",{className:i()(h.workspaceFixedContainer,(r={},P(r,h.maximizedWindow,O),P(r,h.hiddenFixed,w),r))},v.map((function(e,t){return o().createElement("div",{key:"workspace-container-".concat(e?e.name:"empty"),className:i()(P({},h.hiddenExtraWorkspace,0!==t),h.workspaceInnerContainer)},o().createElement(A,{workspaceInstance:e,additionalWorkspaceProps:l}))})))),o().createElement(p.k,{contextKey:a})),c&&o().createElement(m.Z,null))}function A(e){var t,n=e.workspaceInstance,a=e.additionalWorkspaceProps,p=(0,s.mr)(),v="maximized"===(0,y._O)().workspaceWindowState,b=(0,r.useContext)(s.sM).featureName,g=(0,r.useCallback)((function(){v?(0,y.RL)("normal"):(0,y.RL)("maximized")}),[v]),w=(0,r.useMemo)((function(){return null!=n?n:{}}),[n]),O=w.canHide,S=void 0!==O&&O,E=w.canMaximize,k=void 0!==E&&E,A=w.hasOwnSidebar,x=void 0!==A&&A,I=w.closeWorkspace,C=(0,r.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){P(e,t,n[t])}))}return e}({},a,null==n?void 0:n.additionalProps)}),[a,n]);return n&&o().createElement(o().Fragment,null,o().createElement(u.Header,{"aria-label":(0,f.R)("workspaceHeader","Workspace Header"),className:h.header},!(0,s.nI)(p)&&!S&&o().createElement(u.HeaderMenuButton,{renderMenuIcon:o().createElement(d.Y4,null),onClick:I}),o().createElement(u.HeaderName,{prefix:""},null!==(t=n.titleNode)&&void 0!==t?t:n.title),o().createElement("div",{className:h.overlayHeaderSpacer}),o().createElement(u.HeaderGlobalBar,{className:h.headerButtons},o().createElement(s.dT,{name:"workspace-header-family-".concat(n.sidebarFamily,"-slot"),state:C}),o().createElement(s.dT,{name:"workspace-header-type-".concat(n.type,"-slot"),state:C}),o().createElement(s.dT,{name:"workspace-header-".concat(b,"-slot"),state:C}),(0,s.nI)(p)&&o().createElement(o().Fragment,null,(k||v)&&o().createElement(u.HeaderGlobalAction,{align:"bottom","aria-label":v?(0,f.R)("minimize","Minimize"):(0,f.R)("maximize","Maximize"),label:v?(0,f.R)("minimize","Minimize"):(0,f.R)("maximize","Maximize"),onClick:g,size:"lg"},v?o().createElement(c.gR,null):o().createElement(c.Yq,null)),S?o().createElement(u.HeaderGlobalAction,{align:"bottom-right","aria-label":(0,f.R)("hide","Hide"),label:(0,f.R)("hide","Hide"),onClick:function(){return(0,y.RL)("hidden")},size:"lg"},o().createElement(d.LZ,null)):o().createElement(u.HeaderGlobalAction,{align:"bottom-right","aria-label":(0,f.R)("close","Close"),label:(0,f.R)("close","Close"),onClick:function(){return null==I?void 0:I()},size:"lg"},o().createElement(d.Tw,null))),"tablet"===p&&S&&o().createElement(u.HeaderGlobalAction,{align:"bottom-right","aria-label":(0,f.R)("close","Close"),label:(0,f.R)("close","Close"),onClick:function(){return null==I?void 0:I()}},o().createElement(l.hY,null)))),o().createElement("div",{className:i()(h.workspaceContent,P({},h.marginWorkspaceContent,x))},o().createElement(j,{key:n.name,workspace:n,additionalPropsFromPage:a})),x&&o().createElement(m.Z,{isWithinWorkspace:!0,name:n.sidebarFamily}))}},60986:(e,t,n)=>{n.d(t,{k:()=>d});var r=n(75776),o=n.n(r),a=n(62680),i=n(4006),u=n(25764),c=n(79751),l=n(17397),s=n(97952);const f={messageBody:"_73NxiC1ZEfSJ+bUCMmUfzQ=="};function d(e){var t,n,d=e.contextKey,p=(0,a.useTranslation)().t,m=(0,s._O)().prompt;return(0,r.useEffect)((function(){new RegExp("/".concat((0,l.Z)(d),"(/|$)")).test(window.location.pathname)||(0,c.e)('WorkspaceContainer has provided an invalid context key: "'.concat(d,'". The context key must be part of the URL path, with no initial or trailing slash.'))}),[]),(0,r.useEffect)((function(){return(0,s.kZ)(d),function(){(0,s.kZ)(null)}}),[d]),(0,r.useEffect)((function(){var e=function(e){var t=e.detail,n=t.cancelNavigation,r=t.newUrl,o=new RegExp("/".concat((0,l.Z)(d),"(/|$)")),a=new URL(r),i=o.test(a.pathname),c=(0,s.LW)().getState().openWorkspaces.every((function(e){var t=e.name;return(0,s.Md)(t)}));i||(c?(0,s.Lj)():(null==n||n(),(0,s.kI)((function(){(0,u.c4)({to:r})}))))};return window.addEventListener("single-spa:before-routing-event",e),function(){window.removeEventListener("single-spa:before-routing-event",e)}}),[]),null!=m?o().createElement(i.ComposedModal,{open:!0,onClose:s.vs},o().createElement(i.ModalHeader,{title:m.title}),o().createElement(i.ModalBody,null,o().createElement("p",{className:f.messageBody},m.body)),o().createElement(i.ModalFooter,null,o().createElement(i.Button,{kind:"secondary",onClick:s.vs},null!==(t=m.cancelText)&&void 0!==t?t:p("cancel","Cancel")),o().createElement(i.Button,{kind:"danger",onClick:m.onConfirm},null!==(n=m.confirmText)&&void 0!==n?n:p("confirm","Confirm")))):null}},97952:(e,t,n)=>{n.d(t,{BF:()=>M,CD:()=>k,HC:()=>h,L9:()=>v,LW:()=>A,Lj:()=>R,Md:()=>p,Qw:()=>S,RL:()=>x,Tv:()=>y,Zw:()=>g,_O:()=>N,kI:()=>C,kZ:()=>j,vs:()=>w,yq:()=>T});var r=n(75776),o=n(63899),a=n(25764),i=n(90946),u=n(45371),c=n(59753);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function d(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function p(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return!0;var t=g(e);return!t||!t()}function m(e,t){var n,r=t.name,a=t.additionalProps,i=(0,o.CN)(r),u=function(){E(e.name,{ignoreChanges:!0,onWorkspaceClose:function(){return y(r,a)},clearWorkspaceFamilyStore:i.sidebarFamily!==e.sidebarFamily})};p(e.name)?u():T("closing-workspace-launching-new-workspace",u,null!==(n=e.title)&&void 0!==n?n:e.name)}function y(e,t){var n=function(e,t){r.setState((function(n){var r,o=[e].concat(function(e){if(Array.isArray(e))return l(e)}(r=null!=t?t:n.openWorkspaces)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=I(o[0]);return d(f({},n),{openWorkspaces:o,workspaceWindowState:a})}))},r=A(),a=(0,o.CN)(e),i=d(f({},a),{title:D(a,t),closeWorkspace:function(){return S(e,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},closeWorkspaceWithSavedChanges:function(t){return S(e,f({ignoreChanges:!0},t))},promptBeforeClosing:function(t){return h(e,t)},setTitle:function(t,n){i.title=t,i.titleNode=n,r.setState((function(t){var n=t.openWorkspaces.map((function(t){return t.name===e?i:t}));return d(f({},t),{openWorkspaces:n})}))},additionalProps:null!=t?t:{}});i.sidebarFamily&&M(i.sidebarFamily,t);var u=r.getState().openWorkspaces,c=u.findIndex((function(t){return t.name===e})),s=c>=0,p=u.find((function(e){return e.type==i.type}));if(0===u.length)n(i);else if(u[0].canHide||0===c)if(s){var y=u[c];y.title==D(y,y.additionalProps)&&(y.title=D(y,i.additionalProps)),y.additionalProps=i.additionalProps;var v=u.filter((function(t){return t.name!=e}));n(u[c],v)}else p?(n(p,r.getState().openWorkspaces.filter((function(e){return e.type!=i.type}))),m(p,{name:e,additionalProps:t})):n(i);else m(u[0],{name:e,additionalProps:t})}function v(e){var t=e.targetUrl,n=e.contextKey,r=e.workspaceName,o=e.additionalProps;j(n),y(r,o),(0,a.c4)({to:t})}var b={};function h(e,t){b[e]=t}function g(e){return b[e]}function w(){var e=A(),t=e.getState();e.setState(d(f({},t),{prompt:null}))}var O={ignoreChanges:!1,onWorkspaceClose:function(){}};function S(e){return E(e,d(f({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),{clearWorkspaceFamilyStore:!0}))}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=f({},O,t);var n,r=A(),a=function(){var n,o=r.getState(),a=o.openWorkspaces.find((function(t){return t.name===e})),i=null==a?void 0:a.sidebarFamily,u=o.openWorkspaces.filter((function(t){return t.name!=e})),c=M(i);if(t.clearWorkspaceFamilyStore&&c&&!u.some((function(e){return e.sidebarFamily===i}))){c.setState({},!0);var l=c.subscribe((function(){}));null==l||l()}h(e,(function(){return!1})),r.setState(d(f({},o),{prompt:null,openWorkspaces:u,workspaceWindowState:I(null==u?void 0:u[0])})),null==t||null===(n=t.onWorkspaceClose)||void 0===n||n.call(t)};return p(e,null==t?void 0:t.ignoreChanges)?(a(),!0):(T("closing-workspace",a,null!==(n=(0,o.CN)(e).title)&&void 0!==n?n:e),!1)}function j(e){var t=A();t.getState().context!=e&&t.setState({context:e,openWorkspaces:[],prompt:null})}var P={context:"",openWorkspaces:[],prompt:null,workspaceWindowState:"normal"},k=(0,i.jk)("workspace",P);function A(){return(0,i.zJ)("workspace",P)}function x(e){var t=A(),n=t.getState();t.setState(d(f({},n),{workspaceWindowState:e}))}function I(e){var t;return null!==(t=null==e?void 0:e.preferredWindowSize)&&void 0!==t?t:"normal"}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=function(){R(),null==e||e()};A().getState().openWorkspaces.every((function(e){return p(e.name)}))?t():T("closing-all-workspaces",t)}function N(){var e=(0,c.oR)(k),t=e.workspaceWindowState,n=e.openWorkspaces,o=e.prompt;return(0,r.useMemo)((function(){return{active:n.length>0,prompt:o,workspaceWindowState:t,workspaces:n}}),[n,t,o])}function T(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=A();switch(e){case"closing-workspace":t={title:(0,u.R)("unsavedChangesTitleText","Unsaved changes"),body:(0,u.R)("unsavedChangesInOpenedWorkspace","You have unsaved changes in the opened workspace. Do you want to discard these changes?"),onConfirm:function(){null==n||n()},confirmText:(0,u.R)("discard","Discard")};break;case"closing-all-workspaces":var a=o.getState().openWorkspaces.filter((function(e){return!p(e.name)})).map((function(e,t){var n=e.title;return"".concat(t+1,". ").concat(n)}));t={title:(0,u.R)("closingAllWorkspacesPromptTitle","You have unsaved changes"),body:(0,u.R)("closingAllWorkspacesPromptBody","There are unsaved changes in the following workspaces. Do you want to discard changes in the following workspaces? {{workspaceNames}}",{workspaceNames:a.join(",")}),onConfirm:function(){null==n||n()},confirmText:(0,u.R)("closeAllOpenedWorkspaces","Discard changes in {{count}} workspaces",{count:a.length})};break;case"closing-workspace-launching-new-workspace":t={title:(0,u.R)("unsavedChangesTitleText","Unsaved changes"),body:(0,u.R)("unsavedChangesInWorkspace","There are unsaved changes in {{workspaceName}}. Please save them before opening another workspace.",{workspaceName:r}),onConfirm:function(){o.setState((function(e){return d(f({},e),{prompt:null})})),null==n||n()},confirmText:(0,u.R)("openAnyway","Open anyway")};break;default:return console.error('Workspace system trying to open unknown prompt type "'.concat(e,'" in function "showWorkspacePrompts"')),void(null==n||n())}o.setState((function(e){return d(f({},e),{prompt:t})}))}function D(e,t){var n;return null!==(n=null==t?void 0:t.workspaceTitle)&&void 0!==n?n:(0,u.a)(e.moduleName,e.title,e.title)}function R(){A().setState(P)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&"default"!==e){var n=(0,i.zJ)(e,{});return t&&n.setState((function(e){return f({},e,t)})),n}}},45371:(e,t,n)=>{function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{R:()=>d,a:()=>f});var o,a,i=(o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){r(e,t,n[t])}))}return e}({},{address1:"Address line 1",address2:"Address line 2",address3:"Address line 3",address4:"Address line 4",address5:"Address line 5",address6:"Address line 6",city:"City",cityVillage:"City",country:"Country",countyDistrict:"District",postalCode:"Postal code",state:"State",stateProvince:"State"},{closeAllOpenedWorkspaces:"Discard changes in {{count}} workspaces",closingAllWorkspacesPromptBody:"There are unsaved changes in the following workspaces. Do you want to discard changes in the following workspaces? {{workspaceNames}}",closingAllWorkspacesPromptTitle:"You have unsaved changes",discard:"Discard",hide:"Hide",maximize:"Maximize",minimize:"Minimize",openAnyway:"Open anyway",unsavedChangesInOpenedWorkspace:"You have unsaved changes in the opened workspace. Do you want to discard these changes?",unsavedChangesInWorkspace:"There are unsaved changes in {{workspaceName}}. Please save them before opening another workspace.",unsavedChangesTitleText:"Unsaved changes",workspaceHeader:"Workspace header"}),a=null!=(a={actions:"Actions",address:"Address",age:"Age",cancel:"Cancel",change:"Change",close:"Close",confirm:"Confirm",contactAdministratorIfIssuePersists:"Contact your system administrator if the problem persists.",contactDetails:"Contact details",error:"Error",errorCopy:"Sorry, there was a problem displaying this information. You can try to reload this page, or contact the site administrator and quote the error code above.",female:"Female",hideDetails:"Hide details",loading:"Loading",male:"Male",other:"Other",patientIdentifierSticker:"Patient identifier sticker",patientLists:"Patient lists",print:"Print",printError:"Print error",printErrorExplainer:"An error occurred in {{errorLocation}}",printIdentifierSticker:"Print identifier sticker",printing:"Printing",relationships:"Relationships",resetOverrides:"Reset overrides",scriptLoadingFailed:"Error: Script failed to load",scriptLoadingError:"Failed to load overridden script from {{url}}. Please check that the bundled script is available at the expected URL. Click the button below to reset all import map overrides.",seeMoreLists:"See {{count}} more lists",sex:"Sex",showDetails:"Show details",unknown:"Unknown"})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(a)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(a,e))})),o),u=n(84588),c=n.n(u);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=c().default||c();function f(e,t,n,r){return s.t(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({ns:e,defaultValue:n},r))}function d(e,t,n){return i[e]?f("core",e,null!=t?t:i[e],n):(console.error("O3 Core Translations does not provide key '".concat(e,"'. The key itself is being rendered as text.")),e)}s.on("initialized",(function(){window.i18next.loadNamespaces(["core"])}))},93851:(e,t,n)=>{n.d(t,{B:()=>u});var r=n(30491),o=n.n(r),a=n(8790),i=n(59639);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o()(),n=o()(t),r=o()(e),u=n.diff(r,"hours"),c=n.diff(r,"days"),l=n.diff(r,"weeks"),s=n.diff(r,"months"),f=n.diff(r,"years"),d={},p=(0,a.Kd)();if(u<2){var m=n.diff(r,"minutes");d.minutes=m}else if(c<2)d.hours=u;else if(l<4)d.days=c;else if(f<1){var y=n.subtract(l,"weeks").diff(r,"days");d.weeks=l,d.days=y}else if(f<2){var v=n.subtract(s,"months").diff(r,"days");d.months=s,d.days=v}else if(f<18){var b=n.subtract(f,"year").diff(r,"months");d.years=f,d.months=b}else d.years=f;return new i.DurationFormat(p,{style:"short",localeMatcher:"lookup"}).format(d)}},98777:(e,t,n)=>{n.d(t,{B_:()=>r.B,T:()=>d.T,n1:()=>a.n1,ss:()=>u,p6:()=>a.p6,DZ:()=>a.DZ,es:()=>c,mr:()=>a.mr,mk:()=>l,H6:()=>a.H6,_o:()=>p,Kd:()=>a.Kd,DF:()=>i,w9:()=>a.w9,Yv:()=>a.Yv,Gg:()=>o.G,LE:()=>b,sG:()=>a.sG,kN:()=>a.kN,XD:()=>O,aM:()=>s,wU:()=>f.w,if:()=>a.if,nW:()=>a.nW,vU:()=>a.vU,vH:()=>a.vH,R5:()=>a.R5,WD:()=>a.WD,R_:()=>a.R_});var r=n(93851),o=n(53430),a=n(8790);function i(e){return c(s(e,"usual","official"))}function u(e){return i(e)}function c(e){var t;return e?null!==(t=e.text)&&void 0!==t?t:function(e){var t,n=null!==(t=e.given)&&void 0!==t?t:[];return(e.family?n.concat(e.family):n).join(" ")}(e):""}function l(e){return c(e)}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0==n.length&&(n=["usual"]);var o,a=!0,i=!1,u=void 0;try{for(var c,l=function(){var t,n=c.value,r=null===(t=e.name)||void 0===t?void 0:t.find((function(e){return function(e,t){return e.use?e.use===t:"usual"===t}(e,n)}));if(r)return{v:r}},s=n[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var f=l();if("object"==((o=f)&&"undefined"!=typeof Symbol&&o.constructor===Symbol?"symbol":typeof o))return f.v}}catch(e){i=!0,u=e}finally{try{a||null==s.return||s.return()}finally{if(i)throw u}}}var f=n(5243),d=n(61799);function p(e){var t,n={},r=!0,o=!1,a=void 0;try{for(var i,u=Object.keys(e)[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var c=i.value;if(e[c].hasOwnProperty("_default"))n[c]=e[c]._default;else{if(c.startsWith("_"))continue;(t=e[c])&&t.constructor===Object?n[c]=p(e[c]):n[c]=e[c]}}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}var m=n(34969);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t,n,r=(t=e.split("."),n=3,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,u=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){u=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(u)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1],i=r[2];return"".concat(o,".").concat(a,".").concat(i)}function b(e,t){var n=function(e){var t=e.indexOf("-");if(t>=0){var n=v(e.slice(0,t)),r=e.slice(t+1);return"".concat(n,"-").concat(r)}return v(e)}(t);return m.satisfies(n,e,{includePrerelease:!0})}function h(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,u,"next",e)}function u(e){h(a,r,o,i,u,"throw",e)}i(void 0)}))}}function w(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function O(e){return S.apply(this,arguments)}function S(){return S=g((function(e){var t,n,r,o,a,i,u,c=arguments;return w(this,(function(l){switch(l.label){case 0:n=(t=c.length>1&&void 0!==c[1]?c[1]:{}).shouldRetry,r=t.getDelay,o=t.onError,n=null!=n?n:function(e){return function(e,t){return e<=5}(e)},r=null!=r?r:function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e+1:e;return t*Math.pow(2,n)}(e,1e3)},a=0,i=void 0,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,E(r(a))];case 2:return l.sent(),[4,e()];case 3:return[2,l.sent()];case 4:return u=l.sent(),null==o||o(u,a),i=u,[3,5];case 5:if(n(a++))return[3,1];l.label=6;case 6:throw i}}))})),S.apply(this,arguments)}function E(e){return j.apply(this,arguments)}function j(){return(j=g((function(e){return w(this,(function(t){return e<=0?[2]:[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))).apply(this,arguments)}},53430:(e,t,n)=>{function r(e){return!window.offlineEnabled||(null!=e?e:navigator.onLine)}n.d(t,{G:()=>r})},8790:(e,t,n)=>{n.d(t,{DZ:()=>R,H6:()=>C,Kd:()=>M,R5:()=>O,R_:()=>E,WD:()=>w,Yv:()=>b,if:()=>h,kN:()=>I,mr:()=>D,n1:()=>L,nW:()=>j,p6:()=>N,sG:()=>P,vH:()=>g,vU:()=>S,w9:()=>v});var r=n(2981),o=n(86185),a=n(30491),i=n.n(a),u=n(8274),c=n.n(u),l=n(21701),s=n.n(l);function f(e,t){var n=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t);return function(e,t){return t.get?t.get.call(e):t.value}(e,n)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}i().extend(c()),i().extend(s());var y="YYYY-MM-DDTHH:mm:ss.SSSZZ";function v(e){return null!=e&&28===e.trim().length&&"T"===(e=e.trim())[10]&&":"===e[13]&&":"===e[16]&&"."===e[19]&&("+"===e[23]||"-"===e[23])&&i()(e,y).isValid()}function b(e){return i()(e).isToday()}function h(e){return v(e)?i()(e,y).toDate():null}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i()(e);return t&&(n=n.utc()),n.format(y)}function w(e){return i()(e).format("HH:mm")}function O(e){return i().utc(e).format("HH:mm A")}function S(e){return j(e,"DD - MMM - YYYY")}function E(e){return j(e,"DD-MMM")}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MMM-DD";return i()(e).format(t)}function P(e){return i()(e).toDate()}var k={mode:"standard",time:"for today",day:!0,month:!0,year:!0,noToday:!1},A=new WeakMap,x=new(function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n=A,r={writable:!0,value:new Map},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,n),n.set(t,r),f(this,A).set("am","ethiopic")}var t,n;return t=e,(n=[{key:"register",value:function(e,t){f(this,A).set(e,t)}},{key:"getCalendar",value:function(e){if(Boolean(e)){if(e.calendar)return e.calendar;if(e.region){var t="".concat(e.language,"-").concat(e.region);if(f(this,A).has(t))return f(this,A).get(t)}if(e.language&&f(this,A).has(e.language))return f(this,A).get(e.language);var n=new Intl.DateTimeFormat(e.toString()).resolvedOptions().calendar;return f(this,A).set("".concat(e.language).concat(e.region?"-".concat(e.region):""),n),n}}}])&&d(t.prototype,n),e}());function I(e,t){x.register(e,t)}function C(e){var t,n,r=null!=e?e:M();return x.getCalendar((t=r,(null!=(n=Intl.Locale)&&"undefined"!=typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)?r:new Intl.Locale(r)))}function N(e,t){var n,r,o=null!==(n=null==t?void 0:t.locale)&&void 0!==n?n:M(),a=new Intl.Locale(o),u=m({},k,{noToday:"am"===a.language},t),c=u.calendar,l=u.mode,s=u.time,f=u.day,d=u.month,p=u.year,y=u.noToday,v=u.numberingSystem,b={calendar:null!=c?c:C(a),year:p?"numeric":void 0,month:d?"short":void 0,day:f?"2-digit":void 0,numberingSystem:v},h=i()(e).isToday();if(h&&!y)r=(r=new Intl.RelativeTimeFormat(o,{numeric:"auto"}).format(0,"day"))[0].toLocaleUpperCase(o)+r.slice(1);else{"en"===a.language&&(o="en-GB");var g=new Intl.DateTimeFormat(o,b).formatToParts(e);("en"===a.language||"am"===a.language)&&"standard"==l&&p&&f&&(g=g.map(T("-"))),"wide"==l&&(g=g.map(T(" — "))),"ethiopic"===b.calendar&&(g=g.filter((function(e,t,n){return!("era"===e.type||"literal"===e.type&&t<n.length-1&&"era"===n[t+1].type)}))),r=g.map((function(e){return e.value})).join("")}return(!0===s||h&&"for today"===s)&&(r+=", ".concat(D(e))),r}var T=function(e){return function(t,n,r){return"literal"!==t.type||" "!==t.value||n<r.length-1&&"era"===r[n+1].type?t:{type:"literal",value:e}}};function D(e){return e.toLocaleTimeString(M(),{hour:"2-digit",minute:"2-digit"})}function R(e,t){return N(e,(n=m({},t),r=null!=(r={time:!0})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))})),n));var n,r}function M(){var e=window.i18next.language;return"ht"===(e=e.replace("_","-"))&&(e="fr-HT"),e}function L(e,t){var n=C("string"==typeof t?new Intl.Locale(t):t);return n?(0,r.Mw)(e,(0,o.Y)(n)):e}},5243:(e,t,n)=>{function r(e,t){if(e===t||Object.is(e,t))return!0;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if(Array.isArray(t))return!1;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);return r.length===o.length&&r.every((function(n){return e[n]===t[n]}))}n.d(t,{w:()=>r})},61799:(e,t,n)=>{function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.localStorage;try{return e.getItem("test"),!0}catch(e){return!1}}n.d(t,{T:()=>r})}}]);